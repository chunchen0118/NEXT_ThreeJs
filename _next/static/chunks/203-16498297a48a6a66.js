"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{3289:function(e,t,r){r.d(t,{S:function(){return l}}),r(2265);var n=r(8138),o=r(2772);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=0,l=(0,o.Z)(function(e){return n.DefaultLoadingManager.onStart=function(t,r,n){e({active:!0,item:t,loaded:r,total:n,progress:(r-a)/(n-a)*100})},n.DefaultLoadingManager.onLoad=function(){e({active:!1})},n.DefaultLoadingManager.onError=function(t){return e(function(e){var r;return{errors:[].concat(function(e){if(Array.isArray(e))return i(e)}(r=e.errors)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,void 0)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}})},n.DefaultLoadingManager.onProgress=function(t,r,n){r===n&&(a=n),e({active:!0,item:t,loaded:r,total:n,progress:(r-a)/(n-a)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}})},2701:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(2433),o=r(2265),i=r(8138),a=r(4616),l=["args","radius","steps","smoothness","bevelSegments","creaseAngle","children"];function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=o.forwardRef(function(e,t){var r,s=e.args,c=function(e){if(Array.isArray(e))return e}(r=void 0===s?[]:s)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),3!==l.length);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(r,3)||function(e,t){if(e){if("string"==typeof e)return u(e,3);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,3)}}(r,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=c[0],d=void 0===f?1:f,p=c[1],v=void 0===p?1:p,h=c[2],m=void 0===h?1:h,y=e.radius,g=void 0===y?.05:y,b=e.steps,w=void 0===b?1:b,S=e.smoothness,x=void 0===S?4:S,E=e.bevelSegments,P=void 0===E?4:E,O=e.creaseAngle,k=void 0===O?.4:O,A=e.children,T=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,l),C=o.useMemo(function(){var e,t;return e=new i.Shape,t=g-1e-5,e.absarc(1e-5,1e-5,1e-5,-Math.PI/2,-Math.PI,!0),e.absarc(1e-5,v-2*t,1e-5,Math.PI,Math.PI/2,!0),e.absarc(d-2*t,v-2*t,1e-5,Math.PI/2,0,!0),e.absarc(d-2*t,1e-5,1e-5,0,-Math.PI/2,!0),e},[d,v,g]),j=o.useMemo(function(){return{depth:m-2*g,bevelEnabled:!0,bevelSegments:2*P,steps:w,bevelSize:g-1e-5,bevelThickness:g,curveSegments:x}},[m,g,x]),M=o.useRef(null);return o.useLayoutEffect(function(){M.current&&(M.current.center(),(0,a.LZ)(M.current,k))},[C,j]),o.createElement("mesh",(0,n.Z)({ref:t},T),o.createElement("extrudeGeometry",{ref:M,args:[C,j]}),A)})},5682:function(e,t,r){r.d(t,{P:function(){return m}});var n=r(2433),o=r(2265),i=r(8138),a=r(7976),l=parseInt(i.REVISION.replace(/\D+/g,""));function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){function t(){var e,r;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),e=t,r=[{uniforms:{depth:{value:null},opacity:{value:1},attenuation:{value:2.5},anglePower:{value:12},spotPosition:{value:new i.Vector3(0,0,0)},lightColor:{value:new i.Color("white")},cameraNear:{value:0},cameraFar:{value:1},resolution:{value:new i.Vector2(0,0)}},transparent:!0,depthWrite:!1,vertexShader:"\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n        uniform vec3 spotPosition;\n        uniform float attenuation;\n\n        #include <common>\n        #include <logdepthbuf_pars_vertex>\n\n        void main() {\n          // compute intensity\n          vNormal = normalize(normalMatrix * normal);\n          vec4 worldPosition = modelMatrix * vec4(position, 1);\n          vec4 viewPosition = viewMatrix * worldPosition;\n          vViewZ = viewPosition.z;\n\n          vIntensity = 1.0 - saturate(distance(worldPosition.xyz, spotPosition) / attenuation);\n\n          gl_Position = projectionMatrix * viewPosition;\n\n          #include <logdepthbuf_vertex>\n        }\n      ",fragmentShader:"\n        varying vec3 vNormal;\n        varying float vViewZ;\n        varying float vIntensity;\n\n        uniform vec3 lightColor;\n        uniform float anglePower;\n        uniform sampler2D depth;\n        uniform vec2 resolution;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float opacity;\n\n        #include <packing>\n        #include <logdepthbuf_pars_fragment>\n\n        float readDepth(sampler2D depthSampler, vec2 uv) {\n          float fragCoordZ = texture(depthSampler, uv).r;\n\n          // https://github.com/mrdoob/three.js/issues/23072\n          #ifdef USE_LOGDEPTHBUF\n            float viewZ = 1.0 - exp2(fragCoordZ * log(cameraFar + 1.0) / log(2.0));\n          #else\n            float viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n          #endif\n\n          return viewZ;\n        }\n\n        void main() {\n          #include <logdepthbuf_fragment>\n\n          vec3 normal = vec3(vNormal.x, vNormal.y, abs(vNormal.z));\n          float angleIntensity = pow(dot(normal, vec3(0, 0, 1)), anglePower);\n          float intensity = vIntensity * angleIntensity;\n\n          // fades when z is close to sampled depth, meaning the cone is intersecting existing geometry\n          bool isSoft = resolution[0] > 0.0 && resolution[1] > 0.0;\n          if (isSoft) {\n            vec2 uv = gl_FragCoord.xy / resolution;\n            intensity *= smoothstep(0.0, 1.0, vViewZ - readDepth(depth, uv));\n          }\n\n          gl_FragColor = vec4(lightColor, intensity * opacity);\n\n          #include <tonemapping_fragment>\n          #include <".concat(l>=154?"colorspace_fragment":"encodings_fragment",">\n        }\n      ")}],e=s(e),function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?e.apply(this,r):Reflect.construct(e,r||[],s(this).constructor))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(i.ShaderMaterial),d=["opacity","radiusTop","radiusBottom","depthBuffer","color","distance","angle","attenuation","anglePower","volumetric","debug","children"];function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=e.opacity,r=e.radiusTop,n=e.radiusBottom,l=e.depthBuffer,u=e.color,s=e.distance,c=void 0===s?5:s,d=e.angle,v=e.attenuation,h=e.anglePower,m=o.useRef(null),y=(0,a.D)(function(e){return e.size}),g=(0,a.D)(function(e){return e.camera}),b=(0,a.D)(function(e){return e.viewport.dpr}),w=p(o.useState(function(){return new f}),1)[0],S=p(o.useState(function(){return new i.Vector3}),1)[0];r=void 0===r?.1:r,n=void 0===n?7*(void 0===d?.15:d):n,(0,a.F)(function(){w.uniforms.spotPosition.value.copy(m.current.getWorldPosition(S)),m.current.lookAt(m.current.parent.target.getWorldPosition(S))});var x=o.useMemo(function(){var e=new i.CylinderGeometry(r,n,c,128,64,!0);return e.applyMatrix4(new i.Matrix4().makeTranslation(0,-c/2,0)),e.applyMatrix4(new i.Matrix4().makeRotationX(-Math.PI/2)),e},[c,r,n]);return o.createElement(o.Fragment,null,o.createElement("mesh",{ref:m,geometry:x,raycast:function(){return null}},o.createElement("primitive",{object:w,attach:"material","uniforms-opacity-value":void 0===t?1:t,"uniforms-lightColor-value":void 0===u?"white":u,"uniforms-attenuation-value":void 0===v?5:v,"uniforms-anglePower-value":void 0===h?5:h,"uniforms-depth-value":l,"uniforms-cameraNear-value":g.near,"uniforms-cameraFar-value":g.far,"uniforms-resolution-value":l?[y.width*b,y.height*b]:[0,0]})))}var m=o.forwardRef(function(e,t){var r=e.opacity,i=e.radiusTop,a=e.radiusBottom,l=e.depthBuffer,u=e.color,s=void 0===u?"white":u,c=e.distance,f=void 0===c?5:c,p=e.angle,v=void 0===p?.15:p,m=e.attenuation,y=e.anglePower,g=e.volumetric,b=e.debug,w=void 0!==b&&b,S=e.children,x=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,d),E=o.useRef(null);return o.useImperativeHandle(t,function(){return E.current},[]),o.createElement("group",null,w&&E.current&&o.createElement("spotLightHelper",{args:[E.current]}),o.createElement("spotLight",(0,n.Z)({ref:E,angle:v,color:s,distance:f,castShadow:!0},x),(void 0===g||g)&&o.createElement(h,{debug:w,opacity:void 0===r?1:r,radiusTop:i,radiusBottom:a,depthBuffer:l,color:s,distance:f,angle:v,attenuation:void 0===m?5:m,anglePower:void 0===y?5:y})),S&&o.cloneElement(S,{spotlightRef:E,debug:w}))})},3120:function(e,t,r){r.d(t,{o:function(){return W}});var n=r(2433),o=r(2265),i=r(7976),a=r(8138);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["bevelEnabled","bevelSize","bevelThickness","font","height","size","lineHeight","letterSpacing"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){return t=p(t),function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(e,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?t.apply(e,r):Reflect.construct(t,r||[],p(e).constructor))}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t);var o=n.bevelEnabled,i=n.bevelSize,a=n.bevelThickness,l=n.font,s=n.height,p=n.size,v=n.lineHeight,h=n.letterSpacing,m=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(n,u);return(r=void 0===l?f(this,t):f(this,t,[l.generateShapes(e,void 0===p?100:p,{lineHeight:void 0===v?1:v,letterSpacing:void 0===h?0:h}),c(c({},m),{},{bevelEnabled:void 0!==o&&o,bevelSize:void 0===i?8:i,bevelThickness:void 0===a?10:a,depth:void 0===s?50:s})])).type="TextGeometry",d(r)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(a.ExtrudeGeometry),m=r(4616);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function w(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}function x(){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k=Object.defineProperty,A=function(e,t,r){var n;return(n="symbol"!==O(t)?t+"":t)in e?k(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,r},T=function(e){function t(e){var r,n;return g(this,t),r=t,n=[e],r=E(r),function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?r.apply(this,n):Reflect.construct(r,n||[],E(this).constructor))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),w(t,[{key:"load",value:function(e,t,r,n){var o=this,i=new a.FileLoader(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,function(e){if("string"!=typeof e)throw Error("unsupported data type");var r=JSON.parse(e),n=o.parse(r);t&&t(n)},r,n)}},{key:"loadAsync",value:function(e,r){return x(E(t.prototype),"loadAsync",this).call(this,e,r)}},{key:"parse",value:function(e){return new C(e)}}])}(a.Loader),C=w(function e(t){g(this,e),A(this,"data"),this.data=t},[{key:"generateShapes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0,n=[],o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=S(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({letterSpacing:0,lineHeight:1},r),i=function(e,t,r,n){for(var o=Array.from(e),i=t/r.resolution,l=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,u=[],s=0,c=0,f=0;f<o.length;f++){var d=o[f];if("\n"===d)s=0,c-=l*n.lineHeight;else{var p=function(e,t,r,n,o){var i,l,u,s,c,f,d,p,v=o.glyphs[e]||o.glyphs["?"];if(!v){console.error('THREE.Font: character "'+e+'" does not exists in font family '+o.familyName+".");return}var h=new a.ShapePath;if(v.o)for(var m=v._cachedOutline||(v._cachedOutline=v.o.split(" ")),y=0,g=m.length;y<g;)switch(m[y++]){case"m":i=parseInt(m[y++])*t+r,l=parseInt(m[y++])*t+n,h.moveTo(i,l);break;case"l":i=parseInt(m[y++])*t+r,l=parseInt(m[y++])*t+n,h.lineTo(i,l);break;case"q":u=parseInt(m[y++])*t+r,s=parseInt(m[y++])*t+n,c=parseInt(m[y++])*t+r,f=parseInt(m[y++])*t+n,h.quadraticCurveTo(c,f,u,s);break;case"b":u=parseInt(m[y++])*t+r,s=parseInt(m[y++])*t+n,c=parseInt(m[y++])*t+r,f=parseInt(m[y++])*t+n,d=parseInt(m[y++])*t+r,p=parseInt(m[y++])*t+n,h.bezierCurveTo(c,f,d,p,u,s)}return{offsetX:v.ha*t,path:h}}(d,i,s,c,r);p&&(s+=p.offsetX+n.letterSpacing,u.push(p.path))}}return u}(e,t,this.data,o),l=0,u=i.length;l<u;l++)Array.prototype.push.apply(n,i[l].toShapes(!1));return n}}]);A(C,"isFont"),A(C,"type");var j=r(7128);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){R=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(t,r,n,i){var a,l,u=Object.create((r&&r.prototype instanceof m?r:m).prototype);return o(u,"_invoke",{value:(a=new A(i||[]),l=d,function(r,o){if(l===p)throw Error("Generator is already running");if(l===v){if("throw"===r)throw o;return{value:e,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var u=function t(r,n){var o=n.method,i=r.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=e,t(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),h;var a=f(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var l=a.arg;return l?l.done?(n[r.resultName]=l.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):l:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,h)}(i,a);if(u){if(u===h)continue;return u}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===d)throw l=v,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l=p;var s=f(t,n,a);if("normal"===s.type){if(l=a.done?v:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(l=v,a.method="throw",a.arg=s.arg)}})}),u}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var d="suspendedStart",p="executing",v="completed",h={};function m(){}function y(){}function g(){}var b={};s(b,a,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(T([])));S&&S!==r&&n.call(S,a)&&(b=S);var x=g.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function P(e,t){var r;o(this,"_invoke",{value:function(o,i){function a(){return new t(function(r,a){!function r(o,i,a,l){var u=f(e[o],e,i);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==M(c)&&n.call(c,"__await")?t.resolve(c.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(c).then(function(e){s.value=e,a(s)},function(e){return r("throw",e,a,l)})}l(u.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw TypeError(M(t)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},E(P.prototype),s(P.prototype,l,function(){return this}),t.AsyncIterator=P,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new P(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},E(x),s(x,u,"Generator"),s(x,a,function(){return this}),s(x,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function I(e,t,r,n,o,i,a){try{var l=e[i](a),u=l.value}catch(e){r(e);return}l.done?t(u):Promise.resolve(u).then(n,o)}function _(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){I(i,n,o,a,l,"next",e)}function l(e){I(i,n,o,a,l,"throw",e)}a(void 0)})}}var L=null;function N(){return(N=_(R().mark(function e(t){return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=8;break}return e.next=3,fetch(t);case 3:return e.next=5,e.sent.json();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=t;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e){return z.apply(this,arguments)}function z(){return(z=_(R().mark(function e(t){var r;return R().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e){return N.apply(this,arguments)}(t);case 2:return r=e.sent,e.abrupt("return",(L||(L=new T),L.parse(r)));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e){return(0,j.Rq)(D,[e])}F.preload=function(e){return(0,j.MA)(D,[e])},F.clear=function(e){return(0,j.ZH)([e])};var B=["font","letterSpacing","lineHeight","size","height","bevelThickness","bevelSize","bevelEnabled","bevelOffset","bevelSegments","curveSegments","smooth","children"];function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var V=["string","number"],G=function(e){var t="",r=[];return o.Children.forEach(e,function(e){V.includes(H(e))?t+=e+"":r.push(e)}),[t].concat(r)},W=o.forwardRef(function(e,t){var r,a=e.font,l=e.letterSpacing,u=void 0===l?0:l,s=e.lineHeight,c=void 0===s?1:s,f=e.size,d=void 0===f?1:f,p=e.height,v=void 0===p?.2:p,y=e.bevelThickness,g=void 0===y?.1:y,b=e.bevelSize,w=void 0===b?.01:b,S=e.bevelEnabled,x=void 0!==S&&S,E=e.bevelOffset,P=void 0===E?0:E,O=e.bevelSegments,k=void 0===O?4:O,A=e.curveSegments,T=void 0===A?8:A,C=e.smooth,j=e.children,M=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,B);o.useMemo(function(){return(0,i.e)({RenamedTextGeometry:h})},[]);var R=o.useRef(null),I=F(a),_=(0,o.useMemo)(function(){return{font:I,size:d,height:v,bevelThickness:g,bevelSize:w,bevelEnabled:x,bevelSegments:k,bevelOffset:P,curveSegments:T,letterSpacing:u,lineHeight:c}},[I,d,v,g,w,x,k,P,T,u,c]),L=function(e){if(Array.isArray(e))return e}(r=(0,o.useMemo)(function(){return G(j)},[j]))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return U(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,void 0)}}(r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),N=L[0],D=L.slice(1),z=o.useMemo(function(){return[N,_]},[N,_]);return o.useLayoutEffect(function(){C&&(R.current.geometry=(0,m.$1)(R.current.geometry,C),R.current.geometry.computeVertexNormals())},[z,C]),o.useImperativeHandle(t,function(){return R.current},[]),o.createElement("mesh",(0,n.Z)({},M,{ref:R}),o.createElement("renamedTextGeometry",{args:z}),D)})},7853:function(e,t,r){r.d(t,{WL:function(){return s},aL:function(){return u},xu:function(){return l}});var n=r(2433),o=r(2265),i=["args","children"];function a(e,t){var r=e+"Geometry";return o.forwardRef(function(e,a){var l=e.args,u=e.children,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,i),c=o.useRef(null);return o.useImperativeHandle(a,function(){return c.current}),o.useLayoutEffect(function(){null==t||t(c.current)}),o.createElement("mesh",(0,n.Z)({ref:c},s),o.createElement(r,{attach:"geometry",args:l}),u)})}var l=a("box"),u=a("sphere"),s=a("extrude")},6704:function(e,t,r){r.d(t,{v:function(){return u}});var n=r(2265),o=r(8138),i=r(7976);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=n.useRef(),l=a(n.useState(function(){return t?t instanceof o.Object3D?{current:t}:t:r}),1)[0],u=a(n.useState(function(){return new o.AnimationMixer(void 0)}),1)[0];n.useLayoutEffect(function(){t&&(l.current=t instanceof o.Object3D?t:t.current),u._root=l.current});var s=n.useRef({}),c=n.useMemo(function(){var t={};return e.forEach(function(e){return Object.defineProperty(t,e.name,{enumerable:!0,get:function(){if(l.current)return s.current[e.name]||(s.current[e.name]=u.clipAction(e,l.current))},configurable:!0})}),{ref:l,clips:e,actions:t,names:e.map(function(e){return e.name}),mixer:u}},[e]);return(0,i.F)(function(e,t){return u.update(t)}),n.useEffect(function(){var e=l.current;return function(){s.current={},u.stopAllAction(),Object.values(c.actions).forEach(function(t){e&&u.uncacheAction(t,e)})}},[e]),c}},5918:function(e,t,r){r.d(t,{V:function(){return P}});var n,o,i=r(2433),a=r(2265),l=r(4040),u=r(8138),s=r(7976),c=["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","castShadow","receiveShadow","material","geometry","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=new u.Vector3,m=new u.Vector3,y=new u.Vector3,g=new u.Vector2;function b(e,t,r){var n=h.setFromMatrixPosition(e.matrixWorld);n.project(t);var o=r.width/2,i=r.height/2;return[n.x*o+o,-(n.y*i)+i]}var w=function(e){return 1e-10>Math.abs(e)?0:e};function S(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="matrix3d(",o=0;16!==o;o++)n+=w(t[o]*e.elements[o])+(15!==o?",":")");return r+n}var x=(n=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],function(e){return S(e,n)}),E=(o=function(e){return[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1]},function(e,t){return S(e,o(t),"translate(-50%,-50%)")}),P=a.forwardRef(function(e,t){var r,n=e.children,o=e.eps,f=void 0===o?.001:o,S=e.style,P=e.className,O=e.prepend,k=e.center,A=e.fullscreen,T=e.portal,C=e.distanceFactor,j=e.sprite,M=void 0!==j&&j,R=e.transform,I=void 0!==R&&R,_=e.occlude,L=e.onOcclude,N=e.castShadow,D=e.receiveShadow,z=e.material,F=e.geometry,B=e.zIndexRange,U=void 0===B?[16777271,0]:B,H=e.calculatePosition,V=void 0===H?b:H,G=e.as,W=void 0===G?"div":G,K=e.wrapperClass,X=e.pointerEvents,q=void 0===X?"auto":X,Q=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c),$=(0,s.D)(),Z=$.gl,Y=$.camera,J=$.scene,ee=$.size,et=$.raycaster,er=$.events,en=$.viewport,eo=(function(e){if(Array.isArray(e))return e}(r=a.useState(function(){return document.createElement(W)}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),1!==l.length);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(r,1)||function(e,t){if(e){if("string"==typeof e)return p(e,1);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,1)}}(r,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],ei=a.useRef(),ea=a.useRef(null),el=a.useRef(0),eu=a.useRef([0,0]),es=a.useRef(null),ec=a.useRef(null),ef=(null==T?void 0:T.current)||er.connected||Z.domElement.parentNode,ed=a.useRef(null),ep=a.useRef(!1),ev=a.useMemo(function(){var e;return _&&"blending"!==_||Array.isArray(_)&&_.length&&(e=_[0])&&"object"===v(e)&&"current"in e},[_]);a.useLayoutEffect(function(){var e=Z.domElement;_&&"blending"===_?(e.style.zIndex="".concat(Math.floor(U[0]/2)),e.style.position="absolute",e.style.pointerEvents="none"):(e.style.zIndex=null,e.style.position=null,e.style.pointerEvents=null)},[_]),a.useLayoutEffect(function(){if(ea.current){var e=ei.current=l.createRoot(eo);if(J.updateMatrixWorld(),I)eo.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{var t=V(ea.current,Y,ee);eo.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(t[0],"px,").concat(t[1],"px,0);transform-origin:0 0;")}return ef&&(O?ef.prepend(eo):ef.appendChild(eo)),function(){ef&&ef.removeChild(eo),e.unmount()}}},[ef,I]),a.useLayoutEffect(function(){K&&(eo.className=K)},[K]);var eh=a.useMemo(function(){return I?{position:"absolute",top:0,left:0,width:ee.width,height:ee.height,transformStyle:"preserve-3d",pointerEvents:"none"}:d(d({position:"absolute",transform:k?"translate3d(-50%,-50%,0)":"none"},A&&{top:-ee.height/2,left:-ee.width/2,width:ee.width,height:ee.height}),S)},[S,k,A,ee,I]),em=a.useMemo(function(){return{position:"absolute",pointerEvents:q}},[q]);a.useLayoutEffect(function(){var e,r;ep.current=!1,I?null==(e=ei.current)||e.render(a.createElement("div",{ref:es,style:eh},a.createElement("div",{ref:ec,style:em},a.createElement("div",{ref:t,className:P,style:S,children:n})))):null==(r=ei.current)||r.render(a.createElement("div",{ref:t,style:eh,className:P,children:n}))});var ey=a.useRef(!0);(0,s.F)(function(e){if(ea.current){Y.updateMatrixWorld(),ea.current.updateWorldMatrix(!0,!1);var t=I?eu.current:V(ea.current,Y,ee);if(I||Math.abs(el.current-Y.zoom)>f||Math.abs(eu.current[0]-t[0])>f||Math.abs(eu.current[1]-t[1])>f){var r,n,o,i,a,l=(r=ea.current,n=h.setFromMatrixPosition(r.matrixWorld),o=m.setFromMatrixPosition(Y.matrixWorld),i=n.sub(o),a=Y.getWorldDirection(y),i.angleTo(a)>Math.PI/2),s=!1;ev&&(Array.isArray(_)?s=_.map(function(e){return e.current}):"blending"!==_&&(s=[J]));var c=ey.current;if(s){var d=function(e,t,r,n){var o=h.setFromMatrixPosition(e.matrixWorld),i=o.clone();i.project(t),g.set(i.x,i.y),r.setFromCamera(g,t);var a=r.intersectObjects(n,!0);if(a.length){var l=a[0].distance;return o.distanceTo(r.ray.origin)<l}return!0}(ea.current,Y,et,s);ey.current=d&&!l}else ey.current=!l;c!==ey.current&&(L?L(!ey.current):eo.style.display=ey.current?"block":"none");var p=Math.floor(U[0]/2),v=_?ev?[U[0],p]:[p-1,0]:U;if(eo.style.zIndex="".concat(function(e,t,r){if(t instanceof u.PerspectiveCamera||t instanceof u.OrthographicCamera){var n=h.setFromMatrixPosition(e.matrixWorld),o=m.setFromMatrixPosition(t.matrixWorld),i=n.distanceTo(o),a=(r[1]-r[0])/(t.far-t.near),l=r[1]-a*t.far;return Math.round(a*i+l)}}(ea.current,Y,v)),I){var b=ee.width/2,S=ee.height/2,P=Y.projectionMatrix.elements[5]*S,O=Y.isOrthographicCamera,k=Y.top,A=Y.left,T=Y.bottom,j=Y.right,R=x(Y.matrixWorldInverse),N=O?"scale(".concat(P,")translate(").concat(w(-(j+A)/2),"px,").concat(w((k+T)/2),"px)"):"translateZ(".concat(P,"px)"),D=ea.current.matrixWorld;M&&((D=Y.matrixWorldInverse.clone().transpose().copyPosition(D).scale(ea.current.scale)).elements[3]=D.elements[7]=D.elements[11]=0,D.elements[15]=1),eo.style.width=ee.width+"px",eo.style.height=ee.height+"px",eo.style.perspective=O?"":"".concat(P,"px"),es.current&&ec.current&&(es.current.style.transform="".concat(N).concat(R,"translate(").concat(b,"px,").concat(S,"px)"),ec.current.style.transform=E(D,1/((C||10)/400)))}else{var z=void 0===C?1:function(e,t){if(t instanceof u.OrthographicCamera)return t.zoom;if(!(t instanceof u.PerspectiveCamera))return 1;var r=h.setFromMatrixPosition(e.matrixWorld),n=m.setFromMatrixPosition(t.matrixWorld);return 1/(2*Math.tan(t.fov*Math.PI/180/2)*r.distanceTo(n))}(ea.current,Y)*C;eo.style.transform="translate3d(".concat(t[0],"px,").concat(t[1],"px,0) scale(").concat(z,")")}eu.current=t,el.current=Y.zoom}}if(!ev&&ed.current&&!ep.current){if(I){if(es.current){var B=es.current.children[0];if(null!=B&&B.clientWidth&&null!=B&&B.clientHeight){if(Y.isOrthographicCamera||F)Q.scale&&(Array.isArray(Q.scale)?Q.scale instanceof u.Vector3?ed.current.scale.copy(Q.scale.clone().divideScalar(1)):ed.current.scale.set(1/Q.scale[0],1/Q.scale[1],1/Q.scale[2]):ed.current.scale.setScalar(1/Q.scale));else{var H=(C||10)/400,G=B.clientWidth*H,W=B.clientHeight*H;ed.current.scale.set(G,W,1)}ep.current=!0}}}else{var K=eo.children[0];if(null!=K&&K.clientWidth&&null!=K&&K.clientHeight){var X=1/en.factor,q=K.clientWidth*X,$=K.clientHeight*X;ed.current.scale.set(q,$,1),ep.current=!0}ed.current.lookAt(e.camera.position)}}});var eg=a.useMemo(function(){return{vertexShader:I?void 0:'\n          /*\n            This shader is from the THREE\'s SpriteMaterial.\n            We need to turn the backing plane into a Sprite\n            (make it always face the camera) if "transfrom"\n            is false.\n          */\n          #include <common>\n\n          void main() {\n            vec2 center = vec2(0., 1.);\n            float rotation = 0.0;\n\n            // This is somewhat arbitrary, but it seems to work well\n            // Need to figure out how to derive this dynamically if it even matters\n            float size = 0.03;\n\n            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n            vec2 scale;\n            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n            bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n            if ( isPerspective ) scale *= - mvPosition.z;\n\n            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;\n            vec2 rotatedPosition;\n            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n            mvPosition.xy += rotatedPosition;\n\n            gl_Position = projectionMatrix * mvPosition;\n          }\n      ',fragmentShader:"\n        void main() {\n          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        }\n      "}},[I]);return a.createElement("group",(0,i.Z)({},Q,{ref:ea}),_&&!ev&&a.createElement("mesh",{castShadow:N,receiveShadow:D,ref:ed},F||a.createElement("planeGeometry",null),z||a.createElement("shaderMaterial",{side:u.DoubleSide,vertexShader:eg.vertexShader,fragmentShader:eg.fragmentShader})))})},7976:function(e,t,r){r.d(t,{A:function(){return eP},B:function(){return Q},D:function(){return ek},E:function(){return $},F:function(){return eA},H:function(){return ej},a:function(){return X},b:function(){return eB},c:function(){return eG},d:function(){return eH},e:function(){return H},i:function(){return K},u:function(){return q}});var n,o,i,a,l,u=r(8138),s=r(2265),c=r(6462),f=r(2772),d=r(7128),p=r(7437),v=r(7410),h=r.n(v),m=r(8324),y=r(1481),g=["args","attach"],b=["args","children"],w=["args","children"],S=["children","key","ref"],x=["children","key","ref"],E=["params"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){k(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k(e,t,r){return(t=T(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==A(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return R(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||D(e,t)||M()}function M(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e){if(Array.isArray(e))return e}function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=D(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function _(e,t,r){return(_=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&L(o,r.prototype),o}:Reflect.construct.bind()).apply(null,arguments)}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){return function(e){if(Array.isArray(e))return F(e)}(e)||z(e)||D(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}}function z(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function B(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var U={},H=function(e){Object.assign(U,e)},V=function(e){return"colorSpace"in e||"outputColorSpace"in e},G=function(){var e;return null!=(e=U.ColorManagement)?e:null},W=function(e){return e&&e.isOrthographicCamera},K=function(e){return e&&e.hasOwnProperty("current")},X=null!=(n=window.document)&&n.createElement||(null==(o=window.navigator)?void 0:o.product)==="ReactNative"?s.useLayoutEffect:s.useEffect;function q(e){var t=s.useRef(e);return X(function(){t.current=e},[e]),t}function Q(e){var t=e.set;return X(function(){return t(new Promise(function(){return null})),function(){return t(!1)}},[t]),null}var $=function(e){var t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r);for(var e,t,n,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r,n=[].concat(i),t=C(t),(e=function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?t.apply(this,n):Reflect.construct(t,n||[],C(this).constructor))).state={error:!1},e}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(r,e),t=[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}(s.Component);$.getDerivedStateFromError=function(){return{error:!0}};var Z="__default",Y=new Map;function J(e){var t,r=null!=(t=window.devicePixelRatio)?t:2;return Array.isArray(e)?Math.min(Math.max(e[0],r),e[1]):e}var ee=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function et(e){for(var t=e.__r3f.root;t.getState().previousRoot;)t=t.getState().previousRoot;return t}var er={obj:function(e){return e===Object(e)&&!er.arr(e)&&"function"!=typeof e},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},boo:function(e){return"boolean"==typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.arrays,i=void 0===o?"shallow":o,a=n.objects,l=void 0===a?"reference":a,u=n.strict,s=void 0===u||u;if(A(e)!==A(t)||!!e!=!!t)return!1;if(er.str(e)||er.num(e)||er.boo(e))return e===t;var c=er.obj(e);if(c&&"reference"===l)return e===t;var f=er.arr(e);if(f&&"reference"===i)return e===t;if((f||c)&&e===t)return!0;for(r in e)if(!(r in t))return!1;if(c&&"shallow"===i&&"shallow"===l){for(r in s?t:e)if(!er.equ(e[r],t[r],{strict:s,objects:"reference"}))return!1}else for(r in s?t:e)if(e[r]!==t[r])return!1;if(er.und(r)){if(f&&0===e.length&&0===t.length||c&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function en(e,t){return e.__r3f=O({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t),e}function eo(e,t){var r=e;if(!t.includes("-"))return{target:r,key:t};var n=t.split("-"),o=n.pop();return{target:r=n.reduce(function(e,t){return e[t]},e),key:o}}var ei=/-\d+$/;function ea(e,t,r){if(er.str(r)){if(ei.test(r)){var n=eo(e,r.replace(ei,"")),o=n.target,i=n.key;Array.isArray(o[i])||(o[i]=[])}var a=eo(e,r),l=a.target,u=a.key;t.__r3f.previousAttach=l[u],l[u]=t}else t.__r3f.previousAttach=r(e,t)}function el(e,t,r){var n,o;if(er.str(r)){var i=eo(e,r),a=i.target,l=i.key,u=t.__r3f.previousAttach;void 0===u?delete a[l]:a[l]=u}else null==(n=t.__r3f)||null==n.previousAttach||n.previousAttach(e,t);null==(o=t.__r3f)||delete o.previousAttach}function eu(e,t){t.children,t.key,t.ref;var r=B(t,S),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=(n.children,n.key,n.ref,B(n,x)),i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.__r3f,l=Object.entries(r),u=[];if(i)for(var s=Object.keys(o),c=0;c<s.length;c++)r.hasOwnProperty(s[c])||l.unshift([s[c],Z+"remove"]);l.forEach(function(t){var n,i=j(t,2),a=i[0],l=i[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==a)&&!er.equ(l,o[a])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(a))return u.push([a,l,!0,[]]);var s=[];for(var c in a.includes("-")&&(s=a.split("-")),u.push([a,l,!1,s]),r){var f=r[c];c.startsWith("".concat(a,"-"))&&u.push([c,f,!1,c.split("-")])}}});var f=O({},r);return null!=a&&a.memoizedProps&&null!=a&&a.memoizedProps.args&&(f.args=a.memoizedProps.args),null!=a&&a.memoizedProps&&null!=a&&a.memoizedProps.attach&&(f.attach=a.memoizedProps.attach),{memoized:f,changes:u}}var es=void 0!==y&&!1;function ec(e,t){var r=e.__r3f,n=null==r?void 0:r.root,o=null==n?void 0:null==n.getState?void 0:n.getState(),i=t&&t.memoized&&t.changes?t:eu(e,t),a=i.memoized,l=i.changes,s=null==r?void 0:r.eventCount;e.__r3f&&(e.__r3f.memoizedProps=a);for(var c=0;c<l.length;c++){var f,d,p=j(l[c],4),v=p[0],h=p[1],m=p[2],y=p[3];if(V(e)){var g="srgb",b="srgb-linear";"encoding"===v?(v="colorSpace",h=3001===h?g:b):"outputEncoding"===v&&(v="outputColorSpace",h=3001===h?g:b)}var w=e,S=w[v];if(y.length&&!((S=y.reduce(function(e,t){return e[t]},e))&&S.set)){var x,E=R(x=y.reverse())||z(x)||D(x)||M(),P=E[0];w=E.slice(1).reverse().reduce(function(e,t){return e[t]},e),v=P}if(h===Z+"remove"){if(w.constructor){var O=Y.get(w.constructor);O||(O=new w.constructor,Y.set(w.constructor,O)),h=O[v]}else h=0}if(m&&r)h?r.handlers[v]=h:delete r.handlers[v],r.eventCount=Object.keys(r.handlers).length;else if(S&&S.set&&(S.copy||S instanceof u.Layers)){if(Array.isArray(h))S.fromArray?S.fromArray(h):(d=S).set.apply(d,N(h));else if(S.copy&&h&&h.constructor&&(es?S.constructor.name===h.constructor.name:S.constructor===h.constructor))S.copy(h);else if(void 0!==h){var k=S instanceof u.Color;!k&&S.setScalar?S.setScalar(h):S instanceof u.Layers&&h instanceof u.Layers?S.mask=h.mask:S.set(h),!G()&&o&&!o.linear&&k&&S.convertSRGBToLinear()}}else if(w[v]=h,w[v]instanceof u.Texture&&w[v].format===u.RGBAFormat&&w[v].type===u.UnsignedByteType&&o){var A=w[v];V(A)&&V(o.gl)?A.colorSpace=o.gl.outputColorSpace:A.encoding=o.gl.outputEncoding}ef(e)}if(r&&r.parent&&e.raycast&&s!==r.eventCount){var T=et(e).getState().internal,C=T.interaction.indexOf(e);C>-1&&T.interaction.splice(C,1),r.eventCount&&T.interaction.push(e)}return!(1===l.length&&"onUpdate"===l[0][0])&&l.length&&null!=(f=e.__r3f)&&f.parent&&ed(e),e}function ef(e){var t,r,n=null==(t=e.__r3f)?void 0:null==(r=t.root)?void 0:null==r.getState?void 0:r.getState();n&&0===n.internal.frames&&n.invalidate()}function ed(e){null==e.onUpdate||e.onUpdate(e)}function ep(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function ev(e,t,r,n){var o=r.get(t);o&&(r.delete(t),0===r.size&&(e.delete(n),o.target.releasePointerCapture(n)))}var eh=function(e){return!!(null!=e&&e.render)},em=s.createContext(null),ey=function(e,t){var r=(0,f.Z)(function(r,n){var o=new u.Vector3,i=new u.Vector3,a=new u.Vector3;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n().size,l=r.width,s=r.height,c=r.top,f=r.left,d=l/s;t instanceof u.Vector3?a.copy(t):a.set.apply(a,N(t));var p=e.getWorldPosition(o).distanceTo(a);if(W(e))return{width:l/e.zoom,height:s/e.zoom,top:c,left:f,factor:1,distance:p,aspect:d};var v=2*Math.tan(e.fov*Math.PI/180/2)*p,h=l/s*v;return{width:h,height:v,top:c,left:f,factor:l/h,distance:p,aspect:d}}var c=void 0,f=function(e){return r(function(t){return{performance:O(O({},t.performance),{},{current:e})}})},d=new u.Vector2;return{set:r,get:n,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(n(),t)},advance:function(e,r){return t(e,r,n())},legacy:!1,linear:!1,flat:!1,controls:null,clock:new u.Clock,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=n();c&&clearTimeout(c),e.performance.current!==e.performance.min&&f(e.performance.min),c=setTimeout(function(){return f(n().performance.max)},e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:function(e){return r(function(t){return O(O({},t),{},{events:O(O({},t.events),e)})})},setSize:function(e,t,o,a,u){var s=n().camera,c={width:e,height:t,top:a||0,left:u||0,updateStyle:o};r(function(e){return{size:c,viewport:O(O({},e.viewport),l(s,i,c))}})},setDpr:function(e){return r(function(t){var r=J(e);return{viewport:O(O({},t.viewport),{},{dpr:r,initialDpr:t.viewport.initialDpr||r})}})},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=n().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r(function(){return{frameloop:e}})},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:s.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,r){var o=n().internal;return o.priority=o.priority+(t>0?1:0),o.subscribers.push({ref:e,priority:t,store:r}),o.subscribers=o.subscribers.sort(function(e,t){return e.priority-t.priority}),function(){var r=n().internal;null!=r&&r.subscribers&&(r.priority=r.priority-(t>0?1:0),r.subscribers=r.subscribers.filter(function(t){return t.ref!==e}))}}}}}),n=r.getState(),o=n.size,i=n.viewport.dpr,a=n.camera;return r.subscribe(function(){var e=r.getState(),t=e.camera,n=e.size,l=e.viewport,u=e.gl,s=e.set;if(n.width!==o.width||n.height!==o.height||l.dpr!==i){o=n,i=l.dpr,t.manual||(W(t)?(t.left=-(n.width/2),t.right=n.width/2,t.top=n.height/2,t.bottom=-(n.height/2)):t.aspect=n.width/n.height,t.updateProjectionMatrix(),t.updateMatrixWorld()),u.setPixelRatio(l.dpr);var c,f=null!=(c=n.updateStyle)?c:"undefined"!=typeof HTMLCanvasElement&&u.domElement instanceof HTMLCanvasElement;u.setSize(n.width,n.height,f)}t!==a&&(a=t,s(function(e){return{viewport:O(O({},e.viewport),e.viewport.getCurrentViewport(t))}}))}),r.subscribe(function(t){return e(t)}),r},eg=new Set,eb=new Set,ew=new Set;function eS(e,t){if(e.size){var r,n=I(e.values());try{for(n.s();!(r=n.n()).done;)(0,r.value.callback)(t)}catch(e){n.e(e)}finally{n.f()}}}function ex(e,t){switch(e){case"before":return eS(eg,t);case"after":return eS(eb,t);case"tail":return eS(ew,t)}}function eE(e,t,r){var n=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(n=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),a=t.internal.subscribers,i=0;i<a.length;i++)(l=a[i]).ref.current(l.store.getState(),n,r);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function eP(e){var t=s.useRef(null);return X(function(){t.current=e.current.__r3f},[e]),t}function eO(){var e=s.useContext(em);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function ek(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return eO()(e,t)}function eA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=eO(),n=r.getState().internal.subscribe,o=q(e);return X(function(){return n(o,t,r)},[t,n,r]),null}var eT=new WeakMap;function eC(e,t){return function(r){var n=eT.get(r);n||(n=new r,eT.set(r,n)),e&&e(n);for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return Promise.all(i.map(function(e){return new Promise(function(r,o){return n.load(e,function(e){if(e.scene){var t,n;Object.assign(e,(t=e.scene,n={nodes:{},materials:{}},t&&t.traverse(function(e){e.name&&(n.nodes[e.name]=e),e.material&&!n.materials[e.material.name]&&(n.materials[e.material.name]=e.material)}),n))}r(e)},t,function(t){return o(Error("Could not load ".concat(e,": ").concat(null==t?void 0:t.message)))})})}))}}function ej(e,t,r,n){var o=Array.isArray(t)?t:[t],i=(0,d.Rq)(eC(r,n),[e].concat(N(o)),{equal:er.equ});return Array.isArray(t)?i:i[0]}ej.preload=function(e,t,r){var n=Array.isArray(t)?t:[t];return(0,d.MA)(eC(r),[e].concat(N(n)))},ej.clear=function(e,t){var r=Array.isArray(t)?t:[t];return(0,d.ZH)([e].concat(N(r)))};var eM=new Map,eR=function(e){var t,r,n,o=!1,i=!1;function a(l){r=requestAnimationFrame(a),o=!0,t=0,ex("before",l),i=!0;var u,s,c=I(e.values());try{for(c.s();!(s=c.n()).done;)(n=s.value.store.getState()).internal.active&&("always"===n.frameloop||n.internal.frames>0)&&!(null!=(u=n.gl.xr)&&u.isPresenting)&&(t+=eE(l,n))}catch(e){c.e(e)}finally{c.f()}if(i=!1,ex("after",l),0===t)return ex("tail",l),o=!1,cancelAnimationFrame(r)}return{loop:a,invalidate:function t(r){var n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!r)return e.forEach(function(e){return t(e.store.getState(),l)});null!=(n=r.gl.xr)&&n.isPresenting||!r.internal.active||"never"===r.frameloop||(l>1?r.internal.frames=Math.min(60,r.internal.frames+l):i?r.internal.frames=2:r.internal.frames=1,o||(o=!0,requestAnimationFrame(a)))},advance:function(t){var r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(r&&ex("before",t),n)eE(t,n,o);else{var i,a=I(e.values());try{for(a.s();!(i=a.n()).done;){var l=i.value;eE(t,l.store.getState())}}catch(e){a.e(e)}finally{a.f()}}r&&ex("after",t)}}}(eM),eI=eR.invalidate,e_=eR.advance,eL=function(e,t){function r(e,t,r){var n,o=t.args,i=void 0===o?[]:o,a=t.attach,l=B(t,g),s="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===l.object)throw Error("R3F: Primitives without 'object' are invalid!");n=en(l.object,{type:e,root:r,attach:a,primitive:!0})}else{var c=U[s];if(!c)throw Error("R3F: ".concat(s," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(i))throw Error("R3F: The args prop must be an array!");n=en(_(c,N(i)),{type:e,root:r,attach:a,memoizedProps:{args:i}})}return void 0===n.__r3f.attach&&(n instanceof u.BufferGeometry?n.__r3f.attach="geometry":n instanceof u.Material&&(n.__r3f.attach="material")),"inject"!==s&&ec(n,l),n}function n(e,t){var r,n,o=!1;t&&(null!=(r=t.__r3f)&&r.attach?ea(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),o=!0),o||null==(n=e.__r3f)||n.objects.push(t),t.__r3f||en(t,{}),t.__r3f.parent=e,ed(t),ef(t))}function o(e,t,r){var n,o,i=!1;if(t){if(null!=(n=t.__r3f)&&n.attach)ea(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});var a=e.children.filter(function(e){return e!==t}),l=a.indexOf(r);e.children=[].concat(N(a.slice(0,l)),[t],N(a.slice(l))),i=!0}i||null==(o=e.__r3f)||o.objects.push(t),t.__r3f||en(t,{}),t.__r3f.parent=e,ed(t),ef(t)}}function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&N(e).forEach(function(e){return a(t,e,r)})}function a(e,t,r){if(t){t.__r3f&&(t.__r3f.parent=null),null!=(o=e.__r3f)&&o.objects&&(e.__r3f.objects=e.__r3f.objects.filter(function(e){return e!==t})),null!=(a=t.__r3f)&&a.attach?el(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.remove(t),null!=(u=t.__r3f)&&u.root&&((n=et(t).getState().internal).interaction=n.interaction.filter(function(e){return e!==t}),n.initialHits=n.initialHits.filter(function(e){return e!==t}),n.hovered.forEach(function(e,r){(e.eventObject===t||e.object===t)&&n.hovered.delete(r)}),n.capturedMap.forEach(function(e,r){ev(n.capturedMap,t,e,r)})));var n,o,a,l,u,s,c=null==(l=t.__r3f)?void 0:l.primitive,f=!c&&(void 0===r?null!==t.dispose:r);if(c||(i(null==(s=t.__r3f)?void 0:s.objects,t,f),i(t.children,t,f)),delete t.__r3f,f&&t.dispose&&"Scene"!==t.type){var d=function(){try{t.dispose()}catch(e){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?(0,m.unstable_scheduleCallback)(m.unstable_IdlePriority,d):d()}ef(e)}}var l=function(){return console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.")};return{reconciler:h()({createInstance:r,removeChild:a,appendChild:n,appendInitialChild:n,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:function(e,t){if(t){var r=e.getState().scene;r.__r3f&&(r.__r3f.root=e,n(r,t))}},removeChildFromContainer:function(e,t){t&&a(e.getState().scene,t)},insertInContainerBefore:function(e,t,r){if(t&&r){var n=e.getState().scene;n.__r3f&&o(n,t,r)}},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate:function(e,t,r,n){if((null!=(o=null==e?void 0:e.__r3f)?o:{}).primitive&&n.object&&n.object!==e)return[!0];var o,i=n.args,a=void 0===i?[]:i,l=(n.children,B(n,b)),u=r.args,s=void 0===u?[]:u,c=(r.children,B(r,w));if(!Array.isArray(a))throw Error("R3F: the args prop must be an array!");if(a.some(function(e,t){return e!==s[t]}))return[!0];var f=eu(e,l,c,!0);return f.changes.length?[!1,f]:null},commitUpdate:function(e,t,o,i,l,u){var s=j(t,2),c=s[0],f=s[1];c?function(e,t,o,i){var l=null==(s=e.__r3f)?void 0:s.parent;if(l){var u=r(t,o,e.__r3f.root);if(e.children){var s,c,f=I(e.children);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.__r3f&&n(u,d)}}catch(e){f.e(e)}finally{f.f()}e.children=e.children.filter(function(e){return!e.__r3f})}e.__r3f.objects.forEach(function(e){return n(u,e)}),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||a(l,e),u.parent&&(u.__r3f.autoRemovedBeforeAppend=!0),n(l,u),u.raycast&&u.__r3f.eventCount&&et(u).getState().internal.interaction.push(u),[i,i.alternate].forEach(function(e){null!==e&&(e.stateNode=u,e.ref&&("function"==typeof e.ref?e.ref(u):e.ref.current=u))})}}(e,o,l,u):ec(e,f)},commitMount:function(e,t,r,n){var o,i=null!=(o=e.__r3f)?o:{};e.raycast&&i.handlers&&i.eventCount&&et(e).getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},prepareForCommit:function(){return null},preparePortalMount:function(e){return en(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},hideInstance:function(e){var t,r=null!=(t=e.__r3f)?t:{},n=r.attach,o=r.parent;n&&o&&el(o,e,n),e.isObject3D&&(e.visible=!1),ef(e)},unhideInstance:function(e,t){var r,n=null!=(r=e.__r3f)?r:{},o=n.attach,i=n.parent;o&&i&&ea(i,e,o),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),ef(e)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:function(){return t?t():c.DefaultEventPriority},beforeActiveInstanceBlur:function(){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},now:"undefined"!=typeof performance&&er.fun(performance.now)?performance.now:er.fun(Date.now)?Date.now:function(){return 0},scheduleTimeout:er.fun(setTimeout)?setTimeout:void 0,cancelTimeout:er.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ec}}(0,function(){var e,t="undefined"!=typeof self&&self||window;if(!t)return c.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return c.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return c.ContinuousEventPriority;default:return c.DefaultEventPriority}}),eN=eL.reconciler,eD=eL.applyProps,ez={objects:"shallow",strict:!1},eF=function(e,t){var r="function"==typeof e?e(t):e;return eh(r)?r:new u.WebGLRenderer(O({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function eB(e){var t,r,n=eM.get(e),o=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");var a="function"==typeof reportError?reportError:console.error,l=i||ey(eI,e_),s=o||eN.createContainer(l,c.ConcurrentRoot,null,!1,null,"",a,null);n||eM.set(e,{fiber:s,store:l});var f=!1;return{configure:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.gl,i=n.size,a=n.scene,s=n.events,c=n.onCreated,d=n.shadows,p=void 0!==d&&d,v=n.linear,h=void 0!==v&&v,m=n.flat,y=void 0!==m&&m,g=n.legacy,b=void 0!==g&&g,w=n.orthographic,S=n.frameloop,x=void 0===S?"always":S,P=n.dpr,k=void 0===P?[1,2]:P,A=n.performance,T=n.raycaster,C=n.camera,j=n.onPointerMissed,M=l.getState(),R=M.gl;M.gl||M.set({gl:R=eF(o,e)});var I=M.raycaster;I||M.set({raycaster:I=new u.Raycaster});var _=T||{},L=_.params,N=B(_,E);if(er.equ(N,I,ez)||eD(I,O({},N)),er.equ(L,I.params,ez)||eD(I,{params:O(O({},I.params),L)}),!M.camera||M.camera===r&&!er.equ(r,C,ez)){r=C;var D=C instanceof u.Camera,z=D?C:void 0!==w&&w?new u.OrthographicCamera(0,0,0,0,.1,1e3):new u.PerspectiveCamera(75,0,.1,1e3);D||(z.position.z=5,C&&(eD(z,C),("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(z.manual=!0,z.updateProjectionMatrix())),M.camera||null!=C&&C.rotation||z.lookAt(0,0,0)),M.set({camera:z}),I.camera=z}if(M.scene||(a instanceof u.Scene?F=a:(F=new u.Scene,a&&eD(F,a)),M.set({scene:en(F)})),!M.xr){var F,U,H=function(e,t){var r=l.getState();"never"!==r.frameloop&&e_(e,!0,r,t)},V=function(){var e=l.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?H:null),e.gl.xr.isPresenting||eI(e)},W={connect:function(){var e=l.getState().gl;e.xr.addEventListener("sessionstart",V),e.xr.addEventListener("sessionend",V)},disconnect:function(){var e=l.getState().gl;e.xr.removeEventListener("sessionstart",V),e.xr.removeEventListener("sessionend",V)}};"function"==typeof(null==(U=R.xr)?void 0:U.addEventListener)&&W.connect(),M.set({xr:W})}if(R.shadowMap){var K=R.shadowMap.enabled,X=R.shadowMap.type;if(R.shadowMap.enabled=!!p,er.boo(p))R.shadowMap.type=u.PCFSoftShadowMap;else if(er.str(p)){var q,Q={basic:u.BasicShadowMap,percentage:u.PCFShadowMap,soft:u.PCFSoftShadowMap,variance:u.VSMShadowMap};R.shadowMap.type=null!=(q=Q[p])?q:u.PCFSoftShadowMap}else er.obj(p)&&Object.assign(R.shadowMap,p);(K!==R.shadowMap.enabled||X!==R.shadowMap.type)&&(R.shadowMap.needsUpdate=!0)}var $=G();$&&("enabled"in $?$.enabled=!b:"legacyMode"in $&&($.legacyMode=b)),f||eD(R,{outputEncoding:h?3e3:3001,toneMapping:y?u.NoToneMapping:u.ACESFilmicToneMapping}),M.legacy!==b&&M.set(function(){return{legacy:b}}),M.linear!==h&&M.set(function(){return{linear:h}}),M.flat!==y&&M.set(function(){return{flat:y}}),!o||er.fun(o)||eh(o)||er.equ(o,R,ez)||eD(R,o),s&&!M.events.handlers&&M.set({events:s(l)});var Z=function(e,t){var r="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){var n=t.width,o=t.height,i=t.top,a=t.left,l=t.updateStyle;return{width:n,height:o,top:i,left:a,updateStyle:void 0===l?r:l}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){var u=e.parentElement.getBoundingClientRect();return{width:u.width,height:u.height,top:u.top,left:u.left,updateStyle:r}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:r}:{width:0,height:0,top:0,left:0}}(e,i);return er.equ(Z,M.size,ez)||M.setSize(Z.width,Z.height,Z.updateStyle,Z.top,Z.left),k&&M.viewport.dpr!==J(k)&&M.setDpr(k),M.frameloop!==x&&M.setFrameloop(x),M.onPointerMissed||M.set({onPointerMissed:j}),A&&!er.equ(A,M.performance,ez)&&M.set(function(e){return{performance:O(O({},e.performance),A)}}),t=c,f=!0,this},render:function(r){return f||this.configure(),eN.updateContainer((0,p.jsx)(eU,{store:l,children:r,onCreated:t,rootElement:e}),s,null,function(){}),l},unmount:function(){eH(e)}}}function eU(e){var t=e.store,r=e.children,n=e.onCreated,o=e.rootElement;return X(function(){var e=t.getState();e.set(function(e){return{internal:O(O({},e.internal),{},{active:!0})}}),n&&n(e),t.getState().events.connected||null==e.events.connect||e.events.connect(o)},[]),(0,p.jsx)(em.Provider,{value:t,children:r})}function eH(e,t){var r=eM.get(e),n=null==r?void 0:r.fiber;if(n){var o=null==r?void 0:r.store.getState();o&&(o.internal.active=!1),eN.updateContainer(null,n,null,function(){o&&setTimeout(function(){try{var r,n,i,a;null==o.events.disconnect||o.events.disconnect(),null==(r=o.gl)||null==(n=r.renderLists)||null==n.dispose||n.dispose(),null==(i=o.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(a=o.gl)&&a.xr&&o.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(o),eM.delete(e),t&&t(e)}catch(e){}},500)})}}eN.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:s.version}),s.unstable_act;var eV={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function eG(e){var t=function(e){function t(e){return e.filter(function(e){return["Move","Over","Enter","Out","Leave"].some(function(t){var r;return null==(r=e.__r3f)?void 0:r.handlers["onPointer"+t]})})}function r(t){var r,n=e.getState().internal,o=I(n.hovered.values());try{for(o.s();!(r=o.n()).done;)!function(){var e=r.value;if(!t.length||!t.find(function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId})){var o=e.eventObject.__r3f,i=null==o?void 0:o.handlers;if(n.hovered.delete(ep(e)),null!=o&&o.eventCount){var a=O(O({},e),{},{intersections:t});null==i.onPointerOut||i.onPointerOut(a),null==i.onPointerLeave||i.onPointerLeave(a)}}}()}catch(e){o.e(e)}finally{o.f()}}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r].__r3f;null==n||null==n.handlers.onPointerMissed||n.handlers.onPointerMissed(e)}}return{handlePointer:function(o){switch(o){case"onPointerLeave":case"onPointerCancel":return function(){return r([])};case"onLostPointerCapture":return function(t){var n=e.getState().internal;"pointerId"in t&&n.capturedMap.has(t.pointerId)&&requestAnimationFrame(function(){n.capturedMap.has(t.pointerId)&&(n.capturedMap.delete(t.pointerId),r([]))})}}return function(i){var a,l,s,c=e.getState(),f=c.onPointerMissed,d=c.internal;d.lastEvent.current=i;var p="onPointerMove"===o,v="onClick"===o||"onContextMenu"===o||"onDoubleClick"===o,h=function(t,r){for(var n=e.getState(),o=new Set,i=[],a=r?r(n.internal.interaction):n.internal.interaction,l=0;l<a.length;l++){var u=ee(a[l]);u&&(u.raycaster.camera=void 0)}n.previousRoot||null==n.events.compute||n.events.compute(t,n);var s=a.flatMap(function(e){var r,n=ee(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[]}).sort(function(e,t){var r=ee(e.object),n=ee(t.object);return r&&n&&n.events.priority-r.events.priority||e.distance-t.distance}).filter(function(e){var t=ep(e);return!o.has(t)&&(o.add(t),!0)});n.events.filter&&(s=n.events.filter(s,n));var c,f=I(s);try{for(f.s();!(c=f.n()).done;)for(var d,p=c.value,v=p.object;v;)null!=(d=v.__r3f)&&d.eventCount&&i.push(O(O({},p),{},{eventObject:v})),v=v.parent}catch(e){f.e(e)}finally{f.f()}if("pointerId"in t&&n.internal.capturedMap.has(t.pointerId)){var h,m=I(n.internal.capturedMap.get(t.pointerId).values());try{for(m.s();!(h=m.n()).done;){var y=h.value;o.has(ep(y.intersection))||i.push(y.intersection)}}catch(e){m.e(e)}finally{m.f()}}return i}(i,p?t:void 0),m=v?(a=e.getState().internal,Math.round(Math.sqrt((l=i.offsetX-a.initialClick[0])*l+(s=i.offsetY-a.initialClick[1])*s))):0;"onPointerDown"===o&&(d.initialClick=[i.offsetX,i.offsetY],d.initialHits=h.map(function(e){return e.eventObject})),v&&!h.length&&m<=2&&(n(i,d.interaction),f&&f(i)),p&&r(h),function(t,n,o,i){var a=e.getState();if(t.length){var l,s={stopped:!1},c=I(t);try{for(c.s();!(l=c.n()).done&&!function(){var e=l.value,c=ee(e.object)||a,f=c.raycaster,d=c.pointer,p=c.camera,v=c.internal,h=new u.Vector3(d.x,d.y,0).unproject(p),m=function(t){var r,n;return null!=(r=null==(n=v.capturedMap.get(t))?void 0:n.has(e.eventObject))&&r},y=function(t){var r={intersection:e,target:n.target};v.capturedMap.has(t)?v.capturedMap.get(t).set(e.eventObject,r):v.capturedMap.set(t,new Map([[e.eventObject,r]])),n.target.setPointerCapture(t)},g=function(t){var r=v.capturedMap.get(t);r&&ev(v.capturedMap,e.eventObject,r,t)},b={};for(var w in n){var S=n[w];"function"!=typeof S&&(b[w]=S)}var x=O(O(O({},e),b),{},{pointer:d,intersections:t,stopped:s.stopped,delta:o,unprojectedPoint:h,ray:f.ray,camera:p,stopPropagation:function(){var o=("pointerId"in n)&&v.capturedMap.get(n.pointerId);if((!o||o.has(e.eventObject))&&(x.stopped=s.stopped=!0,v.hovered.size&&Array.from(v.hovered.values()).find(function(t){return t.eventObject===e.eventObject}))){var i=t.slice(0,t.indexOf(e));r([].concat(N(i),[e]))}},target:{hasPointerCapture:m,setPointerCapture:y,releasePointerCapture:g},currentTarget:{hasPointerCapture:m,setPointerCapture:y,releasePointerCapture:g},nativeEvent:n});if(i(x),!0===s.stopped)return 1}(););}catch(e){c.e(e)}finally{c.f()}}}(h,i,m,function(e){var t=e.eventObject,r=t.__r3f,a=null==r?void 0:r.handlers;if(null!=r&&r.eventCount){if(p){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){var l=ep(e),u=d.hovered.get(l);u?u.stopped&&e.stopPropagation():(d.hovered.set(l,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{var s=a[o];s?(!v||d.initialHits.includes(t))&&(n(i,d.interaction.filter(function(e){return!d.initialHits.includes(e)})),s(e)):v&&d.initialHits.includes(t)&&n(i,d.interaction.filter(function(e){return!d.initialHits.includes(e)}))}}})}}}}(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,r){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(eV).reduce(function(e,r){return O(O({},e),{},k({},r,t(r)))},{}),update:function(){var t,r=e.getState(),n=r.events,o=r.internal;null!=(t=o.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(o.lastEvent.current)},connect:function(t){var r,n=e.getState(),o=n.set,i=n.events;null==i.disconnect||i.disconnect(),o(function(e){return{events:O(O({},e.events),{},{connected:t})}}),Object.entries(null!=(r=i.handlers)?r:[]).forEach(function(e){var r=j(e,2),n=r[0],o=r[1],i=j(eV[n],2),a=i[0],l=i[1];t.addEventListener(a,o,{passive:l})})},disconnect:function(){var t,r=e.getState(),n=r.set,o=r.events;o.connected&&(Object.entries(null!=(t=o.handlers)?t:[]).forEach(function(e){var t=j(e,2),r=t[0],n=t[1];if(o&&o.connected instanceof HTMLElement){var i=j(eV[r],1)[0];o.connected.removeEventListener(i,n)}}),n(function(e){return{events:O(O({},e.events),{},{connected:void 0})}}))}}}},125:function(e,t,r){r.d(t,{Xz:function(){return D}});var n,o,i=r(7976),a=r(2265),l=r(8138),u=r(8404),s=r.n(u);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=Object.defineProperty,m=Object.defineProperties,y=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=function(e,t,r){return t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},x=function(e,t){for(var r in t||(t={}))b.call(t,r)&&S(e,r,t[r]);if(g){var n,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(g(t));try{for(o.s();!(n=o.n()).done;){var r=n.value;w.call(t,r)&&S(e,r,t[r])}}catch(e){o.e(e)}finally{o.f()}}return e};function E(e){try{return Object.defineProperties(e,{_currentRenderer:{get:function(){return null},set:function(){}},_currentRenderer2:{get:function(){return null},set:function(){}}})}catch(t){return e}}(null==(n=window.document)?void 0:n.createElement)||(null==(o=window.navigator)?void 0:o.product)==="ReactNative"?a.useLayoutEffect:a.useEffect;var P=console.error;console.error=function(){var e=Array.prototype.slice.call(arguments).join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=P;return}return P.apply(this,arguments)};var O=E(a.createContext(null)),k=function(e){var t;function r(){var e,t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),e=r,t=arguments,e=f(e),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?e.apply(this,t):Reflect.construct(e,t||[],f(this).constructor))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(r,e),t=[{key:"render",value:function(){return a.createElement(O.Provider,{value:this._reactInternals},this.props.children)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n.key),n)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}(a.Component),A=r(7437);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(6462),r(7410),r(8324);var C=["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","scene","onPointerMissed","onCreated"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==T(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||I(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var L=["x","y","top","bottom","left","right","width","height"],N=a.forwardRef(function(e,t){var r,n=e.children,o=e.fallback,u=e.resize,f=e.style,d=e.gl,v=e.events,h=void 0===v?i.c:v,g=e.eventSource,b=e.eventPrefix,w=e.shadows,S=e.linear,P=e.flat,T=e.legacy,j=e.orthographic,N=e.frameloop,D=e.dpr,z=e.performance,F=e.raycaster,B=e.camera,U=e.scene,H=e.onPointerMissed,V=e.onCreated,G=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,C);a.useMemo(function(){return(0,i.e)(l)},[]);var W=(r=function(){var e,t=function(){var e=a.useContext(O);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");var t=a.useId();return a.useMemo(function(){for(var r=0,n=[e,null==e?void 0:e.alternate];r<n.length;r++){var o=n[r];if(o){var i=function e(t,r,n){if(t){if(!0===n(t))return t;for(var o=r?t.return:t.child;o;){var i=e(o,r,n);if(i)return i;o=r?null:o.sibling}}}(o,!1,function(e){for(var r=e.memoizedState;r;){if(r.memoizedState===t)return!0;r=r.next}});if(i)return i}}},[e,t])}(),r=(function(e){if(Array.isArray(e))return e}(e=a.useState(function(){return new Map}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),1!==l.length);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,1)||p(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];r.clear();for(var n=t;n;){if(n.type&&"object"===c(n.type)){var o=void 0===n.type._context&&n.type.Provider===n.type?n.type:n.type._context;o&&o!==O&&!r.has(o)&&r.set(o,a.useContext(E(o)))}n=n.return}return r}(),a.useMemo(function(){return Array.from(r.keys()).reduce(function(e,t){return function(n){return a.createElement(e,null,a.createElement(t.Provider,m(x({},n),y({value:r.get(t)}))))}},function(e){return a.createElement(k,x({},e))})},[r])),K=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1,offsetSize:!1},r=t.debounce,n=t.scroll,o=t.polyfill,i=t.offsetSize,l=o||window.ResizeObserver,u=R((0,a.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),2),c=u[0],f=u[1];if(!l)return c.width=1280,c.height=800,[function(){},c,function(){}];var d=(0,a.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),p=r?"number"==typeof r?r:r.scroll:null,v=r?"number"==typeof r?r:r.resize:null,h=(0,a.useRef)(!1);(0,a.useEffect)(function(){return h.current=!0,function(){h.current=!1}});var m=R((0,a.useMemo)(function(){var e=function(){if(d.current.element){var e,t=d.current.element.getBoundingClientRect(),r={left:t.left,top:t.top,width:t.width,height:t.height,bottom:t.bottom,right:t.right,x:t.x,y:t.y};d.current.element instanceof HTMLElement&&i&&(r.height=d.current.element.offsetHeight,r.width=d.current.element.offsetWidth),Object.freeze(r),h.current&&(e=d.current.lastBounds,!L.every(function(t){return e[t]===r[t]}))&&f(d.current.lastBounds=r)}};return[e,v?s()(e,v):e,p?s()(e,p):e]},[f,i,p,v]),3),y=m[0],g=m[1],b=m[2];function w(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(function(e){return e.removeEventListener("scroll",b,!0)}),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function S(){d.current.element&&(d.current.resizeObserver=new l(b),d.current.resizeObserver.observe(d.current.element),n&&d.current.scrollContainers&&d.current.scrollContainers.forEach(function(e){return e.addEventListener("scroll",b,{capture:!0,passive:!0})}))}return e=!!n,(0,a.useEffect)(function(){if(e)return window.addEventListener("scroll",b,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",b,!0)}},[b,e]),(0,a.useEffect)(function(){return window.addEventListener("resize",g),function(){window.removeEventListener("resize",g)}},[g]),(0,a.useEffect)(function(){w(),S()},[n,b,g]),(0,a.useEffect)(function(){return w},[]),[function(e){e&&e!==d.current.element&&(w(),d.current.element=e,d.current.scrollContainers=function e(t){var r,n=[];if(!t||t===document.body)return n;var o=window.getComputedStyle(t);return[o.overflow,o.overflowX,o.overflowY].some(function(e){return"auto"===e||"scroll"===e})&&n.push(t),[].concat(n,function(e){if(Array.isArray(e))return _(e)}(r=e(t.parentElement))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||I(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}(e),S())},c,y]}(M({scroll:!0,debounce:{scroll:50,resize:0}},u)),X=R(K,2),q=X[0],Q=X[1],$=a.useRef(null),Z=a.useRef(null);a.useImperativeHandle(t,function(){return $.current});var Y=(0,i.u)(H),J=R(a.useState(!1),2),ee=J[0],et=J[1],er=R(a.useState(!1),2),en=er[0],eo=er[1];if(ee)throw ee;if(en)throw en;var ei=a.useRef(null);(0,i.a)(function(){var e=$.current;Q.width>0&&Q.height>0&&e&&(ei.current||(ei.current=(0,i.b)(e)),ei.current.configure({gl:d,events:h,shadows:w,linear:S,flat:P,legacy:T,orthographic:j,frameloop:N,dpr:D,performance:z,raycaster:F,camera:B,scene:U,size:Q,onPointerMissed:function(){return null==Y.current?void 0:Y.current.apply(Y,arguments)},onCreated:function(e){null==e.events.connect||e.events.connect(g?(0,i.i)(g)?g.current:g:Z.current),b&&e.setEvents({compute:function(e,t){var r=e[b+"X"],n=e[b+"Y"];t.pointer.set(r/t.size.width*2-1,-(n/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==V||V(e)}}),ei.current.render((0,A.jsx)(W,{children:(0,A.jsx)(i.E,{set:eo,children:(0,A.jsx)(a.Suspense,{fallback:(0,A.jsx)(i.B,{set:et}),children:n})})})))}),a.useEffect(function(){var e=$.current;if(e)return function(){return(0,i.d)(e)}},[]);var ea=g?"none":"auto";return(0,A.jsx)("div",M(M({ref:Z,style:M({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ea},f)},G),{},{children:(0,A.jsx)("div",{ref:q,style:{width:"100%",height:"100%"},children:(0,A.jsx)("canvas",{ref:$,style:{display:"block"},children:o})})}))}),D=a.forwardRef(function(e,t){return(0,A.jsx)(k,{children:(0,A.jsx)(N,M(M({},e),{},{ref:t}))})})},9664:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,o=e[n];if(0<a(o,t))e[n]=t,e[r]=o,r=n;else break}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,o=e.length,i=o>>>1;n<i;){var l=2*(n+1)-1,u=e[l],s=l+1,c=e[s];if(0>a(u,r))s<o&&0>a(c,u)?(e[n]=c,e[s]=r,n=s):(e[n]=u,e[l]=r,n=l);else if(s<o&&0>a(c,r))e[n]=c,e[s]=r,n=s;else break}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===("undefined"==typeof performance?"undefined":r(performance))&&"function"==typeof performance.now){var l,u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var f=[],d=[],p=1,v=null,h=3,m=!1,y=!1,g=!1,b="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,S="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=o(d);null!==t;){if(null===t.callback)i(d);else if(t.startTime<=e)i(d),t.sortIndex=t.expirationTime,n(f,t);else break;t=o(d)}}function E(e){if(g=!1,x(e),!y){if(null!==o(f))y=!0,_(P);else{var t=o(d);null!==t&&L(E,t.startTime-e)}}}function P(e,r){y=!1,g&&(g=!1,w(A),A=-1),m=!0;var n=h;try{for(x(r),v=o(f);null!==v&&(!(v.expirationTime>r)||e&&!j());){var a=v.callback;if("function"==typeof a){v.callback=null,h=v.priorityLevel;var l=a(v.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?v.callback=l:v===o(f)&&i(f),x(r)}else i(f);v=o(f)}if(null!==v)var u=!0;else{var s=o(d);null!==s&&L(E,s.startTime-r),u=!1}return u}finally{v=null,h=n,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O=!1,k=null,A=-1,T=5,C=-1;function j(){return!(t.unstable_now()-C<T)}function M(){if(null!==k){var e=t.unstable_now();C=e;var r=!0;try{r=k(!0,e)}finally{r?l():(O=!1,k=null)}}else O=!1}if("function"==typeof S)l=function(){S(M)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=M,l=function(){I.postMessage(null)}}else l=function(){b(M,0)};function _(e){k=e,O||(O=!0,l())}function L(e,r){A=b(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,_(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return o(f)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,i,a){var l=t.unstable_now();switch(a="object"===r(a)&&null!==a&&"number"==typeof(a=a.delay)&&0<a?l+a:l,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return u=a+u,e={id:p++,callback:i,priorityLevel:e,startTime:a,expirationTime:u,sortIndex:-1},a>l?(e.sortIndex=a,n(d,e),null===o(f)&&e===o(d)&&(g?(w(A),A=-1):g=!0,L(E,a-l))):(e.sortIndex=u,n(f,e),y||m||(y=!0,_(P))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},8324:function(e,t,r){e.exports=r(9664)},8978:function(e,t,r){r.d(t,{jc:function(){return ep},wI:function(){return el},ib:function(){return ek},dv:function(){return ee}});var n,o,i=r(3329),a=r(7976),l=r(2265),u=r(8138),s=r(7128);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){f=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function d(t,r,n,i){var a,l,u=Object.create((r&&r.prototype instanceof g?r:g).prototype);return o(u,"_invoke",{value:(a=new C(i||[]),l=v,function(r,o){if(l===h)throw Error("Generator is already running");if(l===m){if("throw"===r)throw o;return{value:e,done:!0}}for(a.method=r,a.arg=o;;){var i=a.delegate;if(i){var u=function t(r,n){var o=n.method,i=r.iterator[o];if(i===e)return n.delegate=null,"throw"===o&&r.iterator.return&&(n.method="return",n.arg=e,t(r,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+o+"' method")),y;var a=p(i,r.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var l=a.arg;return l?l.done?(n[r.resultName]=l.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):l:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,y)}(i,a);if(u){if(u===y)continue;return u}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(l===v)throw l=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l=h;var s=p(t,n,a);if("normal"===s.type){if(l=a.done?m:"suspendedYield",s.arg===y)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(l=m,a.method="throw",a.arg=s.arg)}})}),u}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var v="suspendedStart",h="executing",m="completed",y={};function g(){}function b(){}function w(){}var S={};s(S,a,function(){return this});var x=Object.getPrototypeOf,E=x&&x(x(j([])));E&&E!==r&&n.call(E,a)&&(S=E);var P=w.prototype=g.prototype=Object.create(S);function O(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;o(this,"_invoke",{value:function(o,i){function a(){return new t(function(r,a){!function r(o,i,a,l){var u=p(e[o],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==c(f)&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(f).then(function(e){s.value=e,a(s)},function(e){return r("throw",e,a,l)})}l(u.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}})}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw TypeError(c(t)+" is not iterable")}return b.prototype=w,o(P,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=s(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,u,"GeneratorFunction")),e.prototype=Object.create(P),e},t.awrap=function(e){return{__await:e}},O(k.prototype),s(k.prototype,l,function(){return this}),t.AsyncIterator=k,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new k(d(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},O(P),s(P,u,"Generator"),s(P,a,function(){return this}),s(P,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function d(e,t,r,n,o,i,a){try{var l=e[i](a),u=l.value}catch(e){r(e);return}l.done?t(u):Promise.resolve(u).then(n,o)}function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||h(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=new u.Quaternion;new u.Euler;var w=new u.Vector3;new u.Object3D;var S=new u.Matrix4,x=new u.Vector3,E=new u.Quaternion,P=new u.Vector3,O=function(e){var t=v(e,3),r=t[0],n=t[1],o=t[2];return new u.Vector3(r,n,o)},k=function(e){var t=e.x,r=e.y,n=e.z,o=e.w;return b.set(t,r,n,o)},A={fixed:1,dynamic:0,kinematicPosition:2,kinematicVelocity:3},T=function(e){return A[e]},C=function(e,t){for(var r=Array.from(e),n=0;n<e.length/3;n++)r[3*n]*=t.x,r[3*n+1]*=t.y,r[3*n+2]*=t.z;return r},j=function(e){return e?e instanceof u.Quaternion?[e.x,e.y,e.z,e.w]:e instanceof u.Vector3||e instanceof u.Euler?[e.x,e.y,e.z]:Array.isArray(e)?e:[e]:[0]};function M(e){var t=(0,l.useRef)();return void 0===t.current&&(t.current={value:"function"==typeof e?e():e}),t.current.value}var R=function(e){var t=(0,l.useRef)(e),r=(0,l.useRef)(0),n=(0,l.useRef)(0);(0,l.useEffect)(function(){t.current=e},[e]),(0,l.useEffect)(function(){var e=function(){var o=performance.now(),i=o-n.current;r.current=requestAnimationFrame(e),t.current(i/1e3),n.current=o};return r.current=requestAnimationFrame(e),function(){return cancelAnimationFrame(r.current)}},[])},I=function(e){var t=e.onStep,r=e.updatePriority;return(0,a.F)(function(e,r){t(r)},r),null},_=function(e){var t=e.onStep;return R(function(e){t(e)}),null},L=(0,l.memo)(function(e){var t=e.onStep,r=e.type,n=e.updatePriority;return"independent"===r?l.createElement(_,{onStep:t}):l.createElement(I,{onStep:t,updatePriority:n})});function N(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var D=["mass","linearDamping","angularDamping","type","onCollisionEnter","onCollisionExit","onIntersectionEnter","onIntersectionExit","onContactForce","children","canSleep","ccd","gravityScale","softCcdPrediction"],z=function(e,t,r){var n=t.slice();if("heightfield"===e){var o=n[3];return o.x*=r.x,o.x*=r.y,o.x*=r.z,n}if("trimesh"===e||"convexHull"===e)return n[0]=C(n[0],r),n;var i=[r.x,r.y,r.z,r.x,r.x];return n.map(function(e,t){return i[t]*e})},F=function(e,t,r,n){var o=z(e.shape,e.args,r),a=i.ColliderDesc[e.shape].apply(i.ColliderDesc,p(o));return t.createCollider(a,null==n?void 0:n())},B=["shape","args"],U="Please pick ONLY ONE of the `density`, `mass` and `massProperties` options.",H=function(e,t){if(void 0!==t.density){if(void 0!==t.mass||void 0!==t.massProperties)throw Error(U);e.setDensity(t.density);return}if(void 0!==t.mass){if(void 0!==t.massProperties)throw Error(U);e.setMass(t.mass);return}void 0!==t.massProperties&&e.setMassProperties(t.massProperties.mass,t.massProperties.centerOfMass,t.massProperties.principalAngularInertia,t.massProperties.angularInertiaLocalFrame)},V={sensor:function(e,t){e.setSensor(t)},collisionGroups:function(e,t){e.setCollisionGroups(t)},solverGroups:function(e,t){e.setSolverGroups(t)},friction:function(e,t){e.setFriction(t)},frictionCombineRule:function(e,t){e.setFrictionCombineRule(t)},restitution:function(e,t){e.setRestitution(t)},restitutionCombineRule:function(e,t){e.setRestitutionCombineRule(t)},activeCollisionTypes:function(e,t){e.setActiveCollisionTypes(t)},contactSkin:function(e,t){e.setContactSkin(t)},quaternion:function(){},position:function(){},rotation:function(){},scale:function(){}},G=Object.keys(V),W=function(e,t,r){var n=r.get(e.handle);if(n){var o,i=n.object.parent.getWorldScale(w),a=null===(o=n.worldParent)||void 0===o?void 0:o.matrixWorld.clone().invert();n.object.updateWorldMatrix(!0,!1),S.copy(n.object.matrixWorld),a&&S.premultiply(a),S.decompose(x,E,P),e.parent()?(e.setTranslationWrtParent({x:x.x*i.x,y:x.y*i.y,z:x.z*i.z}),e.setRotationWrtParent(E)):(e.setTranslation({x:x.x*i.x,y:x.y*i.y,z:x.z*i.z}),e.setRotation(E)),G.forEach(function(r){if(r in t){var n=t[r];V[r](e,n,t)}}),H(e,t)}},K=function(e,t,r){var n=(0,l.useMemo)(function(){return G.flatMap(function(e){return j(t[e])})},[t]);(0,l.useEffect)(function(){W(e(),t,r)},[].concat(p(n),[e]))},X=function(e){var t=!1;return e.traverseAncestors(function(e){"MeshCollider"===e.userData.r3RapierType&&(t=!0)}),t},q={cuboid:"cuboid",ball:"ball",hull:"convexHull",trimesh:"trimesh"},Q=function(e){var t=e.object,r=e.ignoreMeshColliders,n=void 0===r||r,o=e.options,i=[];t.updateWorldMatrix(!0,!1);var a=t.matrixWorld.clone().invert(),l=function(e){if("isMesh"in e&&!(n&&X(e))){var t=e.getWorldScale(P),r=q[o.colliders||"cuboid"];e.updateWorldMatrix(!0,!1),S.copy(e.matrixWorld).premultiply(a).decompose(x,E,P);var l=new u.Euler().setFromQuaternion(E,"XYZ"),s=$(e.geometry,o.colliders||"cuboid"),c=s.args,f=s.offset,d=g(g({},J(o)),{},{args:c,shape:r,rotation:[l.x,l.y,l.z],position:[x.x+f.x*t.x,x.y+f.y*t.y,x.z+f.z*t.z],scale:[t.x,t.y,t.z]});i.push(d)}};return o.includeInvisible?t.traverse(l):t.traverseVisible(l),i},$=function(e,t){switch(t){case"cuboid":e.computeBoundingBox();var r=e.boundingBox,n=r.getSize(new u.Vector3);return{args:[n.x/2,n.y/2,n.z/2],offset:r.getCenter(new u.Vector3)};case"ball":e.computeBoundingSphere();var o=e.boundingSphere;return{args:[o.radius],offset:o.center};case"trimesh":var i,a=e.index?e.clone():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var r={},n=e.getIndex(),o=e.getAttribute("position"),i=n?n.count:o.count,a=0,l=Object.keys(e.attributes),s={},c={},f=[],d=["getX","getY","getZ","getW"],p=0,v=l.length;p<v;p++){var h=l[p];s[h]=[];var m=e.morphAttributes[h];m&&(c[h]=Array(m.length).fill(0).map(function(){return[]}))}for(var y=Math.pow(10,Math.log10(1/t)),g=0;g<i;g++){for(var b=n?n.getX(g):g,w="",S=0,x=l.length;S<x;S++)for(var E=l[S],P=e.getAttribute(E),O=P.itemSize,k=0;k<O;k++)w+="".concat(~~(P[d[k]](b)*y),",");if(w in r)f.push(r[w]);else{for(var A=0,T=l.length;A<T;A++)for(var C=l[A],j=e.getAttribute(C),M=e.morphAttributes[C],R=j.itemSize,I=s[C],_=c[C],L=0;L<R;L++){var N=d[L];if(I.push(j[N](b)),M)for(var D=0,z=M.length;D<z;D++)_[D].push(M[D][N](b))}r[w]=a,f.push(a),a++}}for(var F=e.clone(),B=0,U=l.length;B<U;B++){var H=l[B],V=e.getAttribute(H),G=new V.array.constructor(s[H]),W=new u.BufferAttribute(G,V.itemSize,V.normalized);if(F.setAttribute(H,W),H in c)for(var K=0;K<c[H].length;K++){var X=e.morphAttributes[H][K],q=new X.array.constructor(c[H][K]),Q=new u.BufferAttribute(q,X.itemSize,X.normalized);F.morphAttributes[H][K]=Q}}return F.setIndex(f),F}(e);return{args:[a.attributes.position.array,null===(i=a.index)||void 0===i?void 0:i.array],offset:new u.Vector3};case"hull":return{args:[e.clone().attributes.position.array],offset:new u.Vector3}}return{args:[],offset:new u.Vector3}},Z=function(e){return{collision:!!(null!=e&&e.onCollisionEnter||null!=e&&e.onCollisionExit||null!=e&&e.onIntersectionEnter||null!=e&&e.onIntersectionExit),contactForce:!!(null!=e&&e.onContactForce)}},Y=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.onCollisionEnter,a=t.onCollisionExit,u=t.onIntersectionEnter,s=t.onIntersectionExit,c=t.onContactForce;(0,l.useEffect)(function(){var l=e();if(l){var f=Z(t),d=f.collision,p=f.contactForce,v=d||n.collision,h=p||n.contactForce;v&&h?l.setActiveEvents(i.ActiveEvents.COLLISION_EVENTS|i.ActiveEvents.CONTACT_FORCE_EVENTS):v?l.setActiveEvents(i.ActiveEvents.COLLISION_EVENTS):h&&l.setActiveEvents(i.ActiveEvents.CONTACT_FORCE_EVENTS),r.set(l.handle,{onCollisionEnter:o,onCollisionExit:a,onIntersectionEnter:u,onIntersectionExit:s,onContactForce:c})}return function(){l&&r.delete(l.handle)}},[o,a,u,s,c,n])},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N(e,D)},ee=function(){var e=(0,l.useContext)(eo);if(!e)throw Error("react-three-rapier: useRapier must be used within <Physics />!");return e},et=function(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=v((0,l.useState)([]),2),o=n[0],i=n[1];return(0,l.useEffect)(function(){e.current&&!1!==t.colliders&&i(Q({object:e.current,options:t,ignoreMeshColliders:r}))},[t.colliders]),o},er=(0,l.memo)(function(){var e=ee().world,t=(0,l.useRef)(null);return(0,a.F)(function(){var r=t.current;if(r){var n=e.debugRender();r.geometry.setAttribute("position",new u.BufferAttribute(n.vertices,3)),r.geometry.setAttribute("color",new u.BufferAttribute(n.colors,4))}}),l.createElement("group",null,l.createElement("lineSegments",{ref:t,frustumCulled:!1},l.createElement("lineBasicMaterial",{color:16777215,vertexColors:!0}),l.createElement("bufferGeometry",null)))}),en=function(e){var t;return{proxy:new Proxy({},{get:function(r,n){return t||(t=e()),Reflect.get(t,n)},set:function(r,n,o){return t||(t=e()),Reflect.set(t,n,o)}}),reset:function(){t=void 0},set:function(e){t=e}}},eo=(0,l.createContext)(void 0),ei=function(e,t){var r,n,o,i,a,l;return{target:{rigidBody:e.rigidBody.object,collider:e.collider.object,colliderObject:null===(r=e.collider.state)||void 0===r?void 0:r.object,rigidBodyObject:null===(n=e.rigidBody.state)||void 0===n?void 0:n.object},other:{rigidBody:t.rigidBody.object,collider:t.collider.object,colliderObject:null===(o=t.collider.state)||void 0===o?void 0:o.object,rigidBodyObject:null===(i=t.rigidBody.state)||void 0===i?void 0:i.object},rigidBody:t.rigidBody.object,collider:t.collider.object,colliderObject:null===(a=t.collider.state)||void 0===a?void 0:a.object,rigidBodyObject:null===(l=t.rigidBody.state)||void 0===l?void 0:l.object}},ea=(n=f().mark(function e(){var t;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(r,3329));case 2:return t=e.sent,e.next=5,t.init();case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}),o=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return o.apply(this,arguments)}),el=function(e){var t=e.colliders,r=void 0===t?"cuboid":t,n=e.children,o=e.timeStep,c=void 0===o?1/60:o,f=e.paused,d=void 0!==f&&f,h=e.interpolate,m=void 0===h||h,y=e.updatePriority,b=e.updateLoop,w=e.debug,A=void 0!==w&&w,T=e.gravity,C=void 0===T?[0,-9.81,0]:T,j=e.allowedLinearError,R=void 0===j?.001:j,I=e.predictionDistance,_=void 0===I?.002:I,N=e.numSolverIterations,D=void 0===N?4:N,z=e.numAdditionalFrictionIterations,F=void 0===z?4:z,B=e.numInternalPgsIterations,U=void 0===B?1:B,H=e.minIslandSize,V=void 0===H?128:H,G=e.maxCcdSubsteps,W=void 0===G?1:G,K=e.erp,X=void 0===K?.8:K,q=e.lengthUnit,Q=void 0===q?1:q,$=(0,s.Rq)(ea,["@react-thee/rapier",ea]),Z=(0,a.D)().invalidate,Y=M(function(){return new Map}),J=M(function(){return new Map}),ee=M(function(){return new Map}),et=M(function(){return new Map}),el=M(function(){return new i.EventQueue(!1)}),eu=M(function(){return new Set}),es=M(function(){return new Set}),ec=M(function(){return en(function(){return new $.World(O(C))})}),ef=ec.proxy,ed=ec.reset,ep=ec.set;(0,l.useEffect)(function(){return function(){ef.free(),ed()}},[]),(0,l.useEffect)(function(){ef.gravity=Array.isArray(C)?new i.Vector3(C[0],C[1],C[2]):"number"==typeof C?new i.Vector3(C,C,C):new i.Vector3(C.x,C.y,C.z),ef.integrationParameters.numSolverIterations=D,ef.integrationParameters.numAdditionalFrictionIterations=F,ef.integrationParameters.numInternalPgsIterations=U,ef.integrationParameters.normalizedAllowedLinearError=R,ef.integrationParameters.minIslandSize=V,ef.integrationParameters.maxCcdSubsteps=W,ef.integrationParameters.normalizedPredictionDistance=_,ef.integrationParameters.erp=X,ef.lengthUnit=Q},[ef].concat(p(C),[D,F,U,R,V,W,_,X,Q]));var ev=(0,l.useCallback)(function(e){var t,r=ef.getCollider(e),n=et.get(e),o=J.get(e),i=null==r?void 0:null===(t=r.parent())||void 0===t?void 0:t.handle,a=void 0!==i?ef.getRigidBody(i):void 0,l=a&&void 0!==i?ee.get(i):void 0;return{collider:{object:r,events:n,state:o},rigidBody:{object:a,events:l,state:void 0!==i?Y.get(i):void 0}}},[]),eh=v((0,l.useState)({previousState:{},accumulator:0}),1)[0],em=(0,l.useCallback)(function(e){var t="vary"===c,r=u.MathUtils.clamp(e,0,.5),n=function(e){eu.forEach(function(e){e.current(ef)}),ef.timestep=e,ef.step(el),es.forEach(function(e){e.current(ef)})};if(t)n(r);else for(eh.accumulator+=r;eh.accumulator>=c;)m&&(eh.previousState={},ef.forEachRigidBody(function(e){eh.previousState[e.handle]={position:e.translation(),rotation:e.rotation()}})),n(c),eh.accumulator-=c;var o=t||!m||d?1:eh.accumulator/c;Y.forEach(function(e,t){var r,n,i=ef.getRigidBody(t),a=ee.get(t);if((null!=a&&a.onSleep||null!=a&&a.onWake)&&(i.isSleeping()&&!e.isSleeping&&(null==a||null===(r=a.onSleep)||void 0===r||r.call(a)),!i.isSleeping()&&e.isSleeping&&(null==a||null===(n=a.onWake)||void 0===n||n.call(a)),e.isSleeping=i.isSleeping()),!(!i||i.isSleeping()&&!("isInstancedMesh"in e.object))&&e.setMatrix){var l=i.translation(),u=i.rotation(),s=eh.previousState[t];s&&(S.compose(s.position,k(s.rotation),e.scale).premultiply(e.invertedWorldMatrix).decompose(x,E,P),"mesh"==e.meshType&&(e.object.position.copy(x),e.object.quaternion.copy(E))),S.compose(l,k(u),e.scale).premultiply(e.invertedWorldMatrix).decompose(x,E,P),"instancedMesh"==e.meshType?e.setMatrix(S):(e.object.position.lerp(x,o),e.object.quaternion.slerp(E,o))}}),el.drainCollisionEvents(function(e,t,r){var n,o,i,a,l,u,s,c,f,d,p,v,h,m,y,b,w,S,x,E,P,O,k,A,T=ev(e),C=ev(t);if(null!=T&&T.collider.object&&null!=C&&C.collider.object){var j=ei(T,C),M=ei(C,T);r?ef.contactPair(T.collider.object,C.collider.object,function(e,t){var r,n,o,i,a,l,u,s;null===(r=T.rigidBody.events)||void 0===r||null===(n=r.onCollisionEnter)||void 0===n||n.call(r,g(g({},j),{},{manifold:e,flipped:t})),null===(o=C.rigidBody.events)||void 0===o||null===(i=o.onCollisionEnter)||void 0===i||i.call(o,g(g({},M),{},{manifold:e,flipped:t})),null===(a=T.collider.events)||void 0===a||null===(l=a.onCollisionEnter)||void 0===l||l.call(a,g(g({},j),{},{manifold:e,flipped:t})),null===(u=C.collider.events)||void 0===u||null===(s=u.onCollisionEnter)||void 0===s||s.call(u,g(g({},M),{},{manifold:e,flipped:t}))}):(null===(n=T.rigidBody.events)||void 0===n||null===(o=n.onCollisionExit)||void 0===o||o.call(n,j),null===(i=C.rigidBody.events)||void 0===i||null===(a=i.onCollisionExit)||void 0===a||a.call(i,M),null===(l=T.collider.events)||void 0===l||null===(u=l.onCollisionExit)||void 0===u||u.call(l,j),null===(s=C.collider.events)||void 0===s||null===(c=s.onCollisionExit)||void 0===c||c.call(s,M)),r?ef.intersectionPair(T.collider.object,C.collider.object)&&(null===(f=T.rigidBody.events)||void 0===f||null===(d=f.onIntersectionEnter)||void 0===d||d.call(f,j),null===(p=C.rigidBody.events)||void 0===p||null===(v=p.onIntersectionEnter)||void 0===v||v.call(p,M),null===(h=T.collider.events)||void 0===h||null===(m=h.onIntersectionEnter)||void 0===m||m.call(h,j),null===(y=C.collider.events)||void 0===y||null===(b=y.onIntersectionEnter)||void 0===b||b.call(y,M)):(null===(w=T.rigidBody.events)||void 0===w||null===(S=w.onIntersectionExit)||void 0===S||S.call(w,j),null===(x=C.rigidBody.events)||void 0===x||null===(E=x.onIntersectionExit)||void 0===E||E.call(x,M),null===(P=T.collider.events)||void 0===P||null===(O=P.onIntersectionExit)||void 0===O||O.call(P,j),null===(k=C.collider.events)||void 0===k||null===(A=k.onIntersectionExit)||void 0===A||A.call(k,M))}}),el.drainContactForceEvents(function(e){var t,r,n,o,i,a,l,u,s=ev(e.collider1()),c=ev(e.collider2());if(null!=s&&s.collider.object&&null!=c&&c.collider.object){var f=ei(s,c),d=ei(c,s);null===(t=s.rigidBody.events)||void 0===t||null===(r=t.onContactForce)||void 0===r||r.call(t,g(g({},f),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()})),null===(n=c.rigidBody.events)||void 0===n||null===(o=n.onContactForce)||void 0===o||o.call(n,g(g({},d),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()})),null===(i=s.collider.events)||void 0===i||null===(a=i.onContactForce)||void 0===a||a.call(i,g(g({},f),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()})),null===(l=c.collider.events)||void 0===l||null===(u=l.onContactForce)||void 0===u||u.call(l,g(g({},d),{},{totalForce:e.totalForce(),totalForceMagnitude:e.totalForceMagnitude(),maxForceDirection:e.maxForceDirection(),maxForceMagnitude:e.maxForceMagnitude()}))}}),ef.forEachActiveRigidBody(function(){Z()})},[d,c,m,ef]),ey=(0,l.useMemo)(function(){return{rapier:$,world:ef,setWorld:function(e){ep(e)},physicsOptions:{colliders:r,gravity:C},rigidBodyStates:Y,colliderStates:J,rigidBodyEvents:ee,colliderEvents:et,beforeStepCallbacks:eu,afterStepCallbacks:es,isPaused:d,isDebug:A,step:em}},[d,em,A,r,C]),eg=(0,l.useCallback)(function(e){d||em(e)},[d,em]);return l.createElement(eo.Provider,{value:ey},l.createElement(L,{onStep:eg,type:void 0===b?"follow":b,updatePriority:y}),A&&l.createElement(er,null),n)};function eu(){return(eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var es=function(e,t,r){var n=(0,l.useRef)(),o=(0,l.useCallback)(function(){return n.current||(n.current=e()),n.current},r);return(0,l.useEffect)(function(){var e=o();return function(){t(e),n.current=void 0}},[o]),o},ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0,z:0},t=e.x,r=e.y,n=e.z;return new u.Vector3(t,r,n)},ef=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(0,l.useRef)(t);return e&&"function"!=typeof e?(e.current||(e.current=r.current),e):r},ed=(0,l.memo)((0,l.forwardRef)(function(e,t){var r=e.children,n=e.position,o=e.rotation,i=e.quaternion,a=e.scale,u=e.name,s=ee(),c=s.world,f=s.colliderEvents,d=s.colliderStates,v=eO(),h=ef(t),m=(0,l.useRef)(null),y=B.flatMap(function(t){return Array.isArray(e[t])?p(e[t]):e[t]}),b=es(function(){var r=F(e,c,m.current.getWorldScale(ec()),null==v?void 0:v.getRigidBody);return"function"==typeof t&&t(r),h.current=r,r},function(e){c.getCollider(e.handle)&&c.removeCollider(e,!0)},[].concat(p(y),[v]));(0,l.useEffect)(function(){var e,t=b();return d.set(t.handle,(e=m.current,{collider:t,worldParent:(null==v?void 0:v.ref.current)||void 0,object:e})),function(){d.delete(t.handle)}},[b]);var w=(0,l.useMemo)(function(){return g(g({},J(null==v?void 0:v.options)),e)},[e,null==v?void 0:v.options]);return K(b,w,d),Y(b,w,f,Z(null==v?void 0:v.options)),l.createElement("object3D",{position:n,rotation:o,quaternion:i,scale:a,ref:m,name:u},r)})),ep=l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"cuboid",ref:t}))});ep.displayName="CuboidCollider",l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"roundCuboid",ref:t}))}).displayName="RoundCuboidCollider",l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"ball",ref:t}))}).displayName="BallCollider",l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"capsule",ref:t}))}).displayName="CapsuleCollider",l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"heightfield",ref:t}))}).displayName="HeightfieldCollider",l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"trimesh",ref:t}))}).displayName="TrimeshCollider",l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"cone",ref:t}))}).displayName="ConeCollider",l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"roundCone",ref:t}))}).displayName="RoundConeCollider";var ev=l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"cylinder",ref:t}))});ev.displayName="CylinderCollider",ev.displayName="RoundCylinderCollider",l.forwardRef(function(e,t){return l.createElement(ed,eu({},e,{shape:"convexHull",ref:t}))}).displayName="ConvexHullCollider";var eh=function(e){var t,r=T((null==e?void 0:e.type)||"dynamic"),n=new i.RigidBodyDesc(r);return n.canSleep=null===(t=null==e?void 0:e.canSleep)||void 0===t||t,n},em=function(e){var t=e.rigidBody,r=e.object,n=e.setMatrix,o=e.getMatrix,i=e.worldScale,a=e.meshType;r.updateWorldMatrix(!0,!1);var l=r.parent.matrixWorld.clone().invert();return{object:r,rigidBody:t,invertedWorldMatrix:l,setMatrix:n||function(e){r.matrix.copy(e)},getMatrix:o||function(e){return e.copy(r.matrix)},scale:i||r.getWorldScale(P).clone(),isSleeping:!1,meshType:void 0===a?"mesh":a}},ey=["args","colliders","canSleep"],eg={gravityScale:function(e,t){e.setGravityScale(t,!0)},additionalSolverIterations:function(e,t){e.setAdditionalSolverIterations(t)},linearDamping:function(e,t){e.setLinearDamping(t)},angularDamping:function(e,t){e.setAngularDamping(t)},dominanceGroup:function(e,t){e.setDominanceGroup(t)},enabledRotations:function(e,t){var r=v(t,3),n=r[0],o=r[1],i=r[2];e.setEnabledRotations(n,o,i,!0)},enabledTranslations:function(e,t){var r=v(t,3),n=r[0],o=r[1],i=r[2];e.setEnabledTranslations(n,o,i,!0)},lockRotations:function(e,t){e.lockRotations(t,!0)},lockTranslations:function(e,t){e.lockTranslations(t,!0)},angularVelocity:function(e,t){var r=v(t,3),n=r[0],o=r[1],i=r[2];e.setAngvel({x:n,y:o,z:i},!0)},linearVelocity:function(e,t){var r=v(t,3),n=r[0],o=r[1],i=r[2];e.setLinvel({x:n,y:o,z:i},!0)},ccd:function(e,t){e.enableCcd(t)},softCcdPrediction:function(e,t){e.setSoftCcdPrediction(t)},userData:function(e,t){e.userData=t},type:function(e,t){e.setBodyType(T(t),!0)},position:function(){},rotation:function(){},quaternion:function(){},scale:function(){}},eb=Object.keys(eg),ew=function(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3];if(e){var o=r.get(e.handle);o&&(n&&(o.object.updateWorldMatrix(!0,!1),S.copy(o.object.matrixWorld).decompose(x,E,P),e.setTranslation(x,!1),e.setRotation(E,!1)),eb.forEach(function(r){r in t&&eg[r](e,t[r])}))}},eS=function(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=(0,l.useMemo)(function(){return eb.flatMap(function(e){return j(t[e])})},[t]);(0,l.useEffect)(function(){ew(e(),t,r,n)},o)},ex=function(e,t,r){var n=t.onWake,o=t.onSleep,i=t.onCollisionEnter,a=t.onCollisionExit,u=t.onIntersectionEnter,s=t.onIntersectionExit,c=t.onContactForce,f={onWake:n,onSleep:o,onCollisionEnter:i,onCollisionExit:a,onIntersectionEnter:u,onIntersectionExit:s,onContactForce:c};(0,l.useEffect)(function(){var t=e();return r.set(t.handle,f),function(){r.delete(t.handle)}},[n,o,i,a,u,s,c])},eE=["children","type","position","rotation","scale","quaternion","transformState"],eP=(0,l.createContext)(void 0),eO=function(){return(0,l.useContext)(eP)},ek=(0,l.memo)((0,l.forwardRef)(function(e,t){var r=e.children,n=(e.type,e.position),o=e.rotation,i=e.scale,a=e.quaternion,u=(e.transformState,N(e,eE)),s=(0,l.useRef)(null),c=ef(t),f=ee(),d=f.world,v=f.rigidBodyStates,h=f.physicsOptions,m=f.rigidBodyEvents,y=(0,l.useMemo)(function(){return g(g(g({},h),e),{},{children:void 0})},[h,e]),b=ey.flatMap(function(e){return Array.isArray(y[e])?p(y[e]):y[e]}),w=et(s,y),S=es(function(){var e=eh(y),r=d.createRigidBody(e);return"function"==typeof t&&t(r),c.current=r,r},function(e){d.getRigidBody(e.handle)&&d.removeRigidBody(e)},b);(0,l.useEffect)(function(){var t=S(),r=em({rigidBody:t,object:s.current});return v.set(t.handle,e.transformState?e.transformState(r):r),function(){v.delete(t.handle)}},[S]),eS(S,y,v),ex(S,y,m);var x=(0,l.useMemo)(function(){return{ref:s,getRigidBody:S,options:y}},[S]);return l.createElement(eP.Provider,{value:x},l.createElement("object3D",eu({ref:s},u,{position:n,rotation:o,quaternion:a,scale:i}),r,w.map(function(e,t){return l.createElement(ed,eu({key:t},e))})))}));ek.displayName="RigidBody",(0,l.memo)(function(e){var t=e.children,r=e.type,n=ee().physicsOptions,o=(0,l.useRef)(null),i=eO().options,a=et(o,(0,l.useMemo)(function(){return g(g(g({},n),i),{},{children:void 0,colliders:r})},[n,i]),!1);return l.createElement("object3D",{ref:o,userData:{r3RapierType:"MeshCollider"}},t,a.map(function(e,t){return l.createElement(ed,eu({key:t},e))}))}).displayName="MeshCollider";var eA=["children","instances","colliderNodes","position","rotation","quaternion","scale"];(0,l.memo)((0,l.forwardRef)(function(e,t){var r=ef(t,[]),n=(0,l.useRef)(null),o=(0,l.useRef)(null),i=e.children,a=e.instances,s=e.colliderNodes,c=void 0===s?[]:s,f=e.position,d=e.rotation,p=e.quaternion,v=e.scale,h=N(e,eA),m=et(n,g(g({},e),{},{children:void 0})),y=function(){var e=o.current.children[0];if(e&&"isInstancedMesh"in e)return e};(0,l.useEffect)(function(){var e=y();e?e.instanceMatrix.setUsage(u.DynamicDrawUsage):console.warn("InstancedRigidBodies expects exactly one child, which must be an InstancedMesh")},[]);var b=function(e,t){var r=y();return r?g(g({},e),{},{getMatrix:function(e){return r.getMatrixAt(t,e),e},setMatrix:function(e){r.setMatrixAt(t,e),r.instanceMatrix.needsUpdate=!0},meshType:"instancedMesh"}):e};return l.createElement("object3D",eu({ref:n},h,{position:f,rotation:d,quaternion:p,scale:v}),l.createElement("object3D",{ref:o},i),null==a?void 0:a.map(function(e,t){return l.createElement(ek,eu({},h,e,{ref:function(e){return r.current[t]=e},transformState:function(e){return b(e,t)}}),l.createElement(l.Fragment,null,c.map(function(e,t){return l.createElement(l.Fragment,{key:t},e)}),m.map(function(e,t){return l.createElement(ed,eu({key:t},e))})))}))})).displayName="InstancedRigidBodies"},8404:function(e){function t(e,t,r){function n(){var s=Date.now()-l;s<t&&s>=0?o=setTimeout(n,t-s):(o=null,r||(u=e.apply(a,i),a=i=null))}null==t&&(t=100);var o,i,a,l,u,s=function(){a=this,i=arguments,l=Date.now();var s=r&&!o;return o||(o=setTimeout(n,t)),s&&(u=e.apply(a,i),a=i=null),u};return s.clear=function(){o&&(clearTimeout(o),o=null)},s.flush=function(){o&&(u=e.apply(a,i),a=i=null,clearTimeout(o),o=null)},s}t.debounce=t,e.exports=t},2315:function(e,t,r){r.d(t,{default:function(){return o.a}});var n=r(9227),o=r.n(n)},1481:function(e,t,r){var n,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"===i(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(4006)},7325:function(e,t,r){var n=["src","srcSet","sizes","height","width","decoding","className","style","fetchPriority","placeholder","loading","unoptimized","fill","onLoadRef","onLoadingCompleteRef","setBlurComplete","setShowAltText","sizesInput","onLoad","onError"];function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||a(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return A}});var f=r(6499),d=r(3715),p=r(7437),v=d._(r(2265)),h=f._(r(4887)),m=f._(r(5515)),y=r(5885),g=r(4967),b=r(9274);r(6793);var w=r(6249),S=f._(r(6115)),x={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/NEXT_ThreeJs/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function E(e,t,r,n,o,i,a){var l=null==e?void 0:e.src;e&&e["data-loaded-src"]!==l&&(e["data-loaded-src"]=l,("decode"in e?e.decode():Promise.resolve()).catch(function(){}).then(function(){if(e.parentElement&&e.isConnected){if("empty"!==t&&o(!0),null==r?void 0:r.current){var i=new Event("load");Object.defineProperty(i,"target",{writable:!1,value:e});var a=!1,l=!1;r.current(c(c({},i),{},{nativeEvent:i,currentTarget:e,target:e,isDefaultPrevented:function(){return a},isPropagationStopped:function(){return l},persist:function(){},preventDefault:function(){a=!0,i.preventDefault()},stopPropagation:function(){l=!0,i.stopPropagation()}}))}(null==n?void 0:n.current)&&n.current(e)}}))}function P(e){return v.use?{fetchPriority:e}:{fetchpriority:e}}var O=(0,v.forwardRef)(function(e,t){var r=e.src,o=e.srcSet,i=e.sizes,a=e.height,l=e.width,s=e.decoding,f=e.className,d=e.style,h=e.fetchPriority,m=e.placeholder,y=e.loading,g=e.unoptimized,b=e.fill,w=e.onLoadRef,S=e.onLoadingCompleteRef,x=e.setBlurComplete,O=e.setShowAltText,k=e.sizesInput,A=(e.onLoad,e.onError),T=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,n);return(0,p.jsx)("img",c(c(c({},T),P(h)),{},{loading:y,width:l,height:a,decoding:s,"data-nimg":b?"fill":"1",className:f,style:d,sizes:i,srcSet:o,src:r,ref:(0,v.useCallback)(function(e){t&&("function"==typeof t?t(e):"object"===u(t)&&(t.current=e)),e&&(A&&(e.src=e.src),e.complete&&E(e,m,w,S,x,g,k))},[r,m,w,S,x,A,g,k,t]),onLoad:function(e){E(e.currentTarget,m,w,S,x,g,k)},onError:function(e){O(!0),"empty"!==m&&x(!0),A&&A(e)}}))});function k(e){var t=e.isAppRouter,r=e.imgAttributes,n=c({as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy},P(r.fetchPriority));return t&&h.default.preload?(h.default.preload(r.src,n),null):(0,p.jsx)(m.default,{children:(0,p.jsx)("link",c({rel:"preload",href:r.srcSet?void 0:r.src},n),"__nimg-"+r.src+r.srcSet+r.sizes)})}var A=(0,v.forwardRef)(function(e,t){var r=(0,v.useContext)(w.RouterContext),n=(0,v.useContext)(b.ImageConfigContext),a=(0,v.useMemo)(function(){var e=x||n||g.imageConfigDefault,t=[].concat(i(e.deviceSizes),i(e.imageSizes)).sort(function(e,t){return e-t}),r=e.deviceSizes.sort(function(e,t){return e-t});return c(c({},e),{},{allSizes:t,deviceSizes:r})},[n]),l=e.onLoad,u=e.onLoadingComplete,s=(0,v.useRef)(l);(0,v.useEffect)(function(){s.current=l},[l]);var f=(0,v.useRef)(u);(0,v.useEffect)(function(){f.current=u},[u]);var d=o((0,v.useState)(!1),2),h=d[0],m=d[1],E=o((0,v.useState)(!1),2),P=E[0],A=E[1],T=(0,y.getImgProps)(e,{defaultLoader:S.default,imgConf:a,blurComplete:h,showAltText:P}),C=T.props,j=T.meta;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(O,c(c({},C),{},{unoptimized:j.unoptimized,placeholder:j.placeholder,fill:j.fill,onLoadRef:s,onLoadingCompleteRef:f,setBlurComplete:m,setShowAltText:A,sizesInput:e.sizes,ref:t})),j.priority?(0,p.jsx)(k,{isAppRouter:!r,imgAttributes:C}):null]})});("function"==typeof t.default||"object"===u(t.default)&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4006:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u=[],s=!1,c=-1;function f(){s&&n&&(s=!1,n.length?u=n.concat(u):c=-1,u.length&&d())}function d(){if(!s){var e=l(f);s=!0;for(var t=u.length;t;){for(n=u,u=[];++c<t;)n&&n[c].run();c=-1,t=u.length}n=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||s||l(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}},a=!0;try{t[e](i,i.exports,n),a=!1}finally{a&&delete r[e]}return i.exports}n.ab="//";var o=n(229);e.exports=o}()},3263:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return n}});var n=r(6499)._(r(2265)).default.createContext({})},4169:function(e,t){function r(e){var t=void 0===e?{}:e,r=t.ampFirst,n=t.hybrid,o=t.hasQuery;return void 0!==r&&r||void 0!==n&&n&&void 0!==o&&o}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},5885:function(e,t,r){var n=["src","sizes","unoptimized","priority","loading","className","quality","width","height","fill","style","overrideSrc","onLoad","onLoadingComplete","placeholder","blurDataURL","fetchPriority","layout","objectFit","objectPosition","lazyBoundary","lazyRoot"],o=["config"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return h}}),r(6793);var f=r(4948),d=r(4967);function p(e){return void 0!==e.default}function v(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function h(e,t){var r,i,s,h,m=e.src,y=e.sizes,g=e.unoptimized,b=void 0!==g&&g,w=e.priority,S=void 0!==w&&w,x=e.loading,E=e.className,P=e.quality,O=e.width,k=e.height,A=e.fill,T=void 0!==A&&A,C=e.style,j=e.overrideSrc,M=(e.onLoad,e.onLoadingComplete,e.placeholder),R=void 0===M?"empty":M,I=e.blurDataURL,_=e.fetchPriority,L=e.layout,N=e.objectFit,D=e.objectPosition,z=(e.lazyBoundary,e.lazyRoot,l(e,n)),F=t.imgConf,B=t.showAltText,U=t.blurComplete,H=t.defaultLoader,V=F||d.imageConfigDefault;if("allSizes"in V)i=V;else{var G=[].concat(u(V.deviceSizes),u(V.imageSizes)).sort(function(e,t){return e-t}),W=V.deviceSizes.sort(function(e,t){return e-t});i=a(a({},V),{},{allSizes:G,deviceSizes:W})}if(void 0===H)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");var K=z.loader||H;delete z.loader,delete z.srcSet;var X="__next_img_default"in K;if(X){if("custom"===i.loader)throw Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{var q=K;K=function(e){return e.config,q(l(e,o))}}if(L){"fill"===L&&(T=!0);var Q={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[L];Q&&(C=a(a({},C),Q));var $={responsive:"100vw",fill:"100vw"}[L];$&&!y&&(y=$)}var Z="",Y=v(O),J=v(k);if("object"===c(r=m)&&(p(r)||void 0!==r.src)){var ee=p(m)?m.default:m;if(!ee.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(ee));if(!ee.height||!ee.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(ee));if(s=ee.blurWidth,h=ee.blurHeight,I=I||ee.blurDataURL,Z=ee.src,!T){if(Y||J){if(Y&&!J){var et=Y/ee.width;J=Math.round(ee.height*et)}else if(!Y&&J){var er=J/ee.height;Y=Math.round(ee.width*er)}}else Y=ee.width,J=ee.height}}var en=!S&&("lazy"===x||void 0===x);(!(m="string"==typeof m?m:Z)||m.startsWith("data:")||m.startsWith("blob:"))&&(b=!0,en=!1),i.unoptimized&&(b=!0),X&&m.endsWith(".svg")&&!i.dangerouslyAllowSVG&&(b=!0),S&&(_="high");var eo=v(P),ei=Object.assign(T?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:N,objectPosition:D}:{},B?{}:{color:"transparent"},C),ea=U||"empty"===R?null:"blur"===R?'url("data:image/svg+xml;charset=utf-8,'+(0,f.getImageBlurSvg)({widthInt:Y,heightInt:J,blurWidth:s,blurHeight:h,blurDataURL:I||"",objectFit:ei.objectFit})+'")':'url("'+R+'")',el=ea?{backgroundSize:ei.objectFit||"cover",backgroundPosition:ei.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:ea}:{},eu=function(e){var t=e.config,r=e.src,n=e.unoptimized,o=e.width,i=e.quality,a=e.sizes,l=e.loader;if(n)return{src:r,srcSet:void 0,sizes:void 0};var s=function(e,t,r){var n=e.deviceSizes,o=e.allSizes;if(r){for(var i,a=/(^|\s)(1?\d?\d)vw/g,l=[];i=a.exec(r);i)l.push(parseInt(i[2]));if(l.length){var s=.01*Math.min.apply(Math,l);return{widths:o.filter(function(e){return e>=n[0]*s}),kind:"w"}}return{widths:o,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:u(new Set([t,2*t].map(function(e){return o.find(function(t){return t>=e})||o[o.length-1]}))),kind:"x"}}(t,o,a),c=s.widths,f=s.kind,d=c.length-1;return{sizes:a||"w"!==f?a:"100vw",srcSet:c.map(function(e,n){return l({config:t,src:r,quality:i,width:e})+" "+("w"===f?e:n+1)+f}).join(", "),src:l({config:t,src:r,quality:i,width:c[d]})}}({config:i,src:m,unoptimized:b,width:Y,quality:eo,sizes:y,loader:K});return{props:a(a({},z),{},{loading:en?"lazy":x,fetchPriority:_,width:Y,height:J,decoding:"async",className:E,style:a(a({},ei),el),sizes:eu.sizes,srcSet:eu.srcSet,src:j||eu.src}),meta:{unoptimized:b,priority:S,placeholder:R,fill:T}}}},5515:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return y},defaultHead:function(){return p}});var i=r(6499),a=r(3715),l=r(7437),u=a._(r(2265)),s=i._(r(2903)),c=r(3263),f=r(4313),d=r(4169);function p(e){void 0===e&&(e=!1);var t=[(0,l.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,l.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function v(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===u.default.Fragment?e.concat(u.default.Children.toArray(t.props.children).reduce(function(e,t){return"string"==typeof t||"number"==typeof t?e:e.concat(t)},[])):e.concat(t)}r(6793);var h=["name","httpEquiv","charSet","itemProp"];function m(e,t){var r,i,a,l,s=t.inAmpMode;return e.reduce(v,[]).reverse().concat(p(s).reverse()).filter((r=new Set,i=new Set,a=new Set,l={},function(e){var t=!0,n=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){n=!0;var o=e.key.slice(e.key.indexOf("$")+1);r.has(o)?t=!1:r.add(o)}switch(e.type){case"title":case"base":i.has(e.type)?t=!1:i.add(e.type);break;case"meta":for(var u=0,s=h.length;u<s;u++){var c=h[u];if(e.props.hasOwnProperty(c)){if("charSet"===c)a.has(c)?t=!1:a.add(c);else{var f=e.props[c],d=l[c]||new Set;("name"!==c||!n)&&d.has(f)?t=!1:(d.add(f),l[c]=d)}}}}return t})).reverse().map(function(e,t){var r=e.key||t;if(!s&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(function(t){return e.props.href.startsWith(t)})){var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var o,i;o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e.props||{});return i["data-href"]=i.href,i.href=void 0,i["data-optimized-fonts"]=!0,u.default.cloneElement(e,i)}return u.default.cloneElement(e,{key:r})})}var y=function(e){var t=e.children,r=(0,u.useContext)(c.AmpStateContext),n=(0,u.useContext)(f.HeadManagerContext);return(0,l.jsx)(s.default,{reduceComponentsToState:m,headManager:n,inAmpMode:(0,d.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"===n(t.default)&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4948:function(e,t){function r(e){var t=e.widthInt,r=e.heightInt,n=e.blurWidth,o=e.blurHeight,i=e.blurDataURL,a=e.objectFit,l=n?40*n:t,u=o?40*o:r,s=l&&u?"viewBox='0 0 "+l+" "+u+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+s+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(s?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+i+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},9274:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageConfigContext",{enumerable:!0,get:function(){return i}});var n=r(6499)._(r(2265)),o=r(4967),i=n.default.createContext(o.imageConfigDefault)},4967:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return n}});var r=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},9227:function(e,t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return s},getImageProps:function(){return u}});var o=r(6499),i=r(5885),a=r(7325),l=o._(r(6115));function u(e){for(var t=(0,i.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/NEXT_ThreeJs/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}}).props,r=0,o=Object.entries(t);r<o.length;r++){var a,u=function(e){if(Array.isArray(e))return e}(a=o[r])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(a,2)||function(e,t){if(e){if("string"==typeof e)return n(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,2)}}(a,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=u[0];void 0===u[1]&&delete t[s]}return{props:t}}var s=a.Image},6115:function(e,t){function r(e){var t=e.config,r=e.src,n=e.width,o=e.quality;return t.path+"?url="+encodeURIComponent(r)+"&w="+n+"&q="+(o||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),r.__next_img_default=!0;var n=r},6249:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});var n=r(6499)._(r(2265)).default.createContext(null)},2903:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});var n=r(2265),o=n.useLayoutEffect,i=n.useEffect;function a(e){var t=e.headManager,r=e.reduceComponentsToState;function a(){if(t&&t.mountedInstances){var o=n.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(o,e))}}return o(function(){var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),function(){var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),o(function(){return t&&(t._pendingUpdate=a),function(){t&&(t._pendingUpdate=a)}}),i(function(){return t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),function(){t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)}}),null}},1269:function(e,t,r){r.d(t,{y1:function(){return S}});var n=r(2265);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}r(7437);var a=["shift","alt","meta","mod","ctrl"],l={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function u(e){return(e&&l[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function s(e,t){return void 0===t&&(t=","),e.split(t)}function c(e,t,r){void 0===t&&(t="+");var n=e.toLocaleLowerCase().split(t).map(function(e){return u(e)}),o={alt:n.includes("alt"),ctrl:n.includes("ctrl")||n.includes("control"),shift:n.includes("shift"),meta:n.includes("meta"),mod:n.includes("mod")},l=n.filter(function(e){return!a.includes(e)});return i({},o,{keys:l,description:r})}"undefined"!=typeof document&&(document.addEventListener("keydown",function(e){void 0!==e.key&&p([u(e.key),u(e.code)])}),document.addEventListener("keyup",function(e){void 0!==e.key&&v([u(e.key),u(e.code)])})),window.addEventListener("blur",function(){f.clear()});var f=new Set;function d(e){return Array.isArray(e)}function p(e){var t=Array.isArray(e)?e:[e];f.has("meta")&&f.forEach(function(e){return!a.includes(e)&&f.delete(e.toLowerCase())}),t.forEach(function(e){return f.add(e.toLowerCase())})}function v(e){var t=Array.isArray(e)?e:[e];"meta"===e?f.clear():t.forEach(function(e){return f.delete(e.toLowerCase())})}function h(e,t){var r=e.target;void 0===t&&(t=!1);var n=r&&r.tagName;return d(t)?!!(n&&t&&t.some(function(e){return e.toLowerCase()===n.toLowerCase()})):!!(n&&t&&!0===t)}var m=function(e,t,r){void 0===r&&(r=!1);var n,o=t.alt,i=t.meta,a=t.mod,l=t.shift,s=t.ctrl,c=t.keys,p=e.key,v=e.code,h=e.ctrlKey,m=e.metaKey,y=e.shiftKey,g=e.altKey,b=u(v),w=p.toLowerCase();if(!(null!=c&&c.includes(b))&&!(null!=c&&c.includes(w))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(b))return!1;if(!r){if(!g===o&&"alt"!==w||!y===l&&"shift"!==w)return!1;if(a){if(!m&&!h)return!1}else if(!m===i&&"meta"!==w&&"os"!==w||!h===s&&"ctrl"!==w&&"control"!==w)return!1}return!!(c&&1===c.length&&(c.includes(w)||c.includes(b)))||(c?(void 0===n&&(n=","),(d(c)?c:c.split(n)).every(function(e){return f.has(e.trim().toLowerCase())})):!c)},y=(0,n.createContext)(void 0),g=(0,n.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),b=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},w=n.useLayoutEffect;function S(e,t,r,i){var a,l=(0,n.useState)(null),f=l[0],S=l[1],x=(0,n.useRef)(!1),E=r instanceof Array?i instanceof Array?void 0:i:r,P=d(e)?e.join(null==E?void 0:E.splitKey):e,O=r instanceof Array?r:i instanceof Array?i:void 0,k=(0,n.useCallback)(t,null!=O?O:[]),A=(0,n.useRef)(k);O?A.current=k:A.current=t;var T=(!function e(t,r){return t&&r&&"object"===o(t)&&"object"===o(r)?Object.keys(t).length===Object.keys(r).length&&Object.keys(t).reduce(function(n,o){return n&&e(t[o],r[o])},!0):t===r}((a=(0,n.useRef)(void 0)).current,E)&&(a.current=E),a.current),C=(0,n.useContext)(g).enabledScopes,j=(0,n.useContext)(y);return w(function(){if((null==T?void 0:T.enabled)!==!1&&(e=null==T?void 0:T.scopes,0===C.length&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!!(!e||C.some(function(t){return e.includes(t)})||C.includes("*")))){var e,t=function(e,t){var r;if(void 0===t&&(t=!1),!h(e,["input","textarea","select"])||h(e,null==T?void 0:T.enableOnFormTags)){if(null!==f){var n=f.getRootNode();if((n instanceof Document||n instanceof ShadowRoot)&&n.activeElement!==f&&!f.contains(n.activeElement)){b(e);return}}(null==(r=e.target)||!r.isContentEditable||null!=T&&T.enableOnContentEditable)&&s(P,null==T?void 0:T.splitKey).forEach(function(r){var n,o,i,a=c(r,null==T?void 0:T.combinationKey);if(m(e,a,null==T?void 0:T.ignoreModifiers)||null!=(i=a.keys)&&i.includes("*")){if(null!=T&&null!=T.ignoreEventWhen&&T.ignoreEventWhen(e)||t&&x.current)return;if(("function"==typeof(n=null==T?void 0:T.preventDefault)&&n(e,a)||!0===n)&&e.preventDefault(),"function"==typeof(o=null==T?void 0:T.enabled)?!o(e,a):!0!==o&&void 0!==o){b(e);return}A.current(e,a),t||(x.current=!0)}})}},r=function(e){void 0!==e.key&&(p(u(e.code)),((null==T?void 0:T.keydown)===void 0&&(null==T?void 0:T.keyup)!==!0||null!=T&&T.keydown)&&t(e))},n=function(e){void 0!==e.key&&(v(u(e.code)),x.current=!1,null!=T&&T.keyup&&t(e,!0))},o=f||(null==E?void 0:E.document)||document;return o.addEventListener("keyup",n),o.addEventListener("keydown",r),j&&s(P,null==T?void 0:T.splitKey).forEach(function(e){return j.addHotkey(c(e,null==T?void 0:T.combinationKey,null==T?void 0:T.description))}),function(){o.removeEventListener("keyup",n),o.removeEventListener("keydown",r),j&&s(P,null==T?void 0:T.splitKey).forEach(function(e){return j.removeHotkey(c(e,null==T?void 0:T.combinationKey,null==T?void 0:T.description))})}}},[f,P,T,C]),S}},4705:function(e,t){t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},8047:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){var t,o,i,a,l,u={},s=r(2265),c=r(3364),f=Object.assign;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v=Symbol.for("react.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var k=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function T(e){return null===e||"object"!==n(e)?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}function C(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case h:return"Portal";case g:return"Profiler";case y:return"StrictMode";case x:return"Suspense";case E:return"SuspenseList"}if("object"===n(e))switch(e.$$typeof){case w:return(e.displayName||"Context")+".Consumer";case b:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return C(e(t))}catch(e){}}return null}function j(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(r=t.return),e=t.return;while(e)}return 3===t.tag?r:null}function M(e){if(j(e)!==e)throw Error(d(188))}function R(e){var t=e.alternate;if(!t){if(null===(t=j(e)))throw Error(d(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(n=o.return)){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return M(o),e;if(i===n)return M(o),t;i=i.sibling}throw Error(d(188))}if(r.return!==n.return)r=o,n=i;else{for(var a=!1,l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a)throw Error(d(189))}}if(r.alternate!==n)throw Error(d(190))}if(3!==r.tag)throw Error(d(188));return r.stateNode.current===r?e:t}function I(e){return null!==(e=R(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var r=e(t);if(null!==r)return r;t=t.sibling}return null}(e):null}var _,L=Array.isArray,N=e.getPublicInstance,D=e.getRootHostContext,z=e.getChildHostContext,F=e.prepareForCommit,B=e.resetAfterCommit,U=e.createInstance,H=e.appendInitialChild,V=e.finalizeInitialChildren,G=e.prepareUpdate,W=e.shouldSetTextContent,K=e.createTextInstance,X=e.scheduleTimeout,q=e.cancelTimeout,Q=e.noTimeout,$=e.isPrimaryRenderer,Z=e.supportsMutation,Y=e.supportsPersistence,J=e.supportsHydration,ee=e.getInstanceFromNode,et=e.preparePortalMount,er=e.getCurrentEventPriority,en=e.detachDeletedInstance,eo=e.supportsMicrotasks,ei=e.scheduleMicrotask,ea=e.supportsTestSelectors,el=e.findFiberRoot,eu=e.getBoundingRect,es=e.getTextContent,ec=e.isHiddenSubtree,ef=e.matchAccessibilityRole,ed=e.setFocusIfFocusable,ep=e.setupIntersectionObserver,ev=e.appendChild,eh=e.appendChildToContainer,em=e.commitTextUpdate,ey=e.commitMount,eg=e.commitUpdate,eb=e.insertBefore,ew=e.insertInContainerBefore,eS=e.removeChild,ex=e.removeChildFromContainer,eE=e.resetTextContent,eP=e.hideInstance,eO=e.hideTextInstance,ek=e.unhideInstance,eA=e.unhideTextInstance,eT=e.clearContainer,eC=e.cloneInstance,ej=e.createContainerChildSet,eM=e.appendChildToContainerChildSet,eR=e.finalizeContainerChildren,eI=e.replaceContainerChildren,e_=e.cloneHiddenInstance,eL=e.cloneHiddenTextInstance,eN=e.canHydrateInstance,eD=e.canHydrateTextInstance,ez=e.canHydrateSuspenseInstance,eF=e.isSuspenseInstancePending,eB=e.isSuspenseInstanceFallback,eU=e.registerSuspenseInstanceRetry,eH=e.getNextHydratableSibling,eV=e.getFirstHydratableChild,eG=e.getFirstHydratableChildWithinContainer,eW=e.getFirstHydratableChildWithinSuspenseInstance,eK=e.hydrateInstance,eX=e.hydrateTextInstance,eq=e.hydrateSuspenseInstance,eQ=e.getNextHydratableInstanceAfterSuspenseInstance,e$=e.commitHydratedContainer,eZ=e.commitHydratedSuspenseInstance,eY=e.clearSuspenseBoundary,eJ=e.clearSuspenseBoundaryFromContainer,e0=e.shouldDeleteUnhydratedTailInstances,e1=e.didNotMatchHydratedContainerTextInstance,e2=e.didNotMatchHydratedTextInstance;function e3(e){if(void 0===_)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);_=t&&t[1]||""}return"\n"+_+e}var e4=!1;function e6(e,t){if(!e||e4)return"";e4=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var o=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){o=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){o=e}e()}}catch(t){if(t&&o&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=o.stack.split("\n"),l=i.length-1,u=a.length-1;1<=l&&0<=u&&i[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==a[u]){if(1!==l||1!==u)do if(l--,0>--u||i[l]!==a[u]){var s="\n"+i[l].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=l&&0<=u);break}}}finally{e4=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?e3(e):""}var e5=Object.prototype.hasOwnProperty,e8=[],e7=-1;function e9(e){return{current:e}}function te(e){0>e7||(e.current=e8[e7],e8[e7]=null,e7--)}function tt(e,t){e8[++e7]=e.current,e.current=t}var tr={},tn=e9(tr),to=e9(!1),ti=tr;function ta(e,t){var r=e.type.contextTypes;if(!r)return tr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tl(e){return null!=(e=e.childContextTypes)}function tu(){te(to),te(tn)}function ts(e,t,r){if(tn.current!==tr)throw Error(d(168));tt(tn,t),tt(to,r)}function tc(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in t))throw Error(d(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(t);case 8:return t===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",o));return f({},r,n)}function tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,ti=tn.current,tt(tn,e),tt(to,to.current),!0}function td(e,t,r){var n=e.stateNode;if(!n)throw Error(d(169));r?(e=tc(e,t,ti),n.__reactInternalMemoizedMergedChildContext=e,te(to),te(tn),tt(tn,e)):te(to),tt(to,r)}var tp=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(tv(e)/th|0)|0},tv=Math.log,th=Math.LN2,tm=64,ty=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tb(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&r;if(0!==a){var l=a&~o;0!==l?n=tg(l):0!=(i&=a)&&(n=tg(i))}else 0!=(a=r&~o)?n=tg(a):0!==i&&(n=tg(i));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&o)&&((o=n&-n)>=(i=t&-t)||16===o&&0!=(4194240&i)))return t;if(0!=(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-tp(t)),n|=e[r],t&=~o;return n}function tw(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function tx(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-tp(t)]=r}function tE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tp(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var tP=0;function tO(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tk=c.unstable_scheduleCallback,tA=c.unstable_cancelCallback,tT=c.unstable_shouldYield,tC=c.unstable_requestPaint,tj=c.unstable_now,tM=c.unstable_ImmediatePriority,tR=c.unstable_UserBlockingPriority,tI=c.unstable_NormalPriority,t_=c.unstable_IdlePriority,tL=null,tN=null,tD="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tz=null,tF=!1,tB=!1;function tU(e){null===tz?tz=[e]:tz.push(e)}function tH(){if(!tB&&null!==tz){tB=!0;var e=0,t=tP;try{var r=tz;for(tP=1;e<r.length;e++){var n=r[e];do n=n(!0);while(null!==n)}tz=null,tF=!1}catch(t){throw null!==tz&&(tz=tz.slice(e+1)),tk(tM,tH),t}finally{tP=t,tB=!1}}return null}var tV=p.ReactCurrentBatchConfig;function tG(e,t){if(tD(e,t))return!0;if("object"!==n(e)||null===e||"object"!==n(t)||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var i=r[o];if(!e5.call(t,i)||!tD(e[i],t[i]))return!1}return!0}function tW(e,t){if(e&&e.defaultProps)for(var r in t=f({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var tK=e9(null),tX=null,tq=null,tQ=null;function t$(){tQ=tq=tX=null}function tZ(e,t,r){$?(tt(tK,t._currentValue),t._currentValue=r):(tt(tK,t._currentValue2),t._currentValue2=r)}function tY(e){var t=tK.current;te(tK),$?e._currentValue=t:e._currentValue2=t}function tJ(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function t0(e,t){tX=e,tQ=tq=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(n1=!0),e.firstContext=null)}function t1(e){var t=$?e._currentValue:e._currentValue2;if(tQ!==e){if(e={context:e,memoizedValue:t,next:null},null===tq){if(null===tX)throw Error(d(308));tq=e,tX.dependencies={lanes:0,firstContext:e}}else tq=tq.next=e}return t}var t2=null,t3=!1;function t4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function t5(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function t8(e,t){var r=e.updateQueue;null!==r&&(r=r.shared,null!==oQ&&0!=(1&e.mode)&&0==(2&oq)?(null===(e=r.interleaved)?(t.next=t,null===t2?t2=[r]:t2.push(r)):(t.next=e.next,e.next=t),r.interleaved=t):(null===(e=r.pending)?t.next=t:(t.next=e.next,e.next=t),r.pending=t))}function t7(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&r))){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tE(e,r)}}function t9(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?o=i=a:i=i.next=a,r=r.next}while(null!==r);null===i?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function re(e,t,r,n){var o=e.updateQueue;t3=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,s=u.next;u.next=null,null===a?i=s:a.next=s,a=u;var c=e.alternate;null!==c&&(l=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===l?c.firstBaseUpdate=s:l.next=s,c.lastBaseUpdate=u)}if(null!==i){var d=o.baseState;for(a=0,c=s=u=null,l=i;;){var p=l.lane,v=l.eventTime;if((n&p)===p){null!==c&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(p=t,v=r,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(v,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(v,d,p):h))break e;d=f({},d,p);break e;case 2:t3=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===c?(s=c=v,u=d):c=c.next=v,a|=p;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(p=l).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===c&&(u=d),o.baseState=u,o.firstBaseUpdate=s,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do a|=o.lane,o=o.next;while(o!==t)}else null===i&&(o.shared.lanes=0);o2|=a,e.lanes=a,e.memoizedState=d}}function rt(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!=typeof o)throw Error(d(191,o));o.call(n)}}}var rr=new s.Component().refs;function rn(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:f({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&j(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=id(),o=ip(e),i=t5(n,o);i.payload=t,null!=r&&(i.callback=r),t8(e,i),null!==(t=iv(e,o,n))&&t7(t,e,o)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=id(),o=ip(e),i=t5(n,o);i.tag=1,i.payload=t,null!=r&&(i.callback=r),t8(e,i),null!==(t=iv(e,o,n))&&t7(t,e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=id(),n=ip(e),o=t5(r,n);o.tag=2,null!=t&&(o.callback=t),t8(e,o),null!==(t=iv(e,n,r))&&t7(t,e,n)}};function ri(e,t,r,n,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,a):!t.prototype||!t.prototype.isPureReactComponent||!tG(r,n)||!tG(o,i)}function ra(e,t,r){var o=!1,i=tr,a=t.contextType;return"object"===n(a)&&null!==a?a=t1(a):(i=tl(t)?ti:tn.current,a=(o=null!=(o=t.contextTypes))?ta(e,i):tr),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function rl(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function ru(e,t,r,o){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=rr,t4(e);var a=t.contextType;"object"===n(a)&&null!==a?i.context=t1(a):(a=tl(t)?ti:tn.current,i.context=ta(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(rn(e,t,a,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),re(e,r,i,o),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var rs=[],rc=0,rf=null,rd=0,rp=[],rv=0,rh=null,rm=1,ry="";function rg(e,t){rs[rc++]=rd,rs[rc++]=rf,rf=e,rd=t}function rb(e,t,r){rp[rv++]=rm,rp[rv++]=ry,rp[rv++]=rh,rh=e;var n=rm;e=ry;var o=32-tp(n)-1;n&=~(1<<o),r+=1;var i=32-tp(t)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,rm=1<<32-tp(t)+o|r<<o|n,ry=i+e}else rm=1<<i|r<<o|n,ry=e}function rw(e){null!==e.return&&(rg(e,1),rb(e,1,0))}function rS(e){for(;e===rf;)rf=rs[--rc],rs[rc]=null,rd=rs[--rc],rs[rc]=null;for(;e===rh;)rh=rp[--rv],rp[rv]=null,ry=rp[--rv],rp[rv]=null,rm=rp[--rv],rp[rv]=null}var rx=null,rE=null,rP=!1,rO=!1,rk=null;function rA(e,t){var r=iB(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function rT(e,t){switch(e.tag){case 5:return null!==(t=eN(t,e.type,e.pendingProps))&&(e.stateNode=t,rx=e,rE=eV(t),!0);case 6:return null!==(t=eD(t,e.pendingProps))&&(e.stateNode=t,rx=e,rE=null,!0);case 13:if(null!==(t=ez(t))){var r=null!==rh?{id:rm,overflow:ry}:null;return e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=iB(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rx=e,rE=null,!0}return!1;default:return!1}}function rC(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function rj(e){if(rP){var t=rE;if(t){var r=t;if(!rT(e,t)){if(rC(e))throw Error(d(418));t=eH(r);var n=rx;t&&rT(e,t)?rA(n,r):(e.flags=-4097&e.flags|2,rP=!1,rx=e)}}else{if(rC(e))throw Error(d(418));e.flags=-4097&e.flags|2,rP=!1,rx=e}}}function rM(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rx=e}function rR(e){if(!J||e!==rx)return!1;if(!rP)return rM(e),rP=!0,!1;if(3!==e.tag&&(5!==e.tag||e0(e.type)&&!W(e.type,e.memoizedProps))){var t=rE;if(t){if(rC(e)){for(e=rE;e;)e=eH(e);throw Error(d(418))}for(;t;)rA(e,t),t=eH(t)}}if(rM(e),13===e.tag){if(!J)throw Error(d(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(d(317));rE=eQ(e)}else rE=rx?eH(e.stateNode):null;return!0}function rI(){J&&(rE=rx=null,rO=rP=!1)}function r_(e){null===rk?rk=[e]:rk.push(e)}function rL(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!==n(e)){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(d(309));var o=r.stateNode}if(!o)throw Error(d(147,e));var i=o,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=i.refs;t===rr&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(d(284));if(!r._owner)throw Error(d(290,e))}return e}function rN(e,t){throw Error(d(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rD(e){return(0,e._init)(e._payload)}function rz(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=iH(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return(t.index=n,e)?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,r,n){return null===t||6!==t.tag?(t=iK(r,e.mode,n)).return=e:(t=i(t,r)).return=e,t}function s(e,t,r,o){var a=r.type;return a===m?f(e,t,r.props.children,o,r.key):(null!==t&&(t.elementType===a||"object"===n(a)&&null!==a&&a.$$typeof===O&&rD(a)===t.type)?(o=i(t,r.props)).ref=rL(e,t,r):(o=iV(r.type,r.key,r.props,null,e.mode,o)).ref=rL(e,t,r),o.return=e,o)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(t=iX(r,e.mode,n)).return=e:(t=i(t,r.children||[])).return=e,t}function f(e,t,r,n,o){return null===t||7!==t.tag?(t=iG(r,e.mode,n,o)).return=e:(t=i(t,r)).return=e,t}function p(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=iK(""+t,e.mode,r)).return=e,t;if("object"===n(t)&&null!==t){switch(t.$$typeof){case v:return(r=iV(t.type,t.key,t.props,null,e.mode,r)).ref=rL(e,null,t),r.return=e,r;case h:return(t=iX(t,e.mode,r)).return=e,t;case O:return p(e,(0,t._init)(t._payload),r)}if(L(t)||T(t))return(t=iG(t,e.mode,r,null)).return=e,t;rN(e,t)}return null}function y(e,t,r,o){var i=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==i?null:u(e,t,""+r,o);if("object"===n(r)&&null!==r){switch(r.$$typeof){case v:return r.key===i?s(e,t,r,o):null;case h:return r.key===i?c(e,t,r,o):null;case O:return y(e,t,(i=r._init)(r._payload),o)}if(L(r)||T(r))return null!==i?null:f(e,t,r,o,null);rN(e,r)}return null}function g(e,t,r,o,i){if("string"==typeof o&&""!==o||"number"==typeof o)return u(t,e=e.get(r)||null,""+o,i);if("object"===n(o)&&null!==o){switch(o.$$typeof){case v:return s(t,e=e.get(null===o.key?r:o.key)||null,o,i);case h:return c(t,e=e.get(null===o.key?r:o.key)||null,o,i);case O:return g(e,t,r,(0,o._init)(o._payload),i)}if(L(o)||T(o))return f(t,e=e.get(r)||null,o,i,null);rN(t,o)}return null}return function u(s,c,f,b){if("object"===n(f)&&null!==f&&f.type===m&&null===f.key&&(f=f.props.children),"object"===n(f)&&null!==f){switch(f.$$typeof){case v:e:{for(var w=f.key,S=c;null!==S;){if(S.key===w){if((w=f.type)===m){if(7===S.tag){r(s,S.sibling),(c=i(S,f.props.children)).return=s,s=c;break e}}else if(S.elementType===w||"object"===n(w)&&null!==w&&w.$$typeof===O&&rD(w)===S.type){r(s,S.sibling),(c=i(S,f.props)).ref=rL(s,S,f),c.return=s,s=c;break e}r(s,S);break}t(s,S),S=S.sibling}f.type===m?((c=iG(f.props.children,s.mode,b,f.key)).return=s,s=c):((b=iV(f.type,f.key,f.props,null,s.mode,b)).ref=rL(s,c,f),b.return=s,s=b)}return l(s);case h:e:{for(S=f.key;null!==c;){if(c.key===S){if(4===c.tag&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){r(s,c.sibling),(c=i(c,f.children||[])).return=s,s=c;break e}r(s,c);break}t(s,c),c=c.sibling}(c=iX(f,s.mode,b)).return=s,s=c}return l(s);case O:return u(s,c,(S=f._init)(f._payload),b)}if(L(f))return function(n,i,l,u){for(var s=null,c=null,f=i,d=i=0,v=null;null!==f&&d<l.length;d++){f.index>d?(v=f,f=null):v=f.sibling;var h=y(n,f,l[d],u);if(null===h){null===f&&(f=v);break}e&&f&&null===h.alternate&&t(n,f),i=a(h,i,d),null===c?s=h:c.sibling=h,c=h,f=v}if(d===l.length)return r(n,f),rP&&rg(n,d),s;if(null===f){for(;d<l.length;d++)null!==(f=p(n,l[d],u))&&(i=a(f,i,d),null===c?s=f:c.sibling=f,c=f);return rP&&rg(n,d),s}for(f=o(n,f);d<l.length;d++)null!==(v=g(f,n,d,l[d],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?d:v.key),i=a(v,i,d),null===c?s=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return t(n,e)}),rP&&rg(n,d),s}(s,c,f,b);if(T(f))return function(n,i,l,u){var s=T(l);if("function"!=typeof s)throw Error(d(150));if(null==(l=s.call(l)))throw Error(d(151));for(var c=s=null,f=i,v=i=0,h=null,m=l.next();null!==f&&!m.done;v++,m=l.next()){f.index>v?(h=f,f=null):h=f.sibling;var b=y(n,f,m.value,u);if(null===b){null===f&&(f=h);break}e&&f&&null===b.alternate&&t(n,f),i=a(b,i,v),null===c?s=b:c.sibling=b,c=b,f=h}if(m.done)return r(n,f),rP&&rg(n,v),s;if(null===f){for(;!m.done;v++,m=l.next())null!==(m=p(n,m.value,u))&&(i=a(m,i,v),null===c?s=m:c.sibling=m,c=m);return rP&&rg(n,v),s}for(f=o(n,f);!m.done;v++,m=l.next())null!==(m=g(f,n,v,m.value,u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),i=a(m,i,v),null===c?s=m:c.sibling=m,c=m);return e&&f.forEach(function(e){return t(n,e)}),rP&&rg(n,v),s}(s,c,f,b);rN(s,f)}return"string"==typeof f&&""!==f||"number"==typeof f?(f=""+f,null!==c&&6===c.tag?(r(s,c.sibling),(c=i(c,f)).return=s):(r(s,c),(c=iK(f,s.mode,b)).return=s),l(s=c)):r(s,c)}}var rF=rz(!0),rB=rz(!1),rU={},rH=e9(rU),rV=e9(rU),rG=e9(rU);function rW(e){if(e===rU)throw Error(d(174));return e}function rK(e,t){tt(rG,t),tt(rV,e),tt(rH,rU),e=D(t),te(rH),tt(rH,e)}function rX(){te(rH),te(rV),te(rG)}function rq(e){var t=rW(rG.current),r=rW(rH.current);t=z(r,e.type,t),r!==t&&(tt(rV,e),tt(rH,t))}function rQ(e){rV.current===e&&(te(rH),te(rV))}var r$=e9(0);function rZ(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||eF(r)||eB(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rY=[];function rJ(){for(var e=0;e<rY.length;e++){var t=rY[e];$?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}rY.length=0}var r0=p.ReactCurrentDispatcher,r1=p.ReactCurrentBatchConfig,r2=0,r3=null,r4=null,r6=null,r5=!1,r8=!1,r7=0,r9=0;function ne(){throw Error(d(321))}function nt(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tD(e[r],t[r]))return!1;return!0}function nr(e,t,r,n,o,i){if(r2=i,r3=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,r0.current=null===e||null===e.memoizedState?nz:nF,e=r(n,o),r8){i=0;do{if(r8=!1,r7=0,25<=i)throw Error(d(301));i+=1,r6=r4=null,t.updateQueue=null,r0.current=nB,e=r(n,o)}while(r8)}if(r0.current=nD,t=null!==r4&&null!==r4.next,r2=0,r6=r4=r3=null,r5=!1,t)throw Error(d(300));return e}function nn(){var e=0!==r7;return r7=0,e}function no(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===r6?r3.memoizedState=r6=e:r6=r6.next=e,r6}function ni(){if(null===r4){var e=r3.alternate;e=null!==e?e.memoizedState:null}else e=r4.next;var t=null===r6?r3.memoizedState:r6.next;if(null!==t)r6=t,r4=e;else{if(null===e)throw Error(d(310));e={memoizedState:(r4=e).memoizedState,baseState:r4.baseState,baseQueue:r4.baseQueue,queue:r4.queue,next:null},null===r6?r3.memoizedState=r6=e:r6=r6.next=e}return r6}function na(e,t){return"function"==typeof t?t(e):t}function nl(e){var t=ni(),r=t.queue;if(null===r)throw Error(d(311));r.lastRenderedReducer=e;var n=r4,o=n.baseQueue,i=r.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}n.baseQueue=o=i,r.pending=null}if(null!==o){i=o.next,n=n.baseState;var l=a=null,u=null,s=i;do{var c=s.lane;if((r2&c)===c)null!==u&&(u=u.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),n=s.hasEagerState?s.eagerState:e(n,s.action);else{var f={lane:c,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===u?(l=u=f,a=n):u=u.next=f,r3.lanes|=c,o2|=c}s=s.next}while(null!==s&&s!==i);null===u?a=n:u.next=l,tD(n,t.memoizedState)||(n1=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){o=e;do i=o.lane,r3.lanes|=i,o2|=i,o=o.next;while(o!==e)}else null===o&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nu(e){var t=ni(),r=t.queue;if(null===r)throw Error(d(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(null!==o){r.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);tD(i,t.memoizedState)||(n1=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ns(){}function nc(e,t){var r=r3,n=ni(),o=t(),i=!tD(n.memoizedState,o);if(i&&(n.memoizedState=o,n1=!0),n=n.queue,nS(np.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==r6&&1&r6.memoizedState.tag){if(r.flags|=2048,nm(9,nd.bind(null,r,n,o,t),void 0,null),null===oQ)throw Error(d(349));0!=(30&r2)||nf(r,t,o)}return o}function nf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=r3.updateQueue)?(t={lastEffect:null,stores:null},r3.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function nd(e,t,r,n){t.value=r,t.getSnapshot=n,nv(t)&&iv(e,1,-1)}function np(e,t,r){return r(function(){nv(t)&&iv(e,1,-1)})}function nv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tD(e,r)}catch(e){return!0}}function nh(e){var t=no();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:e},t.queue=e,e=e.dispatch=nR.bind(null,r3,e),[t.memoizedState,e]}function nm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=r3.updateQueue)?(t={lastEffect:null,stores:null},r3.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ny(){return ni().memoizedState}function ng(e,t,r,n){var o=no();r3.flags|=e,o.memoizedState=nm(1|t,r,void 0,void 0===n?null:n)}function nb(e,t,r,n){var o=ni();n=void 0===n?null:n;var i=void 0;if(null!==r4){var a=r4.memoizedState;if(i=a.destroy,null!==n&&nt(n,a.deps)){o.memoizedState=nm(t,r,i,n);return}}r3.flags|=e,o.memoizedState=nm(1|t,r,i,n)}function nw(e,t){return ng(8390656,8,e,t)}function nS(e,t){return nb(2048,8,e,t)}function nx(e,t){return nb(4,2,e,t)}function nE(e,t){return nb(4,4,e,t)}function nP(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function nO(e,t,r){return r=null!=r?r.concat([e]):null,nb(4,4,nP.bind(null,t,e),r)}function nk(){}function nA(e,t){var r=ni();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&nt(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function nT(e,t){var r=ni();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&nt(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nC(e,t){var r=tP;tP=0!==r&&4>r?r:4,e(!0);var n=r1.transition;r1.transition={};try{e(!1),t()}finally{tP=r,r1.transition=n}}function nj(){return ni().memoizedState}function nM(e,t,r){var n=ip(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nI(e)?n_(t,r):(nL(e,t,r),null!==(e=iv(e,n,r=id()))&&nN(e,t,n))}function nR(e,t,r){var n=ip(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nI(e))n_(t,o);else{nL(e,t,o);var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=i(a,r);if(o.hasEagerState=!0,o.eagerState=l,tD(l,a))return}catch(e){}finally{}null!==(e=iv(e,n,r=id()))&&nN(e,t,n)}}function nI(e){var t=e.alternate;return e===r3||null!==t&&t===r3}function n_(e,t){r8=r5=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nL(e,t,r){null!==oQ&&0!=(1&e.mode)&&0==(2&oq)?(null===(e=t.interleaved)?(r.next=r,null===t2?t2=[t]:t2.push(t)):(r.next=e.next,e.next=r),t.interleaved=r):(null===(e=t.pending)?r.next=r:(r.next=e.next,e.next=r),t.pending=r)}function nN(e,t,r){if(0!=(4194240&r)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tE(e,r)}}var nD={readContext:t1,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useInsertionEffect:ne,useLayoutEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useMutableSource:ne,useSyncExternalStore:ne,useId:ne,unstable_isNewReconciler:!1},nz={readContext:t1,useCallback:function(e,t){return no().memoizedState=[e,void 0===t?null:t],e},useContext:t1,useEffect:nw,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,ng(4194308,4,nP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ng(4194308,4,e,t)},useInsertionEffect:function(e,t){return ng(4,2,e,t)},useMemo:function(e,t){var r=no();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=no();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nM.bind(null,r3,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},no().memoizedState=e},useState:nh,useDebugValue:nk,useDeferredValue:function(e){var t=nh(e),r=t[0],n=t[1];return nw(function(){var t=r1.transition;r1.transition={};try{n(e)}finally{r1.transition=t}},[e]),r},useTransition:function(){var e=nh(!1),t=e[0];return e=nC.bind(null,e[1]),no().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=r3,o=no();if(rP){if(void 0===r)throw Error(d(407));r=r()}else{if(r=t(),null===oQ)throw Error(d(349));0!=(30&r2)||nf(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,nw(np.bind(null,n,i,e),[e]),n.flags|=2048,nm(9,nd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=no(),t=oQ.identifierPrefix;if(rP){var r=ry,n=rm;t=":"+t+"R"+(r=(n&~(1<<32-tp(n)-1)).toString(32)+r),0<(r=r7++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=r9++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nF={readContext:t1,useCallback:nA,useContext:t1,useEffect:nS,useImperativeHandle:nO,useInsertionEffect:nx,useLayoutEffect:nE,useMemo:nT,useReducer:nl,useRef:ny,useState:function(){return nl(na)},useDebugValue:nk,useDeferredValue:function(e){var t=nl(na),r=t[0],n=t[1];return nS(function(){var t=r1.transition;r1.transition={};try{n(e)}finally{r1.transition=t}},[e]),r},useTransition:function(){return[nl(na)[0],ni().memoizedState]},useMutableSource:ns,useSyncExternalStore:nc,useId:nj,unstable_isNewReconciler:!1},nB={readContext:t1,useCallback:nA,useContext:t1,useEffect:nS,useImperativeHandle:nO,useInsertionEffect:nx,useLayoutEffect:nE,useMemo:nT,useReducer:nu,useRef:ny,useState:function(){return nu(na)},useDebugValue:nk,useDeferredValue:function(e){var t=nu(na),r=t[0],n=t[1];return nS(function(){var t=r1.transition;r1.transition={};try{n(e)}finally{r1.transition=t}},[e]),r},useTransition:function(){return[nu(na)[0],ni().memoizedState]},useMutableSource:ns,useSyncExternalStore:nc,useId:nj,unstable_isNewReconciler:!1};function nU(e,t){try{var r="",n=t;do r+=function(e){switch(e.tag){case 5:return e3(e.type);case 16:return e3("Lazy");case 13:return e3("Suspense");case 19:return e3("SuspenseList");case 0:case 2:case 15:return e=e6(e.type,!1);case 11:return e=e6(e.type.render,!1);case 1:return e=e6(e.type,!0);default:return""}}(n),n=n.return;while(n);var o=r}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function nH(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var nV="function"==typeof WeakMap?WeakMap:Map;function nG(e,t,r){(r=t5(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ie||(ie=!0,it=n),nH(e,t)},r}function nW(e,t,r){(r=t5(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){nH(e,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(r.callback=function(){nH(e,t),"function"!=typeof n&&(null===ir?ir=new Set([this]):ir.add(this));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}function nK(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new nV;var o=new Set;n.set(t,o)}else void 0===(o=n.get(t))&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=iL.bind(null,e,t,r),t.then(e,e))}function nX(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function nq(e,t,r,n,o){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=t5(-1,1)).tag=2,t8(r,t))),r.lanes|=1):(e.flags|=65536,e.lanes=o),e}function nQ(e){e.flags|=4}function n$(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Z)t=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)H(e,r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},o=function(){},i=function(e,t,r,n,o){(e=e.memoizedProps)!==n&&(r=G(t.stateNode,r,e,n,o,rW(rH.current)),(t.updateQueue=r)&&nQ(t))},a=function(e,t,r,n){r!==n&&nQ(t)};else if(Y){t=function(e,r,n,o){for(var i=r.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&o&&(a=e_(a,i.type,i.memoizedProps,i)),H(e,a)}else if(6===i.tag)a=i.stateNode,n&&o&&(a=eL(a,i.memoizedProps,i)),H(e,a);else if(4!==i.tag){if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),t(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===r)break;for(;null===i.sibling;){if(null===i.return||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var nZ=function(e,t,r,n){for(var o=t.child;null!==o;){if(5===o.tag){var i=o.stateNode;r&&n&&(i=e_(i,o.type,o.memoizedProps,o)),eM(e,i)}else if(6===o.tag)i=o.stateNode,r&&n&&(i=eL(i,o.memoizedProps,o)),eM(e,i);else if(4!==o.tag){if(22===o.tag&&null!==o.memoizedState)null!==(i=o.child)&&(i.return=o),nZ(e,o,!0,!0);else if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};o=function(e,t){var r=t.stateNode;if(!n$(e,t)){var n=ej(e=r.containerInfo);nZ(n,t,!1,!1),r.pendingChildren=n,nQ(t),eR(e,n)}},i=function(e,r,n,o,i){var a=e.stateNode,l=e.memoizedProps;if((e=n$(e,r))&&l===o)r.stateNode=a;else{var u=r.stateNode,s=rW(rH.current),c=null;l!==o&&(c=G(u,n,l,o,i,s)),e&&null===c?r.stateNode=a:(V(a=eC(a,c,n,l,o,r,e,u),n,o,i,s)&&nQ(r),r.stateNode=a,e?nQ(r):t(a,r,!1,!1))}},a=function(e,t,r,n){r!==n?(e=rW(rG.current),r=rW(rH.current),t.stateNode=K(n,e,r,t),nQ(t)):t.stateNode=e.stateNode}}else o=function(){},i=function(){},a=function(){};function nY(e,t){if(!rP)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nJ(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=14680064&o.subtreeFlags,n|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}var n0=p.ReactCurrentOwner,n1=!1;function n2(e,t,r,n){t.child=null===e?rB(t,null,r,n):rF(t,e.child,r,n)}function n3(e,t,r,n,o){r=r.render;var i=t.ref;return(t0(t,o),n=nr(e,t,r,n,i,o),r=nn(),null===e||n1)?(rP&&r&&rw(t),t.flags|=1,n2(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,of(e,t,o))}function n4(e,t,r,n,o){if(null===e){var i=r.type;return"function"!=typeof i||iU(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=iV(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,n6(e,t,i,n,o))}if(i=e.child,0==(e.lanes&o)){var a=i.memoizedProps;if((r=null!==(r=r.compare)?r:tG)(a,n)&&e.ref===t.ref)return of(e,t,o)}return t.flags|=1,(e=iH(i,n)).ref=t.ref,e.return=t,t.child=e}function n6(e,t,r,n,o){if(null!==e&&tG(e.memoizedProps,n)&&e.ref===t.ref){if(n1=!1,0==(e.lanes&o))return t.lanes=e.lanes,of(e,t,o);0!=(131072&e.flags)&&(n1=!0)}return n7(e,t,r,n,o)}function n5(e,t,r){var n=t.pendingProps,o=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},tt(oJ,oY),oY|=r;else{if(0==(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,tt(oJ,oY),oY|=e,null;t.memoizedState={baseLanes:0,cachePool:null},n=null!==i?i.baseLanes:r,tt(oJ,oY),oY|=n}}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,tt(oJ,oY),oY|=n;return n2(e,t,o,r),t.child}function n8(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function n7(e,t,r,n,o){var i=tl(r)?ti:tn.current;return(i=ta(t,i),t0(t,o),r=nr(e,t,r,n,i,o),n=nn(),null===e||n1)?(rP&&n&&rw(t),t.flags|=1,n2(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,of(e,t,o))}function n9(e,t,r,o,i){if(tl(r)){var a=!0;tf(t)}else a=!1;if(t0(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ra(t,r,o),ru(t,r,o,i),o=!0;else if(null===e){var l=t.stateNode,u=t.memoizedProps;l.props=u;var s=l.context,c=r.contextType;c="object"===n(c)&&null!==c?t1(c):ta(t,c=tl(r)?ti:tn.current);var f=r.getDerivedStateFromProps,d="function"==typeof f||"function"==typeof l.getSnapshotBeforeUpdate;d||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(u!==o||s!==c)&&rl(t,l,o,c),t3=!1;var p=t.memoizedState;l.state=p,re(t,o,l,i),s=t.memoizedState,u!==o||p!==s||to.current||t3?("function"==typeof f&&(rn(t,r,f,o),s=t.memoizedState),(u=t3||ri(t,r,u,o,p,s,c))?(d||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=s),l.props=o,l.state=s,l.context=c,o=u):("function"==typeof l.componentDidMount&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,t6(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:tW(t.type,u),l.props=c,d=t.pendingProps,p=l.context,s=r.contextType,s="object"===n(s)&&null!==s?t1(s):ta(t,s=tl(r)?ti:tn.current);var v=r.getDerivedStateFromProps;(f="function"==typeof v||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(u!==d||p!==s)&&rl(t,l,o,s),t3=!1,p=t.memoizedState,l.state=p,re(t,o,l,i);var h=t.memoizedState;u!==d||p!==h||to.current||t3?("function"==typeof v&&(rn(t,r,v,o),h=t.memoizedState),(c=t3||ri(t,r,c,o,p,h,s)||!1)?(f||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(o,h,s),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(o,h,s)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=h),l.props=o,l.state=h,l.context=s,o=c):("function"!=typeof l.componentDidUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return oe(e,t,r,o,a,i)}function oe(e,t,r,n,o,i){n8(e,t);var a=0!=(128&t.flags);if(!n&&!a)return o&&td(t,r,!1),of(e,t,i);n=t.stateNode,n0.current=t;var l=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=rF(t,e.child,null,i),t.child=rF(t,null,l,i)):n2(e,t,l,i),t.memoizedState=n.state,o&&td(t,r,!0),t.child}function ot(e){var t=e.stateNode;t.pendingContext?ts(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ts(e,t.context,!1),rK(e,t.containerInfo)}function or(e,t,r,n,o){return rI(),r_(o),t.flags|=256,n2(e,t,r,n),t.child}var on={dehydrated:null,treeContext:null,retryLane:0};function oo(e){return{baseLanes:e,cachePool:null}}function oi(e,t,r){var n,o,i,a,l,u,s,c,f,p,v,h,m,y,g=t.pendingProps,b=r$.current,w=!1,S=0!=(128&t.flags);if((y=S)||(y=(null===e||null!==e.memoizedState)&&0!=(2&b)),y?(w=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(b|=1),tt(r$,1&b),null===e)return(rj(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:eB(e)?t.lanes=8:t.lanes=1073741824,null):(b=g.children,e=g.fallback,w?(g=t.mode,w=t.child,b={mode:"hidden",children:b},0==(1&g)&&null!==w?(w.childLanes=0,w.pendingProps=b):w=iW(b,g,0,null),e=iG(e,g,r,null),w.return=t,e.return=t,w.sibling=e,t.child=w,t.child.memoizedState=oo(r),t.memoizedState=on,e):oa(t,b));if(null!==(b=e.memoizedState)&&null!==(y=b.dehydrated)){if(S)return 256&t.flags?(t.flags&=-257,ol(e,t,r,Error(d(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(w=g.fallback,b=t.mode,g=iW({mode:"visible",children:g.children},b,0,null),w=iG(w,b,r,null),w.flags|=2,g.return=t,w.return=t,g.sibling=w,t.child=g,0!=(1&t.mode)&&rF(t,e.child,null,r),t.child.memoizedState=oo(r),t.memoizedState=on,w);if(0==(1&t.mode))t=ol(e,t,r,null);else if(eB(y))t=ol(e,t,r,Error(d(419)));else if(g=0!=(r&e.childLanes),n1||g){if(null!==(g=oQ)){switch(r&-r){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}0!==(g=0!=(w&(g.suspendedLanes|r))?0:w)&&g!==b.retryLane&&(b.retryLane=g,iv(e,g,-1))}iA(),t=ol(e,t,r,Error(d(421)))}else eF(y)?(t.flags|=128,t.child=e.child,eU(y,t=iD.bind(null,e)),t=null):(r=b.treeContext,J&&(rE=eW(y),rx=t,rP=!0,rk=null,rO=!1,null!==r&&(rp[rv++]=rm,rp[rv++]=ry,rp[rv++]=rh,rm=r.id,ry=r.overflow,rh=t)),t=oa(t,t.pendingProps.children),t.flags|=4096);return t}return w?(n=e,o=t,i=g.children,a=g.fallback,l=r,u=o.mode,s=(n=n.child).sibling,c={mode:"hidden",children:i},0==(1&u)&&o.child!==n?((i=o.child).childLanes=0,i.pendingProps=c,o.deletions=null):(i=iH(n,c)).subtreeFlags=14680064&n.subtreeFlags,null!==s?a=iH(s,a):(a=iG(a,u,l,null),a.flags|=2),a.return=o,i.return=o,i.sibling=a,o.child=i,g=a,w=t.child,b=e.child.memoizedState,w.memoizedState=null===b?oo(r):{baseLanes:b.baseLanes|r,cachePool:null},w.childLanes=e.childLanes&~r,t.memoizedState=on,g):(f=e,p=t,v=g.children,h=r,f=(m=f.child).sibling,v=iH(m,{mode:"visible",children:v}),0==(1&p.mode)&&(v.lanes=h),v.return=p,v.sibling=null,null!==f&&(null===(h=p.deletions)?(p.deletions=[f],p.flags|=16):h.push(f)),r=p.child=v,t.memoizedState=null,r)}function oa(e,t){return(t=iW({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ol(e,t,r,n){return null!==n&&r_(n),rF(t,e.child,null,r),e=oa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ou(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),tJ(e.return,t,r)}function os(e,t,r,n,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function oc(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(n2(e,t,n.children,r),0!=(2&(n=r$.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ou(e,r,t);else if(19===e.tag)ou(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tt(r$,n),0==(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(o=null,r=t.child;null!==r;)null!==(e=r.alternate)&&null===rZ(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),os(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===rZ(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}os(t,!0,r,null,i);break;case"together":os(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function of(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),o2|=t.lanes,0==(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(d(153));if(null!==t.child){for(r=iH(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=iH(e,e.pendingProps)).return=t;r.sibling=null}return t.child}var od=!1,op=!1,ov="function"==typeof WeakSet?WeakSet:Set,oh=null;function om(e,t){var r=e.ref;if(null!==r){if("function"==typeof r)try{r(null)}catch(r){i_(e,t,r)}else r.current=null}}function oy(e,t,r){try{r()}catch(r){i_(e,t,r)}}var og=!1;function ob(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&oy(t,r,i)}o=o.next}while(o!==n)}}function ow(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function oS(e){var t=e.ref;if(null!==t){var r=e.stateNode;e=5===e.tag?N(r):r,"function"==typeof t?t(e):t.current=e}}function ox(e,t,r){if(tN&&"function"==typeof tN.onCommitFiberUnmount)try{tN.onCommitFiberUnmount(tL,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var o=n,i=o.destroy;o=o.tag,void 0!==i&&(0!=(2&o)?oy(t,r,i):0!=(4&o)&&oy(t,r,i)),n=n.next}while(n!==e)}break;case 1:if(om(t,r),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){i_(t,r,e)}break;case 5:om(t,r);break;case 4:Z?oA(e,t,r):Y&&Y&&(r=ej(t=t.stateNode.containerInfo),eI(t,r))}}function oE(e,t,r){for(var n=t;;)if(ox(e,n,r),null===n.child||Z&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function oP(e){return 5===e.tag||3===e.tag||4===e.tag}function oO(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||oP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ok(e){if(Z){e:{for(var t=e.return;null!==t;){if(oP(t))break e;t=t.return}throw Error(d(160))}var r=t;switch(r.tag){case 5:t=r.stateNode,32&r.flags&&(eE(t),r.flags&=-33),r=oO(e),function e(t,r,n){var o=t.tag;if(5===o||6===o)t=t.stateNode,r?eb(n,t,r):ev(n,t);else if(4!==o&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t);break;case 3:case 4:t=r.stateNode.containerInfo,r=oO(e),function e(t,r,n){var o=t.tag;if(5===o||6===o)t=t.stateNode,r?ew(n,t,r):eh(n,t);else if(4!==o&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t);break;default:throw Error(d(161))}}}function oA(e,t,r){for(var n,o,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(d(160));switch(n=a.stateNode,a.tag){case 5:o=!1;break e;case 3:case 4:n=n.containerInfo,o=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag)oE(e,i,r),o?ex(n,i.stateNode):eS(n,i.stateNode);else if(18===i.tag)o?eJ(n,i.stateNode):eY(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(ox(e,i,r),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function oT(e,t){if(Z){switch(t.tag){case 0:case 11:case 14:case 15:ob(3,t,t.return),ow(3,t),ob(5,t,t.return);return;case 1:case 12:case 17:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var o=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&eg(r,i,o,e,n,t)}return;case 6:if(null===t.stateNode)throw Error(d(162));r=t.memoizedProps,em(t.stateNode,null!==e?e.memoizedProps:r,r);return;case 3:J&&null!==e&&e.memoizedState.isDehydrated&&e$(t.stateNode.containerInfo);return;case 13:case 19:oC(t);return}throw Error(d(163))}switch(t.tag){case 0:case 11:case 14:case 15:ob(3,t,t.return),ow(3,t),ob(5,t,t.return);return;case 12:case 22:case 23:return;case 13:case 19:oC(t);return;case 3:J&&null!==e&&e.memoizedState.isDehydrated&&e$(t.stateNode.containerInfo)}e:if(Y){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:eI((t=t.stateNode).containerInfo,t.pendingChildren);break e}throw Error(d(163))}}function oC(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ov),t.forEach(function(t){var n=iz.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function oj(e){for(;null!==oh;){var t=oh;if(0!=(8772&t.flags)){var r=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:op||ow(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!op){if(null===r)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:tW(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}}var i=t.updateQueue;null!==i&&rt(t,i,n);break;case 3:var a=t.updateQueue;if(null!==a){if(r=null,null!==t.child)switch(t.child.tag){case 5:r=N(t.child.stateNode);break;case 1:r=t.child.stateNode}rt(t,a,r)}break;case 5:var l=t.stateNode;null===r&&4&t.flags&&ey(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(J&&null===t.memoizedState){var u=t.alternate;if(null!==u){var s=u.memoizedState;if(null!==s){var c=s.dehydrated;null!==c&&eZ(c)}}}break;default:throw Error(d(163))}op||512&t.flags&&oS(t)}catch(e){i_(t,t.return,e)}}if(t===e){oh=null;break}if(null!==(r=t.sibling)){r.return=t.return,oh=r;break}oh=t.return}}function oM(e){for(;null!==oh;){var t=oh;if(t===e){oh=null;break}var r=t.sibling;if(null!==r){r.return=t.return,oh=r;break}oh=t.return}}function oR(e){for(;null!==oh;){var t=oh;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ow(4,t)}catch(e){i_(t,r,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var o=t.return;try{n.componentDidMount()}catch(e){i_(t,o,e)}}var i=t.return;try{oS(t)}catch(e){i_(t,i,e)}break;case 5:var a=t.return;try{oS(t)}catch(e){i_(t,a,e)}}}catch(e){i_(t,t.return,e)}if(t===e){oh=null;break}var l=t.sibling;if(null!==l){l.return=t.return,oh=l;break}oh=t.return}}var oI=0,o_=1,oL=2,oN=3,oD=4;if("function"==typeof Symbol&&Symbol.for){var oz=Symbol.for;oI=oz("selector.component"),o_=oz("selector.has_pseudo_class"),oL=oz("selector.role"),oN=oz("selector.test_id"),oD=oz("selector.text")}function oF(e){var t=ee(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(d(364));return t}if(null===(e=el(e)))throw Error(d(362));return e.stateNode.current}function oB(e,t){switch(t.$$typeof){case oI:if(e.type===t.value)return!0;break;case o_:e:{t=t.value,e=[e,0];for(var r=0;r<e.length;){var n=e[r++],o=e[r++],i=t[o];if(5!==n.tag||!ec(n)){for(;null!=i&&oB(n,i);)i=t[++o];if(o===t.length){t=!0;break e}for(n=n.child;null!==n;)e.push(n,o),n=n.sibling}}t=!1}return t;case oL:if(5===e.tag&&ef(e.stateNode,t.value))return!0;break;case oD:if((5===e.tag||6===e.tag)&&null!==(e=es(e))&&0<=e.indexOf(t.value))return!0;break;case oN:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(d(365))}return!1}function oU(e){switch(e.$$typeof){case oI:return"<"+(C(e.value)||"Unknown")+">";case o_:return":has("+(oU(e)||"")+")";case oL:return'[role="'+e.value+'"]';case oD:return'"'+e.value+'"';case oN:return'[data-testname="'+e.value+'"]';default:throw Error(d(365))}}function oH(e,t){var r=[];e=[e,0];for(var n=0;n<e.length;){var o=e[n++],i=e[n++],a=t[i];if(5!==o.tag||!ec(o)){for(;null!=a&&oB(o,a);)a=t[++i];if(i===t.length)r.push(o);else for(o=o.child;null!==o;)e.push(o,i),o=o.sibling}}return r}function oV(e,t){if(!ea)throw Error(d(363));e=oH(e=oF(e),t),t=[],e=Array.from(e);for(var r=0;r<e.length;){var n=e[r++];if(5===n.tag)ec(n)||t.push(n.stateNode);else for(n=n.child;null!==n;)e.push(n),n=n.sibling}return t}var oG=Math.ceil,oW=p.ReactCurrentDispatcher,oK=p.ReactCurrentOwner,oX=p.ReactCurrentBatchConfig,oq=0,oQ=null,o$=null,oZ=0,oY=0,oJ=e9(0),o0=0,o1=null,o2=0,o3=0,o4=0,o6=null,o5=null,o8=0,o7=1/0;function o9(){o7=tj()+500}var ie=!1,it=null,ir=null,io=!1,ii=null,ia=0,il=0,iu=null,is=-1,ic=0;function id(){return 0!=(6&oq)?tj():-1!==is?is:is=tj()}function ip(e){return 0==(1&e.mode)?1:0!=(2&oq)&&0!==oZ?oZ&-oZ:null!==tV.transition?(0===ic&&(e=tm,0==(4194240&(tm<<=1))&&(tm=64),ic=e),ic):0!==(e=tP)?e:er()}function iv(e,t,r){if(50<il)throw il=0,iu=null,Error(d(185));var n=ih(e,t);return null===n?null:(tx(n,t,r),(0==(2&oq)||n!==oQ)&&(n===oQ&&(0==(2&oq)&&(o3|=t),4===o0&&iw(n,oZ)),im(n,r),1===t&&0===oq&&0==(1&e.mode)&&(o9(),tF&&tH())),n)}function ih(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function im(e,t){var r,n=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-tp(i),l=1<<a,u=o[a];-1===u?(0==(l&r)||0!=(l&n))&&(o[a]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}(e,t);var o=tb(e,e===oQ?oZ:0);if(0===o)null!==n&&tA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=n&&tA(n),1===t)0===e.tag?(r=iS.bind(null,e),tF=!0,tU(r)):tU(iS.bind(null,e)),eo?ei(function(){0===oq&&tH()}):tk(tM,tH),n=null;else{switch(tO(o)){case 1:n=tM;break;case 4:n=tR;break;case 16:default:n=tI;break;case 536870912:n=t_}n=tk(n,iy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iy(e,t){if(is=-1,ic=0,0!=(6&oq))throw Error(d(327));var r=e.callbackNode;if(iR()&&e.callbackNode!==r)return null;var n=tb(e,e===oQ?oZ:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=iT(e,n);else{t=n;var o=oq;oq|=2;var i=ik();for((oQ!==e||oZ!==t)&&(o9(),iP(e,t));;)try{!function(){for(;null!==o$&&!tT();)iC(o$)}();break}catch(t){iO(e,t)}t$(),oW.current=i,oq=o,null!==o$?t=0:(oQ=null,oZ=0,t=o0)}if(0!==t){if(2===t&&0!==(o=tw(e))&&(n=o,t=ig(e,o)),1===t)throw r=o1,iP(e,0),iw(e,n),im(e,tj()),r;if(6===t)iw(e,n);else{if(o=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!tD(i(),o))return!1}catch(e){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=iT(e,n))&&0!==(i=tw(e))&&(n=i,t=ig(e,i)),1===t))throw r=o1,iP(e,0),iw(e,n),im(e,tj()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(d(345));case 2:case 5:iM(e,o5);break;case 3:if(iw(e,n),(130023424&n)===n&&10<(t=o8+500-tj())){if(0!==tb(e,0))break;if(((o=e.suspendedLanes)&n)!==n){id(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=X(iM.bind(null,e,o5),t);break}iM(e,o5);break;case 4:if(iw(e,n),(4194240&n)===n)break;for(o=-1,t=e.eventTimes;0<n;){var a=31-tp(n);i=1<<a,(a=t[a])>o&&(o=a),n&=~i}if(n=o,10<(n=(120>(n=tj()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oG(n/1960))-n)){e.timeoutHandle=X(iM.bind(null,e,o5),n);break}iM(e,o5);break;default:throw Error(d(329))}}}return im(e,tj()),e.callbackNode===r?iy.bind(null,e):null}function ig(e,t){var r=o6;return e.current.memoizedState.isDehydrated&&(iP(e,t).flags|=256),2!==(e=iT(e,t))&&(t=o5,o5=r,null!==t&&ib(t)),e}function ib(e){null===o5?o5=e:o5.push.apply(o5,e)}function iw(e,t){for(t&=~o4,t&=~o3,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tp(t),n=1<<r;e[r]=-1,t&=~n}}function iS(e){if(0!=(6&oq))throw Error(d(327));iR();var t=tb(e,0);if(0==(1&t))return im(e,tj()),null;var r=iT(e,t);if(0!==e.tag&&2===r){var n=tw(e);0!==n&&(t=n,r=ig(e,n))}if(1===r)throw r=o1,iP(e,0),iw(e,t),im(e,tj()),r;if(6===r)throw Error(d(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,iM(e,o5),im(e,tj()),null}function ix(e){null!==ii&&0===ii.tag&&0==(6&oq)&&iR();var t=oq;oq|=1;var r=oX.transition,n=tP;try{if(oX.transition=null,tP=1,e)return e()}finally{tP=n,oX.transition=r,0==(6&(oq=t))&&tH()}}function iE(){oY=oJ.current,te(oJ)}function iP(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==Q&&(e.timeoutHandle=Q,q(r)),null!==o$)for(r=o$.return;null!==r;){var n=r;switch(rS(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&tu();break;case 3:rX(),te(to),te(tn),rJ();break;case 5:rQ(n);break;case 4:rX();break;case 13:case 19:te(r$);break;case 10:tY(n.type._context);break;case 22:case 23:iE()}r=r.return}if(oQ=e,o$=e=iH(e.current,null),oZ=oY=t,o0=0,o1=null,o4=o3=o2=0,o5=o6=null,null!==t2){for(t=0;t<t2.length;t++)if(null!==(n=(r=t2[t]).interleaved)){r.interleaved=null;var o=n.next,i=r.pending;if(null!==i){var a=i.next;i.next=o,n.next=a}r.pending=n}t2=null}return e}function iO(e,t){for(;;){var r=o$;try{if(t$(),r0.current=nD,r5){for(var o=r3.memoizedState;null!==o;){var i=o.queue;null!==i&&(i.pending=null),o=o.next}r5=!1}if(r2=0,r6=r4=r3=null,r8=!1,r7=0,oK.current=null,null===r||null===r.return){o0=1,o1=t,o$=null;break}e:{var a=e,l=r.return,u=r,s=t;if(t=oZ,u.flags|=32768,null!==s&&"object"===n(s)&&"function"==typeof s.then){var c=s,f=u,p=f.tag;if(0==(1&f.mode)&&(0===p||11===p||15===p)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=nX(l);if(null!==h){h.flags&=-257,nq(h,l,u,a,t),1&h.mode&&nK(a,c,t),t=h,s=c;var m=t.updateQueue;if(null===m){var y=new Set;y.add(s),t.updateQueue=y}else m.add(s);break e}if(0==(1&t)){nK(a,c,t),iA();break e}s=Error(d(426))}else if(rP&&1&u.mode){var g=nX(l);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),nq(g,l,u,a,t),r_(s);break e}}a=s,4!==o0&&(o0=2),null===o6?o6=[a]:o6.push(a),s=nU(s,u),u=l;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var b=nG(u,s,t);t9(u,b);break e;case 1:a=s;var w=u.type,S=u.stateNode;if(0==(128&u.flags)&&("function"==typeof w.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===ir||!ir.has(S)))){u.flags|=65536,t&=-t,u.lanes|=t;var x=nW(u,a,t);t9(u,x);break e}}u=u.return}while(null!==u)}ij(r)}catch(e){t=e,o$===r&&null!==r&&(o$=r=r.return);continue}break}}function ik(){var e=oW.current;return oW.current=nD,null===e?nD:e}function iA(){(0===o0||3===o0||2===o0)&&(o0=4),null===oQ||0==(268435455&o2)&&0==(268435455&o3)||iw(oQ,oZ)}function iT(e,t){var r=oq;oq|=2;var n=ik();for(oQ===e&&oZ===t||iP(e,t);;)try{!function(){for(;null!==o$;)iC(o$)}();break}catch(t){iO(e,t)}if(t$(),oq=r,oW.current=n,null!==o$)throw Error(d(261));return oQ=null,oZ=0,o0}function iC(e){var t=l(e.alternate,e,oY);e.memoizedProps=e.pendingProps,null===t?ij(e):o$=t,oK.current=null}function ij(e){var r=e;do{var n=r.alternate;if(e=r.return,0==(32768&r.flags)){if(null!==(n=function(e,r,n){var l=r.pendingProps;switch(rS(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nJ(r),null;case 1:case 17:return tl(r.type)&&tu(),nJ(r),null;case 3:return l=r.stateNode,rX(),te(to),te(tn),rJ(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(null===e||null===e.child)&&(rR(r)?nQ(r):null===e||e.memoizedState.isDehydrated&&0==(256&r.flags)||(r.flags|=1024,null!==rk&&(ib(rk),rk=null))),o(e,r),nJ(r),null;case 5:rQ(r),n=rW(rG.current);var u=r.type;if(null!==e&&null!=r.stateNode)i(e,r,u,l,n),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(null===r.stateNode)throw Error(d(166));return nJ(r),null}if(e=rW(rH.current),rR(r)){if(!J)throw Error(d(175));e=eK(r.stateNode,r.type,r.memoizedProps,n,e,r,!rO),r.updateQueue=e,null!==e&&nQ(r)}else{var s=U(u,l,n,e,r);t(s,r,!1,!1),r.stateNode=s,V(s,u,l,n,e)&&nQ(r)}null!==r.ref&&(r.flags|=512,r.flags|=2097152)}return nJ(r),null;case 6:if(e&&null!=r.stateNode)a(e,r,e.memoizedProps,l);else{if("string"!=typeof l&&null===r.stateNode)throw Error(d(166));if(e=rW(rG.current),n=rW(rH.current),rR(r)){if(!J)throw Error(d(176));if((n=eX(e=r.stateNode,l=r.memoizedProps,r,!rO))&&null!==(u=rx))switch(s=0!=(1&u.mode),u.tag){case 3:e1(u.stateNode.containerInfo,e,l,s);break;case 5:e2(u.type,u.memoizedProps,u.stateNode,e,l,s)}n&&nQ(r)}else r.stateNode=K(l,e,n,r)}return nJ(r),null;case 13:if(te(r$),l=r.memoizedState,rP&&null!==rE&&0!=(1&r.mode)&&0==(128&r.flags)){for(e=rE;e;)e=eH(e);return rI(),r.flags|=98560,r}if(null!==l&&null!==l.dehydrated){if(l=rR(r),null===e){if(!l)throw Error(d(318));if(!J)throw Error(d(344));if(!(e=null!==(e=r.memoizedState)?e.dehydrated:null))throw Error(d(317));eq(e,r)}else rI(),0==(128&r.flags)&&(r.memoizedState=null),r.flags|=4;return nJ(r),null}if(null!==rk&&(ib(rk),rk=null),0!=(128&r.flags))return r.lanes=n,r;return l=null!==l,n=!1,null===e?rR(r):n=null!==e.memoizedState,l&&!n&&(r.child.flags|=8192,0!=(1&r.mode)&&(null===e||0!=(1&r$.current)?0===o0&&(o0=3):iA())),null!==r.updateQueue&&(r.flags|=4),nJ(r),null;case 4:return rX(),o(e,r),null===e&&et(r.stateNode.containerInfo),nJ(r),null;case 10:return tY(r.type._context),nJ(r),null;case 19:if(te(r$),null===(u=r.memoizedState))return nJ(r),null;if(l=0!=(128&r.flags),null===(s=u.rendering)){if(l)nY(u,!1);else{if(0!==o0||null!==e&&0!=(128&e.flags))for(e=r.child;null!==e;){if(null!==(s=rZ(e))){for(r.flags|=128,nY(u,!1),null!==(e=s.updateQueue)&&(r.updateQueue=e,r.flags|=4),r.subtreeFlags=0,e=n,l=r.child;null!==l;)n=l,u=e,n.flags&=14680066,null===(s=n.alternate)?(n.childLanes=0,n.lanes=u,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,u=s.dependencies,n.dependencies=null===u?null:{lanes:u.lanes,firstContext:u.firstContext}),l=l.sibling;return tt(r$,1&r$.current|2),r.child}e=e.sibling}null!==u.tail&&tj()>o7&&(r.flags|=128,l=!0,nY(u,!1),r.lanes=4194304)}}else{if(!l){if(null!==(e=rZ(s))){if(r.flags|=128,l=!0,null!==(e=e.updateQueue)&&(r.updateQueue=e,r.flags|=4),nY(u,!0),null===u.tail&&"hidden"===u.tailMode&&!s.alternate&&!rP)return nJ(r),null}else 2*tj()-u.renderingStartTime>o7&&1073741824!==n&&(r.flags|=128,l=!0,nY(u,!1),r.lanes=4194304)}u.isBackwards?(s.sibling=r.child,r.child=s):(null!==(e=u.last)?e.sibling=s:r.child=s,u.last=s)}if(null!==u.tail)return r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=tj(),r.sibling=null,e=r$.current,tt(r$,l?1&e|2:1&e),r;return nJ(r),null;case 22:case 23:return iE(),l=null!==r.memoizedState,null!==e&&null!==e.memoizedState!==l&&(r.flags|=8192),l&&0!=(1&r.mode)?0!=(1073741824&oY)&&(nJ(r),Z&&6&r.subtreeFlags&&(r.flags|=8192)):nJ(r),null;case 24:case 25:return null}throw Error(d(156,r.tag))}(n,r,oY))){o$=n;return}}else{if(null!==(n=function(e,t){switch(rS(t),t.tag){case 1:return tl(t.type)&&tu(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return rX(),te(to),te(tn),rJ(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return rQ(t),null;case 13:if(te(r$),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(d(340));rI()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return te(r$),null;case 4:return rX(),null;case 10:return tY(t.type._context),null;case 22:case 23:return iE(),null;default:return null}}(n,r))){n.flags&=32767,o$=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{o0=6,o$=null;return}}if(null!==(r=r.sibling)){o$=r;return}o$=r=e}while(null!==r);0===o0&&(o0=5)}function iM(e,t){var r=tP,n=oX.transition;try{oX.transition=null,tP=1,function(e,t,r){do iR();while(null!==ii);if(0!=(6&oq))throw Error(d(327));var n=e.finishedWork,o=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-tp(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}(e,i),e===oQ&&(o$=oQ=null,oZ=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||io||(io=!0,a=tI,l=function(){return iR(),null},tk(a,l)),i=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||i){i=oX.transition,oX.transition=null;var a,l,u,s,c=tP;tP=1;var f=oq;oq|=4,oK.current=null,function(e,t){for(F(e.containerInfo),oh=t;null!==oh;)if(t=(e=oh).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,oh=t;else for(;null!==oh;){e=oh;try{var r=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==r){var n=r.memoizedProps,o=r.memoizedState,i=e.stateNode,a=i.getSnapshotBeforeUpdate(e.elementType===e.type?n:tW(e.type,n),o);i.__reactInternalSnapshotBeforeUpdate=a}break;case 3:Z&&eT(e.stateNode.containerInfo);break;default:throw Error(d(163))}}catch(t){i_(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,oh=t;break}oh=e.return}r=og,og=!1}(e,n),function(e,t){for(oh=t;null!==oh;){var r=(t=oh).deletions;if(null!==r)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e;Z?oA(i,o,t):oE(i,o,t);var a=o.alternate;null!==a&&(a.return=null),o.return=null}catch(e){i_(o,t,e)}}if(r=t.child,0!=(12854&t.subtreeFlags)&&null!==r)r.return=t,oh=r;else for(;null!==oh;){t=oh;try{var l=t.flags;if(32&l&&Z&&eE(t.stateNode),512&l){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"==typeof s?s(null):s.current=null)}}if(8192&l)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;(null===c||null===c.memoizedState)&&(o8=tj())}break;case 22:var f=null!==t.memoizedState,d=t.alternate,p=null!==d&&null!==d.memoizedState;if(r=t,Z){e:if(n=r,o=f,i=null,Z)for(var v=n;;){if(5===v.tag){if(null===i){i=v;var h=v.stateNode;o?eP(h):ek(v.stateNode,v.memoizedProps)}}else if(6===v.tag){if(null===i){var m=v.stateNode;o?eO(m):eA(m,v.memoizedProps)}}else if((22!==v.tag&&23!==v.tag||null===v.memoizedState||v===n)&&null!==v.child){v.child.return=v,v=v.child;continue}if(v===n)break;for(;null===v.sibling;){if(null===v.return||v.return===n)break e;i===v&&(i=null),v=v.return}i===v&&(i=null),v.sibling.return=v.return,v=v.sibling}}if(f&&!p&&0!=(1&r.mode)){oh=r;for(var y=r.child;null!==y;){for(r=oh=y;null!==oh;){var g=(n=oh).child;switch(n.tag){case 0:case 11:case 14:case 15:ob(4,n,n.return);break;case 1:om(n,n.return);var b=n.stateNode;if("function"==typeof b.componentWillUnmount){var w=n.return;try{b.props=n.memoizedProps,b.state=n.memoizedState,b.componentWillUnmount()}catch(e){i_(n,w,e)}}break;case 5:om(n,n.return);break;case 22:if(null!==n.memoizedState){oM(r);continue}}null!==g?(g.return=n,oh=g):oM(r)}y=y.sibling}}}switch(4102&l){case 2:ok(t),t.flags&=-3;break;case 6:ok(t),t.flags&=-3,oT(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,oT(t.alternate,t);break;case 4:oT(t.alternate,t)}}catch(e){i_(t,t.return,e)}if(null!==(r=t.sibling)){r.return=t.return,oh=r;break}oh=t.return}}}(e,n,o),B(e.containerInfo),e.current=n,u=n,s=e,oh=u,function e(t,r,n){for(var o=0!=(1&t.mode);null!==oh;){var i=oh,a=i.child;if(22===i.tag&&o){var l=null!==i.memoizedState||od;if(!l){var u=i.alternate,s=null!==u&&null!==u.memoizedState||op;u=od;var c=op;if(od=l,(op=s)&&!c)for(oh=i;null!==oh;)s=(l=oh).child,22===l.tag&&null!==l.memoizedState?oR(i):null!==s?(s.return=l,oh=s):oR(i);for(;null!==a;)oh=a,e(a,r,n),a=a.sibling;oh=i,od=u,op=c}oj(t,r,n)}else 0!=(8772&i.subtreeFlags)&&null!==a?(a.return=i,oh=a):oj(t,r,n)}}(u,s,o),tC(),oq=f,tP=c,oX.transition=i}else e.current=n;if(io&&(io=!1,ii=e,ia=o),0===(i=e.pendingLanes)&&(ir=null),function(e){if(tN&&"function"==typeof tN.onCommitFiberRoot)try{tN.onCommitFiberRoot(tL,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),im(e,tj()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(ie)throw ie=!1,e=it,it=null,e;0!=(1&ia)&&0!==e.tag&&iR(),0!=(1&(i=e.pendingLanes))?e===iu?il++:(il=0,iu=e):il=0,tH()}}(e,t,r)}finally{oX.transition=n,tP=r}return null}function iR(){if(null!==ii){var e=tO(ia),t=oX.transition,r=tP;try{if(oX.transition=null,tP=16>e?16:e,null===ii)var n=!1;else{if(e=ii,ii=null,ia=0,0!=(6&oq))throw Error(d(331));var o=oq;for(oq|=4,oh=e.current;null!==oh;){var i=oh,a=i.child;if(0!=(16&oh.flags)){var l=i.deletions;if(null!==l){for(var u=0;u<l.length;u++){var s=l[u];for(oh=s;null!==oh;){var c=oh;switch(c.tag){case 0:case 11:case 15:ob(8,c,i)}var f=c.child;if(null!==f)f.return=c,oh=f;else for(;null!==oh;){var p=(c=oh).sibling,v=c.return;if(!function e(t){var r=t.alternate;null!==r&&(t.alternate=null,e(r)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(r=t.stateNode)&&en(r),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===s){oh=null;break}if(null!==p){p.return=v,oh=p;break}oh=v}}}var h=i.alternate;if(null!==h){var m=h.child;if(null!==m){h.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}oh=i}}if(0!=(2064&i.subtreeFlags)&&null!==a)a.return=i,oh=a;else for(;null!==oh;){if(i=oh,0!=(2048&i.flags))switch(i.tag){case 0:case 11:case 15:ob(9,i,i.return)}var g=i.sibling;if(null!==g){g.return=i.return,oh=g;break}oh=i.return}}var b=e.current;for(oh=b;null!==oh;){var w=(a=oh).child;if(0!=(2064&a.subtreeFlags)&&null!==w)w.return=a,oh=w;else for(a=b;null!==oh;){if(l=oh,0!=(2048&l.flags))try{switch(l.tag){case 0:case 11:case 15:ow(9,l)}}catch(e){i_(l,l.return,e)}if(l===a){oh=null;break}var S=l.sibling;if(null!==S){S.return=l.return,oh=S;break}oh=l.return}}if(oq=o,tH(),tN&&"function"==typeof tN.onPostCommitFiberRoot)try{tN.onPostCommitFiberRoot(tL,e)}catch(e){}n=!0}return n}finally{tP=r,oX.transition=t}}return!1}function iI(e,t,r){t=nG(e,t=nU(r,t),1),t8(e,t),t=id(),null!==(e=ih(e,1))&&(tx(e,1,t),im(e,t))}function i_(e,t,r){if(3===e.tag)iI(e,e,r);else for(;null!==t;){if(3===t.tag){iI(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===ir||!ir.has(n))){e=nW(t,e=nU(r,e),1),t8(t,e),e=id(),null!==(t=ih(t,1))&&(tx(t,1,e),im(t,e));break}}t=t.return}}function iL(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=id(),e.pingedLanes|=e.suspendedLanes&r,oQ===e&&(oZ&r)===r&&(4===o0||3===o0&&(130023424&oZ)===oZ&&500>tj()-o8?iP(e,0):o4|=r),im(e,t)}function iN(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ty,0==(130023424&(ty<<=1))&&(ty=4194304)));var r=id();null!==(e=ih(e,t))&&(tx(e,t,r),im(e,r))}function iD(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),iN(e,r)}function iz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(d(314))}null!==n&&n.delete(t),iN(e,r)}function iF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function iB(e,t,r,n){return new iF(e,t,r,n)}function iU(e){return!(!(e=e.prototype)||!e.isReactComponent)}function iH(e,t){var r=e.alternate;return null===r?((r=iB(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function iV(e,t,r,o,i,a){var l=2;if(o=e,"function"==typeof e)iU(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case m:return iG(r.children,i,a,t);case y:l=8,i|=8;break;case g:return(e=iB(12,r,t,2|i)).elementType=g,e.lanes=a,e;case x:return(e=iB(13,r,t,i)).elementType=x,e.lanes=a,e;case E:return(e=iB(19,r,t,i)).elementType=E,e.lanes=a,e;case k:return iW(r,i,a,t);default:if("object"===n(e)&&null!==e)switch(e.$$typeof){case b:l=10;break e;case w:l=9;break e;case S:l=11;break e;case P:l=14;break e;case O:l=16,o=null;break e}throw Error(d(130,null==e?e:n(e),""))}return(t=iB(l,r,t,i)).elementType=e,t.type=o,t.lanes=a,t}function iG(e,t,r,n){return(e=iB(7,e,n,t)).lanes=r,e}function iW(e,t,r,n){return(e=iB(22,e,n,t)).elementType=k,e.lanes=r,e.stateNode={},e}function iK(e,t,r){return(e=iB(6,e,null,t)).lanes=r,e}function iX(e,t,r){return(t=iB(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iq(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tS(0),this.expirationTimes=tS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tS(0),this.identifierPrefix=n,this.onRecoverableError=o,J&&(this.mutableSourceEagerHydrationData=null)}function iQ(e,t,r,n,o,i,a,l,u){return e=new iq(e,t,r,l,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=iB(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null},t4(i),e}function i$(e){if(!e)return tr;e=e._reactInternals;e:{if(j(e)!==e||1!==e.tag)throw Error(d(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(d(171))}if(1===e.tag){var r=e.type;if(tl(r))return tc(e,r,t)}return t}function iZ(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(d(188));throw Error(d(268,e=Object.keys(e).join(",")))}return null===(e=I(t))?null:e.stateNode}function iY(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function iJ(e,t){iY(e,t),(e=e.alternate)&&iY(e,t)}function i0(e){return null===(e=I(e))?null:e.stateNode}function i1(){return null}return l=function(e,t,r){if(null!==e){if(e.memoizedProps!==t.pendingProps||to.current)n1=!0;else{if(0==(e.lanes&r)&&0==(128&t.flags))return n1=!1,function(e,t,r){switch(t.tag){case 3:ot(t),rI();break;case 5:rq(t);break;case 1:tl(t.type)&&tf(t);break;case 4:rK(t,t.stateNode.containerInfo);break;case 10:tZ(t,t.type._context,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n){if(null!==n.dehydrated)return tt(r$,1&r$.current),t.flags|=128,null;if(0!=(r&t.child.childLanes))return oi(e,t,r);return tt(r$,1&r$.current),null!==(e=of(e,t,r))?e.sibling:null}tt(r$,1&r$.current);break;case 19:if(n=0!=(r&t.childLanes),0!=(128&e.flags)){if(n)return oc(e,t,r);t.flags|=128}var o=t.memoizedState;if(null!==o&&(o.rendering=null,o.tail=null,o.lastEffect=null),tt(r$,r$.current),!n)return null;break;case 22:case 23:return t.lanes=0,n5(e,t,r)}return of(e,t,r)}(e,t,r);n1=0!=(131072&e.flags)}}else n1=!1,rP&&0!=(1048576&t.flags)&&rb(t,rd,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ta(t,tn.current);t0(t,r),i=nr(null,t,o,e,i,r);var a=nn();return t.flags|=1,"object"===n(i)&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tl(o)?(a=!0,tf(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,t4(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,ru(t,o,e,r),t=oe(null,t,o,!0,a,r)):(t.tag=0,rP&&a&&rw(t),n2(null,t,i,r),t=t.child),t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"==typeof e)return iU(e)?1:0;if(null!=e){if((e=e.$$typeof)===S)return 11;if(e===P)return 14}return 2}(o),e=tW(o,e),i){case 0:t=n7(null,t,o,e,r);break e;case 1:t=n9(null,t,o,e,r);break e;case 11:t=n3(null,t,o,e,r);break e;case 14:t=n4(null,t,o,tW(o.type,e),r);break e}throw Error(d(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:tW(o,i),n7(e,t,o,i,r);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:tW(o,i),n9(e,t,o,i,r);case 3:e:{if(ot(t),null===e)throw Error(d(387));o=t.pendingProps,i=(a=t.memoizedState).element,t6(e,t),re(t,o,null,r);var l=t.memoizedState;if(o=l.element,J&&a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:l.cache,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=or(e,t,o,r,i=Error(d(423)));break e}if(o!==i){t=or(e,t,o,r,i=Error(d(424)));break e}for(J&&(rE=eG(t.stateNode.containerInfo),rx=t,rP=!0,rk=null,rO=!1),r=rB(t,null,o,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(rI(),o===i){t=of(e,t,r);break e}n2(e,t,o,r)}t=t.child}return t;case 5:return rq(t),null===e&&rj(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,l=i.children,W(o,i)?l=null:null!==a&&W(o,a)&&(t.flags|=32),n8(e,t),n2(e,t,l,r),t.child;case 6:return null===e&&rj(t),null;case 13:return oi(e,t,r);case 4:return rK(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=rF(t,null,o,r):n2(e,t,o,r),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:tW(o,i),n3(e,t,o,i,r);case 7:return n2(e,t,t.pendingProps,r),t.child;case 8:case 12:return n2(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,a=t.memoizedProps,tZ(t,o,l=i.value),null!==a){if(tD(a.value,l)){if(a.children===i.children&&!to.current){t=of(e,t,r);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){l=a.child;for(var s=u.firstContext;null!==s;){if(s.context===o){if(1===a.tag){(s=t5(-1,r&-r)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?s.next=s:(s.next=f.next,f.next=s),c.pending=s}}a.lanes|=r,null!==(s=a.alternate)&&(s.lanes|=r),tJ(a.return,r,t),u.lanes|=r;break}s=s.next}}else if(10===a.tag)l=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(l=a.return))throw Error(d(341));l.lanes|=r,null!==(u=l.alternate)&&(u.lanes|=r),tJ(l,r,t),l=a.sibling}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===t){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}n2(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,t0(t,r),o=o(i=t1(i)),t.flags|=1,n2(e,t,o,r),t.child;case 14:return i=tW(o=t.type,t.pendingProps),i=tW(o.type,i),n4(e,t,o,i,r);case 15:return n6(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:tW(o,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,tl(o)?(e=!0,tf(t)):e=!1,t0(t,r),ra(t,o,i),ru(t,o,i,r),oe(null,t,o,!0,e,r);case 19:return oc(e,t,r);case 22:return n5(e,t,r)}throw Error(d(156,t.tag))},u.attemptContinuousHydration=function(e){13===e.tag&&(iv(e,134217728,id()),iJ(e,134217728))},u.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=id(),r=ip(e);iv(e,r,t),iJ(e,r)}},u.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tg(t.pendingLanes);0!==r&&(tE(t,1|r),im(t,tj()),0==(6&oq)&&(o9(),tH()))}break;case 13:var n=id();ix(function(){return iv(e,1,n)}),iJ(e,1)}},u.batchedUpdates=function(e,t){var r=oq;oq|=1;try{return e(t)}finally{0===(oq=r)&&(o9(),tF&&tH())}},u.createComponentSelector=function(e){return{$$typeof:oI,value:e}},u.createContainer=function(e,t,r,n,o,i,a){return iQ(e,t,!1,null,r,n,o,i,a)},u.createHasPseudoClassSelector=function(e){return{$$typeof:o_,value:e}},u.createHydrationContainer=function(e,t,r,n,o,i,a,l,u){return(e=iQ(r,n,!0,e,o,i,a,l,u)).context=i$(null),r=e.current,(i=t5(n=id(),o=ip(r))).callback=null!=t?t:null,t8(r,i),e.current.lanes=o,tx(e,o,n),im(e,n),e},u.createPortal=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:h,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}},u.createRoleSelector=function(e){return{$$typeof:oL,value:e}},u.createTestNameSelector=function(e){return{$$typeof:oN,value:e}},u.createTextSelector=function(e){return{$$typeof:oD,value:e}},u.deferredUpdates=function(e){var t=tP,r=oX.transition;try{return oX.transition=null,tP=16,e()}finally{tP=t,oX.transition=r}},u.discreteUpdates=function(e,t,r,n,o){var i=tP,a=oX.transition;try{return oX.transition=null,tP=1,e(t,r,n,o)}finally{tP=i,oX.transition=a,0===oq&&o9()}},u.findAllNodes=oV,u.findBoundingRects=function(e,t){if(!ea)throw Error(d(363));t=oV(e,t),e=[];for(var r=0;r<t.length;r++)e.push(eu(t[r]));for(t=e.length-1;0<t;t--){r=e[t];for(var n=r.x,o=n+r.width,i=r.y,a=i+r.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],s=u.x,c=s+u.width,f=u.y,p=f+u.height;if(n>=s&&i>=f&&o<=c&&a<=p){e.splice(t,1);break}if(n!==s||r.width!==u.width||p<i||f>a){if(!(i!==f||r.height!==u.height||c<n||s>o)){s>n&&(u.width+=s-n,u.x=n),c<o&&(u.width=o-s),e.splice(t,1);break}}else{f>i&&(u.height+=f-i,u.y=i),p<a&&(u.height=a-f),e.splice(t,1);break}}}return e},u.findHostInstance=iZ,u.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=R(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){if(4!==t.tag){var r=e(t);if(null!==r)return r}t=t.sibling}return null}(e):null)?null:e.stateNode},u.findHostInstanceWithWarning=function(e){return iZ(e)},u.flushControlled=function(e){var t=oq;oq|=1;var r=oX.transition,n=tP;try{oX.transition=null,tP=1,e()}finally{tP=n,oX.transition=r,0===(oq=t)&&(o9(),tH())}},u.flushPassiveEffects=iR,u.flushSync=ix,u.focusWithin=function(e,t){if(!ea)throw Error(d(363));for(t=Array.from(t=oH(e=oF(e),t)),e=0;e<t.length;){var r=t[e++];if(!ec(r)){if(5===r.tag&&ed(r.stateNode))return!0;for(r=r.child;null!==r;)t.push(r),r=r.sibling}}return!1},u.getCurrentUpdatePriority=function(){return tP},u.getFindAllNodesFailureDescription=function(e,t){if(!ea)throw Error(d(363));var r=0,n=[];e=[oF(e),0];for(var o=0;o<e.length;){var i=e[o++],a=e[o++],l=t[a];if((5!==i.tag||!ec(i))&&(oB(i,l)&&(n.push(oU(l)),++a>r&&(r=a)),a<t.length))for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}if(r<t.length){for(e=[];r<t.length;r++)e.push(oU(t[r]));return"findAllNodes was able to match part of the selector:\n  "+n.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},u.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?N(e.child.stateNode):e.child.stateNode:null},u.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p.ReactCurrentDispatcher,findHostInstanceByFiber:i0,findFiberByHostInstance:e.findFiberByHostInstance||i1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{tL=t.inject(e),tN=t}catch(e){}e=!!t.checkDCE}}return e},u.isAlreadyRendering=function(){return!1},u.observeVisibleRects=function(e,t,r,n){if(!ea)throw Error(d(363));var o=ep(e=oV(e,t),r,n).disconnect;return{disconnect:function(){o()}}},u.registerMutableSourceForHydration=function(e,t){var r=t._getVersion;r=r(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r)},u.runWithPriority=function(e,t){var r=tP;try{return tP=e,t()}finally{tP=r}},u.shouldError=function(){return null},u.shouldSuspend=function(){return!1},u.updateContainer=function(e,t,r,n){var o=t.current,i=id(),a=ip(o);return r=i$(r),null===t.context?t.context=r:t.pendingContext=r,(t=t5(i,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),t8(o,t),null!==(e=iv(o,a,i))&&t7(e,o,a),a},u}},6462:function(e,t,r){e.exports=r(4705)},7410:function(e,t,r){e.exports=r(8047)},8576:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,o=e[n];if(0<a(o,t))e[n]=t,e[r]=o,r=n;else break}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,o=e.length,i=o>>>1;n<i;){var l=2*(n+1)-1,u=e[l],s=l+1,c=e[s];if(0>a(u,r))s<o&&0>a(c,u)?(e[n]=c,e[s]=r,n=s):(e[n]=u,e[l]=r,n=l);else if(s<o&&0>a(c,r))e[n]=c,e[s]=r,n=s;else break}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===("undefined"==typeof performance?"undefined":r(performance))&&"function"==typeof performance.now){var l,u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var f=[],d=[],p=1,v=null,h=3,m=!1,y=!1,g=!1,b="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,S="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=o(d);null!==t;){if(null===t.callback)i(d);else if(t.startTime<=e)i(d),t.sortIndex=t.expirationTime,n(f,t);else break;t=o(d)}}function E(e){if(g=!1,x(e),!y){if(null!==o(f))y=!0,_(P);else{var t=o(d);null!==t&&L(E,t.startTime-e)}}}function P(e,r){y=!1,g&&(g=!1,w(A),A=-1),m=!0;var n=h;try{for(x(r),v=o(f);null!==v&&(!(v.expirationTime>r)||e&&!j());){var a=v.callback;if("function"==typeof a){v.callback=null,h=v.priorityLevel;var l=a(v.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?v.callback=l:v===o(f)&&i(f),x(r)}else i(f);v=o(f)}if(null!==v)var u=!0;else{var s=o(d);null!==s&&L(E,s.startTime-r),u=!1}return u}finally{v=null,h=n,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O=!1,k=null,A=-1,T=5,C=-1;function j(){return!(t.unstable_now()-C<T)}function M(){if(null!==k){var e=t.unstable_now();C=e;var r=!0;try{r=k(!0,e)}finally{r?l():(O=!1,k=null)}}else O=!1}if("function"==typeof S)l=function(){S(M)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=M,l=function(){I.postMessage(null)}}else l=function(){b(M,0)};function _(e){k=e,O||(O=!0,l())}function L(e,r){A=b(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,_(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return o(f)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,i,a){var l=t.unstable_now();switch(a="object"===r(a)&&null!==a&&"number"==typeof(a=a.delay)&&0<a?l+a:l,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return u=a+u,e={id:p++,callback:i,priorityLevel:e,startTime:a,expirationTime:u,sortIndex:-1},a>l?(e.sortIndex=a,n(d,e),null===o(f)&&e===o(d)&&(g?(w(A),A=-1):g=!0,L(E,a-l))):(e.sortIndex=u,n(f,e),y||m||(y=!0,_(P))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},3364:function(e,t,r){e.exports=r(8576)},7128:function(e,t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{MA:function(){return s},Rq:function(){return u},ZH:function(){return c}});var i=[];function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++)if(!r(e[o],t[o]))return!1;return!0}function l(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null===r&&(r=[e]);for(var s=0;s<i.length;s++){var c=i[s];if(a(r,c.keys,c.equal)){if(l)return;if(Object.prototype.hasOwnProperty.call(c,"error"))throw c.error;if(Object.prototype.hasOwnProperty.call(c,"response"))return u.lifespan&&u.lifespan>0&&(c.timeout&&clearTimeout(c.timeout),c.timeout=setTimeout(c.remove,u.lifespan)),c.response;if(!l)throw c.promise}}var f={keys:r,equal:u.equal,remove:function(){var e=i.indexOf(f);-1!==e&&i.splice(e,1)},promise:("object"===o(e)&&"function"==typeof e.then?e:e.apply(void 0,function(e){if(Array.isArray(e))return n(e)}(t=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).then(function(e){f.response=e,u.lifespan&&u.lifespan>0&&(f.timeout=setTimeout(f.remove,u.lifespan))}).catch(function(e){return f.error=e})};if(i.push(f),!l)throw f.promise}var u=function(e,t,r){return l(e,t,!1,r)},s=function(e,t,r){l(e,t,!0,r)},c=function(e){if(void 0===e||0===e.length)i.splice(0,i.length);else{var t=i.find(function(t){return a(e,t.keys,t.equal)});t&&t.remove()}}},2772:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(2265);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?n.useEffect:n.useLayoutEffect;function a(e){var t,r,a,l,u,s,c="function"==typeof e?(r=new Set,a=function(e,n){var o="function"==typeof e?e(t):e;if(o!==t){var i=t;t=n?o:Object.assign({},t,o),r.forEach(function(e){return e(t,i)})}},l=function(){return t},u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var i=n(t);function a(){var r=n(t);if(!o(i,r)){var a=i;e(i=r,a)}}return r.add(a),function(){return r.delete(a)}},s={setState:a,getState:l,subscribe:function(e,t,n){return t||n?u(e,t,n):(r.add(e),function(){return r.delete(e)})},destroy:function(){return r.clear()}},t=e(a,l,s),s):e,f=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.getState,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,l=(function(e){if(Array.isArray(e))return e}(e=(0,n.useReducer)(function(e){return e+1},0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),2!==l.length);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],u=c.getState(),s=(0,n.useRef)(u),f=(0,n.useRef)(r),d=(0,n.useRef)(a),p=(0,n.useRef)(!1),v=(0,n.useRef)();void 0===v.current&&(v.current=r(u));var h=!1;(s.current!==u||f.current!==r||d.current!==a||p.current)&&(t=r(u),h=!a(v.current,t)),i(function(){h&&(v.current=t),s.current=u,f.current=r,d.current=a,p.current=!1});var m=(0,n.useRef)(u);i(function(){var e=function(){try{var e=c.getState(),t=f.current(e);d.current(v.current,t)||(s.current=e,v.current=t,l())}catch(e){p.current=!0,l()}},t=c.subscribe(e);return c.getState()!==m.current&&e(),t},[]);var y=h?t:v.current;return(0,n.useDebugValue)(y),y};return Object.assign(f,c),f[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[f,c];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},f}},2433:function(e,t,r){r.d(t,{Z:function(){return n}});function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}},643:function(e,t,r){r.d(t,{x:function(){return h}});var n,o=r(7437),i=r(8138),a=r(2265),l=r(7976),u=r(8130);function s(e,t,r){return(s=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&c(o,r.prototype),o}:Reflect.construct.bind()).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,a.createContext)(null),v=function(e){return(e.getAttributes()&u.VB.CONVOLUTION)===u.VB.CONVOLUTION},h=a.memo((0,a.forwardRef)(function(e,t){var r,c=e.children,d=e.camera,h=e.scene,m=e.resolutionScale,y=e.enabled,g=void 0===y||y,b=e.renderPriority,w=e.autoClear,S=void 0===w||w,x=e.depthBuffer,E=e.enableNormalPass,P=e.stencilBuffer,O=e.multisampling,k=void 0===O?8:O,A=e.frameBufferType,T=void 0===A?i.HalfFloatType:A,C=(0,l.D)(),j=C.gl,M=C.scene,R=C.camera,I=C.size,_=h||M,L=d||R,N=function(e){if(Array.isArray(e))return e}(r=(0,a.useMemo)(function(){var e=function(){var e;if(void 0!==n)return n;try{var t,r=document.createElement("canvas");return n=!!(window.WebGL2RenderingContext&&(t=r.getContext("webgl2"))),t&&(null==(e=t.getExtension("WEBGL_lose_context"))||e.loseContext()),n}catch(e){return n=!1}}(),t=new u.xC(j,{depthBuffer:x,stencilBuffer:P,multisampling:k>0&&e?k:0,frameBufferType:T});t.addPass(new u.CD(_,L));var r=null,o=null;return E&&((o=new u.gh(_,L)).enabled=!1,t.addPass(o),void 0!==m&&e&&((r=new u.xs({normalBuffer:o.texture,resolutionScale:m})).enabled=!1,t.addPass(r))),[t,o,r]},[L,j,x,P,k,T,_,E,m]))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),3!==l.length);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(r,3)||f(r,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),D=N[0],z=N[1],F=N[2];(0,a.useEffect)(function(){return null==D?void 0:D.setSize(I.width,I.height)},[D,I]),(0,l.F)(function(e,t){if(g){var r=j.autoClear;j.autoClear=S,P&&!S&&j.clearStencil(),D.render(t),j.autoClear=r}},g?void 0===b?1:b:0);var B=(0,a.useRef)(null),U=(0,l.A)(B);(0,a.useLayoutEffect)(function(){var e=[];if(B.current&&U.current&&D){for(var t=U.current.objects,r=0;r<t.length;r++){var n=t[r];if(n instanceof u.Qm){var o=[n];if(!v(n))for(var i=null;(i=t[r+1])instanceof u.Qm&&!v(i);)o.push(i),r++;var a=s(u.H5,[L].concat(o));e.push(a)}else n instanceof u.w2&&e.push(n)}var l,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(e);try{for(c.s();!(l=c.n()).done;){var d=l.value;null==D||D.addPass(d)}}catch(e){c.e(e)}finally{c.f()}z&&(z.enabled=!0),F&&(F.enabled=!0)}return function(){for(var t=0;t<e.length;t++){var r=e[t];null==D||D.removePass(r)}z&&(z.enabled=!1),F&&(F.enabled=!1)}},[D,c,L,z,F,U]),(0,a.useEffect)(function(){var e=j.toneMapping;return j.toneMapping=i.NoToneMapping,function(){j.toneMapping=e}},[]);var H=(0,a.useMemo)(function(){return{composer:D,normalPass:z,downSamplingPass:F,resolutionScale:m,camera:L,scene:_}},[D,z,F,m,L,_]);return(0,a.useImperativeHandle)(t,function(){return D},[D]),(0,o.jsx)(p.Provider,{value:H,children:(0,o.jsx)("group",{ref:B,children:c})})}))},708:function(e,t,r){r.d(t,{d:function(){return g}});var n,o,i=r(8130),a=r(7437),l=r(2265),u=r(7976),s=["blendFunction","opacity"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t,r){var n;return(n=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===h(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=0,y=new WeakMap,g=(n=i.rk,o={blendFunction:i.YQ.ADD},l.forwardRef(function(e,t){var r=e.blendFunction,i=void 0===r?null==o?void 0:o.blendFunction:r,c=e.opacity,p=void 0===c?null==o?void 0:o.opacity:c,h=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,s),g=y.get(n);if(!g){var b="@react-three/postprocessing/".concat(n.name,"-").concat(m++);(0,u.e)(v({},b,n)),y.set(n,g=b)}var w=(0,u.D)(function(e){return e.camera}),S=l.useMemo(function(){var e,t;return[].concat(d(null!=(e=null==o?void 0:o.args)?e:[]),d(null!=(t=h.args)?t:[f(f({},o),h)]))},[JSON.stringify(h)]);return(0,a.jsx)(g,f(f({camera:w,"blendMode-blendFunction":i,"blendMode-opacity-value":p},h),{},{ref:t,args:S}))}))},4616:function(e,t,r){r.d(t,{$1:function(){return o},LZ:function(){return i}});var n=r(8138);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var r={},o=e.getIndex(),i=e.getAttribute("position"),a=o?o.count:i.count,l=0,u=Object.keys(e.attributes),s={},c={},f=[],d=["getX","getY","getZ","getW"],p=0,v=u.length;p<v;p++){var h=u[p];s[h]=[];var m=e.morphAttributes[h];m&&(c[h]=Array(m.length).fill(0).map(function(){return[]}))}for(var y=Math.pow(10,Math.log10(1/t)),g=0;g<a;g++){for(var b=o?o.getX(g):g,w="",S=0,x=u.length;S<x;S++)for(var E=u[S],P=e.getAttribute(E),O=P.itemSize,k=0;k<O;k++)w+="".concat(~~(P[d[k]](b)*y),",");if(w in r)f.push(r[w]);else{for(var A=0,T=u.length;A<T;A++)for(var C=u[A],j=e.getAttribute(C),M=e.morphAttributes[C],R=j.itemSize,I=s[C],_=c[C],L=0;L<R;L++){var N=d[L];if(I.push(j[N](b)),M)for(var D=0,z=M.length;D<z;D++)_[D].push(M[D][N](b))}r[w]=l,f.push(l),l++}}for(var F=e.clone(),B=0,U=u.length;B<U;B++){var H=u[B],V=e.getAttribute(H),G=new V.array.constructor(s[H]),W=new n.BufferAttribute(G,V.itemSize,V.normalized);if(F.setAttribute(H,W),H in c)for(var K=0;K<c[H].length;K++){var X=e.morphAttributes[H][K],q=new X.array.constructor(c[H][K]),Q=new n.BufferAttribute(q,X.itemSize,X.normalized);F.morphAttributes[H][K]=Q}}return F.setIndex(f),F}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI/3,r=Math.cos(t),o=(1+1e-10)*100,i=[new n.Vector3,new n.Vector3,new n.Vector3],a=new n.Vector3,l=new n.Vector3,u=new n.Vector3,s=new n.Vector3;function c(e){var t=~~(e.x*o),r=~~(e.y*o),n=~~(e.z*o);return"".concat(t,",").concat(r,",").concat(n)}for(var f=e.index?e.toNonIndexed():e,d=f.attributes.position,p={},v=0,h=d.count/3;v<h;v++){var m=3*v,y=i[0].fromBufferAttribute(d,m+0),g=i[1].fromBufferAttribute(d,m+1),b=i[2].fromBufferAttribute(d,m+2);a.subVectors(b,g),l.subVectors(y,g);for(var w=new n.Vector3().crossVectors(a,l).normalize(),S=0;S<3;S++){var x=c(i[S]);x in p||(p[x]=[]),p[x].push(w)}}for(var E=new Float32Array(3*d.count),P=new n.BufferAttribute(E,3,!1),O=0,k=d.count/3;O<k;O++){var A=3*O,T=i[0].fromBufferAttribute(d,A+0),C=i[1].fromBufferAttribute(d,A+1),j=i[2].fromBufferAttribute(d,A+2);a.subVectors(j,C),l.subVectors(T,C),u.crossVectors(a,l).normalize();for(var M=0;M<3;M++){var R=p[c(i[M])];s.set(0,0,0);for(var I=0,_=R.length;I<_;I++){var L=R[I];u.dot(L)>r&&s.add(L)}s.normalize(),P.setXYZ(A+M,s.x,s.y,s.z)}}return f.setAttribute("normal",P),f}},8955:function(e,t,r){r.d(t,{y:function(){return ep}});var n,o,i,a=r(8138),l={},u=Uint8Array,s=Uint16Array,c=Int32Array,f=new u([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d=new u([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),p=new u([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=function(e,t){for(var r=new s(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var o=new c(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)o[i]=i-r[n]<<5|n;return{b:r,r:o}},h=v(f,2),m=h.b,y=h.r;m[28]=258,y[258]=28;for(var g=v(d,0),b=g.b,w=g.r,S=new s(32768),x=0;x<32768;++x){var E=(43690&x)>>1|(21845&x)<<1;E=(61680&(E=(52428&E)>>2|(13107&E)<<2))>>4|(3855&E)<<4,S[x]=((65280&E)>>8|(255&E)<<8)>>1}for(var P=function(e,t,r){for(var n,o=e.length,i=0,a=new s(t);i<o;++i)e[i]&&++a[e[i]-1];var l=new s(t);for(i=1;i<t;++i)l[i]=l[i-1]+a[i-1]<<1;if(r){n=new s(1<<t);var u=15-t;for(i=0;i<o;++i)if(e[i])for(var c=i<<4|e[i],f=t-e[i],d=l[e[i]-1]++<<f,p=d|(1<<f)-1;d<=p;++d)n[S[d]>>u]=c}else for(i=0,n=new s(o);i<o;++i)e[i]&&(n[i]=S[l[e[i]-1]++]>>15-e[i]);return n},O=new u(288),x=0;x<144;++x)O[x]=8;for(var x=144;x<256;++x)O[x]=9;for(var x=256;x<280;++x)O[x]=7;for(var x=280;x<288;++x)O[x]=8;for(var k=new u(32),x=0;x<32;++x)k[x]=5;var A=P(O,9,1),T=P(k,5,1),C=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},j=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},M=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},R=function(e){return(e+7)/8|0},I=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new u(e.subarray(t,r))},_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],L=function(e,t,r){var n=Error(t||_[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,L),!r)throw n;return n},N=function(e,t,r,n){var o=e.length,i=n?n.length:0;if(!o||t.f&&!t.l)return r||new u(0);var a=!r,l=a||2!=t.i,s=t.i;a&&(r=new u(3*o));var c=function(e){var t=r.length;if(e>t){var n=new u(Math.max(2*t,e));n.set(r),r=n}},v=t.f||0,h=t.p||0,y=t.b||0,g=t.l,w=t.d,S=t.m,x=t.n,E=8*o;do{if(!g){v=j(e,h,1);var O=j(e,h+1,3);if(h+=3,O){if(1==O)g=A,w=T,S=9,x=5;else if(2==O){var k=j(e,h,31)+257,_=j(e,h+10,15)+4,N=k+j(e,h+5,31)+1;h+=14;for(var D=new u(N),z=new u(19),F=0;F<_;++F)z[p[F]]=j(e,h+3*F,7);h+=3*_;for(var B=C(z),U=(1<<B)-1,H=P(z,B,1),F=0;F<N;){var V=H[j(e,h,U)];h+=15&V;var G=V>>4;if(G<16)D[F++]=G;else{var W=0,K=0;for(16==G?(K=3+j(e,h,3),h+=2,W=D[F-1]):17==G?(K=3+j(e,h,7),h+=3):18==G&&(K=11+j(e,h,127),h+=7);K--;)D[F++]=W}}var X=D.subarray(0,k),q=D.subarray(k);S=C(X),x=C(q),g=P(X,S,1),w=P(q,x,1)}else L(1)}else{var G=R(h)+4,Q=e[G-4]|e[G-3]<<8,$=G+Q;if($>o){s&&L(0);break}l&&c(y+Q),r.set(e.subarray(G,$),y),t.b=y+=Q,t.p=h=8*$,t.f=v;continue}if(h>E){s&&L(0);break}}l&&c(y+131072);for(var Z=(1<<S)-1,Y=(1<<x)-1,J=h;;J=h){var W=g[M(e,h)&Z],ee=W>>4;if((h+=15&W)>E){s&&L(0);break}if(W||L(2),ee<256)r[y++]=ee;else if(256==ee){J=h,g=null;break}else{var et=ee-254;if(ee>264){var F=ee-257,er=f[F];et=j(e,h,(1<<er)-1)+m[F],h+=er}var en=w[M(e,h)&Y],eo=en>>4;en||L(3),h+=15&en;var q=b[eo];if(eo>3){var er=d[eo];q+=M(e,h)&(1<<er)-1,h+=er}if(h>E){s&&L(0);break}l&&c(y+131072);var ei=y+et;if(y<q){var ea=i-q,el=Math.min(q,ei);for(ea+y<0&&L(3);y<el;++y)r[y]=n[ea+y]}for(;y<ei;++y)r[y]=r[y-q]}}t.l=g,t.p=J,t.b=y,t.f=v,g&&(v=1,t.m=S,t.d=w,t.n=x)}while(!v);return y!=r.length&&a?I(r,0,y):r.subarray(0,y)},D=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},z=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},F=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var o=r.length,i=r.slice();if(!o)return{t:K,l:0};if(1==o){var a=new u(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],f=0,d=1,p=2;for(r[0]={s:-1,f:l.f+c.f,l:l,r:c};d!=o-1;)l=r[r[f].f<r[p].f?f++:p++],c=r[f!=d&&r[f].f<r[p].f?f++:p++],r[d++]={s:-1,f:l.f+c.f,l:l,r:c};for(var v=i[0].s,n=1;n<o;++n)i[n].s>v&&(v=i[n].s);var h=new s(v+1),m=B(r[d-1],h,0);if(m>t){var n=0,y=0,g=m-t,b=1<<g;for(i.sort(function(e,t){return h[t.s]-h[e.s]||e.f-t.f});n<o;++n){var w=i[n].s;if(h[w]>t)y+=b-(1<<m-h[w]),h[w]=t;else break}for(y>>=g;y>0;){var S=i[n].s;h[S]<t?y-=1<<t-h[S]++-1:++n}for(;n>=0&&y;--n){var x=i[n].s;h[x]==t&&(--h[x],++y)}m=t}return{t:new u(h),l:m}},B=function(e,t,r){return -1==e.s?Math.max(B(e.l,t,r+1),B(e.r,t,r+1)):t[e.s]=r},U=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new s(++t),n=0,o=e[0],i=1,a=function(e){r[n++]=e},l=1;l<=t;++l)if(e[l]==o&&l!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[l]}return{c:r.subarray(0,n),n:t}},H=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},V=function(e,t,r){var n=r.length,o=R(t+2);e[o]=255&n,e[o+1]=n>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var i=0;i<n;++i)e[o+i+4]=r[i];return(o+4+n)*8},G=function(e,t,r,n,o,i,a,l,u,c,v){D(t,v++,r),++o[256];for(var h,m,y,g,b=F(o,15),w=b.t,S=b.l,x=F(i,15),E=x.t,A=x.l,T=U(w),C=T.c,j=T.n,M=U(E),R=M.c,I=M.n,_=new s(19),L=0;L<C.length;++L)++_[31&C[L]];for(var L=0;L<R.length;++L)++_[31&R[L]];for(var N=F(_,7),B=N.t,G=N.l,W=19;W>4&&!B[p[W-1]];--W);var K=c+5<<3,X=H(o,O)+H(i,k)+a,q=H(o,w)+H(i,E)+a+14+3*W+H(_,B)+2*_[16]+3*_[17]+7*_[18];if(u>=0&&K<=X&&K<=q)return V(t,v,e.subarray(u,u+c));if(D(t,v,1+(q<X)),v+=2,q<X){h=P(w,S,0),m=w,y=P(E,A,0),g=E;var Q=P(B,G,0);D(t,v,j-257),D(t,v+5,I-1),D(t,v+10,W-4),v+=14;for(var L=0;L<W;++L)D(t,v+3*L,B[p[L]]);v+=3*W;for(var $=[C,R],Z=0;Z<2;++Z)for(var Y=$[Z],L=0;L<Y.length;++L){var J=31&Y[L];D(t,v,Q[J]),v+=B[J],J>15&&(D(t,v,Y[L]>>5&127),v+=Y[L]>>12)}}else h=null,m=O,y=null,g=k;for(var L=0;L<l;++L){var ee=n[L];if(ee>255){var J=ee>>18&31;z(t,v,h[J+257]),v+=m[J+257],J>7&&(D(t,v,ee>>23&31),v+=f[J]);var et=31&ee;z(t,v,y[et]),v+=g[et],et>3&&(z(t,v,ee>>5&8191),v+=d[et])}else z(t,v,h[ee]),v+=m[ee]}return z(t,v,h[256]),v+m[256]},W=new c([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),K=new u(0),X=function(e,t,r,n,o,i){var a=i.z||e.length,l=new u(n+a+5*(1+Math.ceil(a/7e3))+o),p=l.subarray(n,l.length-o),v=i.l,h=7&(i.r||0);if(t){h&&(p[0]=i.r>>3);for(var m=W[t-1],g=m>>13,b=8191&m,S=(1<<r)-1,x=i.p||new s(32768),E=i.h||new s(S+1),P=Math.ceil(r/3),O=2*P,k=function(t){return(e[t]^e[t+1]<<P^e[t+2]<<O)&S},A=new c(25e3),T=new s(288),C=new s(32),j=0,M=0,_=i.i||0,L=0,N=i.w||0,D=0;_+2<a;++_){var z=k(_),F=32767&_,B=E[z];if(x[F]=B,E[z]=F,N<=_){var U=a-_;if((j>7e3||L>24576)&&(U>423||!v)){h=G(e,p,0,A,T,C,M,L,D,_-D,h),L=j=M=0,D=_;for(var H=0;H<286;++H)T[H]=0;for(var H=0;H<30;++H)C[H]=0}var K=2,X=0,q=b,Q=F-B&32767;if(U>2&&z==k(_-Q))for(var $=Math.min(g,U)-1,Z=Math.min(32767,_),Y=Math.min(258,U);Q<=Z&&--q&&F!=B;){if(e[_+K]==e[_+K-Q]){for(var J=0;J<Y&&e[_+J]==e[_+J-Q];++J);if(J>K){if(K=J,X=Q,J>$)break;for(var ee=Math.min(Q,J-2),et=0,H=0;H<ee;++H){var er=_-Q+H&32767,en=x[er],eo=er-en&32767;eo>et&&(et=eo,B=er)}}}B=x[F=B],Q+=F-B&32767}if(X){A[L++]=268435456|y[K]<<18|w[X];var ei=31&y[K],ea=31&w[X];M+=f[ei]+d[ea],++T[257+ei],++C[ea],N=_+K,++j}else A[L++]=e[_],++T[e[_]]}}for(_=Math.max(_,N);_<a;++_)A[L++]=e[_],++T[e[_]];h=G(e,p,v,A,T,C,M,L,D,_-D,h),v||(i.r=7&h|p[h/8|0]<<3,h-=7,i.h=E,i.p=x,i.i=_,i.w=N)}else{for(var _=i.w||0;_<a+v;_+=65535){var el=_+65535;el>=a&&(p[h/8|0]=v,el=a),h=V(p,h+1,e.subarray(_,el))}i.i=a}return I(l,0,n+R(h)+o)},q="undefined"!=typeof TextDecoder&&new TextDecoder;try{q.decode(K,{stream:!0})}catch(e){}function Q(e,t,r){var n=r.length-e-1;if(t>=r[n])return n-1;if(t<=r[e])return e;for(var o=e,i=n,a=Math.floor((o+i)/2);t<r[a]||t>=r[a+1];)t<r[a]?i=a:o=a,a=Math.floor((o+i)/2);return a}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Y(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function J(){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var er=function(e){var t;function r(e,t,n,o,i){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),l=ee(l=r),s=function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?l.apply(this,void 0):Reflect.construct(l,u||[],ee(this).constructor));var l,u,s,c=t?t.length-1:0,f=n?n.length:0;s.degree=e,s.knots=t,s.controlPoints=[],s.startKnot=o||0,s.endKnot=i||c;for(var d=0;d<f;++d){var p=n[d];s.controlPoints[d]=new a.Vector4(p.x,p.y,p.z,p.w)}return s}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(r,e),t=[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new a.Vector3,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),n=function(e,t,r,n){for(var o=Q(e,n,t),i=function(e,t,r,n){var o=[],i=[],a=[];o[0]=1;for(var l=1;l<=r;++l){i[l]=t-n[e+1-l],a[l]=n[e+l]-t;for(var u=0,s=0;s<l;++s){var c=a[s+1],f=i[l-s],d=o[s]/(c+f);o[s]=u+c*d,u=f*d}o[l]=u}return o}(o,n,e,t),l=new a.Vector4(0,0,0,0),u=0;u<=e;++u){var s=r[o-e+u],c=i[u],f=s.w*c;l.x+=s.x*f,l.y+=s.y*f,l.z+=s.z*f,l.w+=s.w*c}return l}(this.degree,this.knots,this.controlPoints,r);return 1!==n.w&&n.divideScalar(n.w),t.set(n.x,n.y,n.z)}},{key:"getTangent",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new a.Vector3,n=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),o=(t=this.degree,function(e){for(var t=e.length,r=[],n=[],o=0;o<t;++o){var i=e[o];r[o]=new a.Vector3(i.x,i.y,i.z),n[o]=i.w}for(var l=[],u=0;u<t;++u){for(var s=r[u].clone(),c=1;c<=u;++c)s.sub(l[u-c].clone().multiplyScalar(function(e,t){for(var r=1,n=2;n<=e;++n)r*=n;for(var o=1,i=2;i<=t;++i)o*=i;for(var a=2;a<=e-t;++a)o*=a;return r/o}(u,c)*n[c]));l[u]=s.divideScalar(n[0])}return l}(function(e,t,r,n,o){for(var i=1<e?1:e,l=[],u=Q(e,n,t),s=function(e,t,r,n,o){for(var i=[],a=0;a<=r;++a)i[a]=0;for(var l=[],u=0;u<=n;++u)l[u]=i.slice(0);for(var s=[],c=0;c<=r;++c)s[c]=i.slice(0);s[0][0]=1;for(var f=i.slice(0),d=i.slice(0),p=1;p<=r;++p){f[p]=t-o[e+1-p],d[p]=o[e+p]-t;for(var v=0,h=0;h<p;++h){var m=d[h+1],y=f[p-h];s[p][h]=m+y;var g=s[h][p-1]/s[p][h];s[h][p]=v+m*g,v=y*g}s[p][p]=v}for(var b=0;b<=r;++b)l[0][b]=s[b][r];for(var w=0;w<=r;++w){for(var S=0,x=1,E=[],P=0;P<=r;++P)E[P]=i.slice(0);E[0][0]=1;for(var O=1;O<=n;++O){var k=0,A=w-O,T=r-O;w>=O&&(E[x][0]=E[S][0]/s[T+1][A],k=E[x][0]*s[A][T]);for(var C=A>=-1?1:-A,j=w-1<=T?O-1:r-w,M=C;M<=j;++M)E[x][M]=(E[S][M]-E[S][M-1])/s[T+1][A+M],k+=E[x][M]*s[A+M][T];w<=T&&(E[x][O]=-E[S][O-1]/s[T+1][w],k+=E[x][O]*s[w][T]),l[O][w]=k;var R=S;S=x,x=R}}for(var I=r,_=1;_<=n;++_){for(var L=0;L<=r;++L)l[_][L]*=I;I*=r-_}return l}(u,n,e,i,t),c=[],f=0;f<r.length;++f){var d=r[f].clone(),p=d.w;d.x*=p,d.y*=p,d.z*=p,c[f]=d}for(var v=0;v<=i;++v){for(var h=c[u-e].clone().multiplyScalar(s[v][0]),m=1;m<=e;++m)h.add(c[u-e+m].clone().multiplyScalar(s[v][m]));l[v]=h}for(var y=i+1;y<=o+1;++y)l[y]=new a.Vector4(0,0,0);return l}(t,this.knots,this.controlPoints,n,1)));return r.copy(o[1]).normalize(),r}},{key:"toJSON",value:function(){var e=J(ee(r.prototype),"toJSON",this).call(this);return e.degree=this.degree,e.knots=Z(this.knots),e.controlPoints=this.controlPoints.map(function(e){return e.toArray()}),e.startKnot=this.startKnot,e.endKnot=this.endKnot,e}},{key:"fromJSON",value:function(e){return J(ee(r.prototype),"fromJSON",this).call(this,e),this.degree=e.degree,this.knots=Z(e.knots),this.controlPoints=e.controlPoints.map(function(e){return new a.Vector4(e[0],e[1],e[2],e[3])}),this.startKnot=e.startKnot,this.endKnot=e.endKnot,this}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}(n.key),n)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}(a.Curve);function en(e,t,r){return(en=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&ed(o,r.prototype),o}:Reflect.construct.bind()).apply(null,arguments)}function eo(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ei(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){if(e){if("string"==typeof e)return ea(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ea(e,t)}}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eu(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function es(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==el(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==el(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===el(t)?t:String(t)}(n.key),n)}}function ec(e,t,r){return t&&es(e.prototype,t),r&&es(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ef(e){return(ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ed(e,t){return(ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ep=function(e){function t(e){var r,n;return eu(this,t),r=t,n=[e],r=ef(r),function(e,t){if(t&&("object"===el(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?r.apply(this,n):Reflect.construct(r,n||[],ef(this).constructor))}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ed(e,t)}(t,e),ec(t,[{key:"load",value:function(e,t,r,n){var o=this,i=""===o.path?a.LoaderUtils.extractUrlBase(e):o.path,l=new a.FileLoader(this.manager);l.setPath(o.path),l.setResponseType("arraybuffer"),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(e,function(r){try{t(o.parse(r,i))}catch(t){n?n(t):console.error(t),o.manager.itemError(e)}},r,n)}},{key:"parse",value:function(e,t){if(r="Kaydara FBX Binary  \0",e.byteLength>=r.length&&r===ej(e,0,r.length))n=new eg().parse(e);else{var r,o=ej(e);if(!function(e){for(var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],r=0,n=0;n<t.length;++n)if(function(t){var n=e[0];return e=e.slice(r+1),r++,n}(0)===t[n])return!1;return!0}(o))throw Error("THREE.FBXLoader: Unknown format.");if(7e3>eS(o))throw Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+eS(o));n=new ey().parse(o)}return new ev(new a.TextureLoader(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin),this.manager).parse(n)}}])}(a.Loader),ev=ec(function e(t,r){eu(this,e),this.textureLoader=t,this.manager=r},[{key:"parse",value:function(){o=this.parseConnections();var e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),n=this.parseDeformers(),a=new eh().parse(n);return this.parseScene(n,a,r),i}},{key:"parseConnections",value:function(){var e=new Map;return"Connections"in n&&n.Connections.connections.forEach(function(t){var r=t[0],n=t[1],o=t[2];e.has(r)||e.set(r,{parents:[],children:[]}),e.get(r).parents.push({ID:n,relationship:o}),e.has(n)||e.set(n,{parents:[],children:[]}),e.get(n).children.push({ID:r,relationship:o})}),e}},{key:"parseImages",value:function(){var e={},t={};if("Video"in n.Objects){var r=n.Objects.Video;for(var o in r){var i=r[o];if(e[parseInt(o)]=i.RelativeFilename||i.Filename,"Content"in i){var a=i.Content instanceof ArrayBuffer&&i.Content.byteLength>0,l="string"==typeof i.Content&&""!==i.Content;if(a||l){var u=this.parseImage(r[o]);t[i.RelativeFilename||i.Filename]=u}}}}for(var s in e){var c=e[s];void 0!==t[c]?e[s]=t[c]:e[s]=e[s].split("\\").pop()}return e}},{key:"parseImage",value:function(e){var t,r=e.Content,n=e.RelativeFilename||e.Filename,o=n.slice(n.lastIndexOf(".")+1).toLowerCase();switch(o){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",n),t="image/tga";break;default:console.warn('FBXLoader: Image type "'+o+'" is not supported.');return}if("string"==typeof r)return"data:"+t+";base64,"+r;var i=new Uint8Array(r);return window.URL.createObjectURL(new Blob([i],{type:t}))}},{key:"parseTextures",value:function(e){var t=new Map;if("Texture"in n.Objects){var r=n.Objects.Texture;for(var o in r){var i=this.parseTexture(r[o],e);t.set(parseInt(o),i)}}return t}},{key:"parseTexture",value:function(e,t){var r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;var n=e.WrapModeU,o=e.WrapModeV,i=void 0!==n?n.value:0,l=void 0!==o?o.value:0;if(r.wrapS=0===i?a.RepeatWrapping:a.ClampToEdgeWrapping,r.wrapT=0===l?a.RepeatWrapping:a.ClampToEdgeWrapping,"Scaling"in e){var u=e.Scaling.value;r.repeat.x=u[0],r.repeat.y=u[1]}if("Translation"in e){var s=e.Translation.value;r.offset.x=s[0],r.offset.y=s[1]}return r}},{key:"loadTexture",value:function(e,t){var r,n=new Set(["tga","tif","tiff","exr","dds","hdr","ktx2"]),i=e.FileName.split(".").pop().toLowerCase(),l=n.has(i)?this.manager.getHandler(".".concat(i)):this.textureLoader;if(!l)return console.warn("FBXLoader: ".concat(i.toUpperCase()," loader not found, creating placeholder texture for"),e.RelativeFilename),new a.Texture;var u=l.path;u||l.setPath(this.textureLoader.path);var s=o.get(e.id).children;void 0!==s&&s.length>0&&void 0!==t[s[0].ID]&&(0===(r=t[s[0].ID]).indexOf("blob:")||0===r.indexOf("data:"))&&l.setPath(void 0);var c=l.load(r);return l.setPath(u),c}},{key:"parseMaterials",value:function(e){var t=new Map;if("Material"in n.Objects){var r=n.Objects.Material;for(var o in r){var i=this.parseMaterial(r[o],e);null!==i&&t.set(parseInt(o),i)}}return t}},{key:"parseMaterial",value:function(e,t){var r,n=e.id,i=e.attrName,l=e.ShadingModel;if("object"===el(l)&&(l=l.value),!o.has(n))return null;var u=this.parseParameters(e,t,n);switch(l.toLowerCase()){case"phong":r=new a.MeshPhongMaterial;break;case"lambert":r=new a.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',l),r=new a.MeshPhongMaterial}return r.setValues(u),r.name=i,r}},{key:"parseParameters",value:function(e,t,r){var n={};e.BumpFactor&&(n.bumpScale=e.BumpFactor.value),e.Diffuse?n.color=a.ColorManagement.toWorkingColorSpace(new a.Color().fromArray(e.Diffuse.value),a.SRGBColorSpace):e.DiffuseColor&&("Color"===e.DiffuseColor.type||"ColorRGB"===e.DiffuseColor.type)&&(n.color=a.ColorManagement.toWorkingColorSpace(new a.Color().fromArray(e.DiffuseColor.value),a.SRGBColorSpace)),e.DisplacementFactor&&(n.displacementScale=e.DisplacementFactor.value),e.Emissive?n.emissive=a.ColorManagement.toWorkingColorSpace(new a.Color().fromArray(e.Emissive.value),a.SRGBColorSpace):e.EmissiveColor&&("Color"===e.EmissiveColor.type||"ColorRGB"===e.EmissiveColor.type)&&(n.emissive=a.ColorManagement.toWorkingColorSpace(new a.Color().fromArray(e.EmissiveColor.value),a.SRGBColorSpace)),e.EmissiveFactor&&(n.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),n.opacity=1-(e.TransparencyFactor?parseFloat(e.TransparencyFactor.value):0),(1===n.opacity||0===n.opacity)&&(n.opacity=e.Opacity?parseFloat(e.Opacity.value):null,null===n.opacity&&(n.opacity=1-(e.TransparentColor?parseFloat(e.TransparentColor.value[0]):0))),n.opacity<1&&(n.transparent=!0),e.ReflectionFactor&&(n.reflectivity=e.ReflectionFactor.value),e.Shininess&&(n.shininess=e.Shininess.value),e.Specular?n.specular=a.ColorManagement.toWorkingColorSpace(new a.Color().fromArray(e.Specular.value),a.SRGBColorSpace):e.SpecularColor&&"Color"===e.SpecularColor.type&&(n.specular=a.ColorManagement.toWorkingColorSpace(new a.Color().fromArray(e.SpecularColor.value),a.SRGBColorSpace));var i=this;return o.get(r).children.forEach(function(e){var r=e.relationship;switch(r){case"Bump":n.bumpMap=i.getTexture(t,e.ID);break;case"Maya|TEX_ao_map":n.aoMap=i.getTexture(t,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":n.map=i.getTexture(t,e.ID),void 0!==n.map&&(n.map.colorSpace=a.SRGBColorSpace);break;case"DisplacementColor":n.displacementMap=i.getTexture(t,e.ID);break;case"EmissiveColor":n.emissiveMap=i.getTexture(t,e.ID),void 0!==n.emissiveMap&&(n.emissiveMap.colorSpace=a.SRGBColorSpace);break;case"NormalMap":case"Maya|TEX_normal_map":n.normalMap=i.getTexture(t,e.ID);break;case"ReflectionColor":n.envMap=i.getTexture(t,e.ID),void 0!==n.envMap&&(n.envMap.mapping=a.EquirectangularReflectionMapping,n.envMap.colorSpace=a.SRGBColorSpace);break;case"SpecularColor":n.specularMap=i.getTexture(t,e.ID),void 0!==n.specularMap&&(n.specularMap.colorSpace=a.SRGBColorSpace);break;case"TransparentColor":case"TransparencyFactor":n.alphaMap=i.getTexture(t,e.ID),n.transparent=!0;break;default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",r)}}),n}},{key:"getTexture",value:function(e,t){return"LayeredTexture"in n.Objects&&t in n.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=o.get(t).children[0].ID),e.get(t)}},{key:"parseDeformers",value:function(){var e={},t={};if("Deformer"in n.Objects){var r=n.Objects.Deformer;for(var i in r){var a=r[i],l=o.get(parseInt(i));if("Skin"===a.attrType){var u=this.parseSkeleton(l,r);u.ID=i,l.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),u.geometryID=l.parents[0].ID,e[i]=u}else if("BlendShape"===a.attrType){var s={id:i};s.rawTargets=this.parseMorphTargets(l,r),s.id=i,l.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=s}}}return{skeletons:e,morphTargets:t}}},{key:"parseSkeleton",value:function(e,t){var r=[];return e.children.forEach(function(e){var n=t[e.ID];if("Cluster"===n.attrType){var o={ID:e.ID,indices:[],weights:[],transformLink:new a.Matrix4().fromArray(n.TransformLink.a)};"Indexes"in n&&(o.indices=n.Indexes.a,o.weights=n.Weights.a),r.push(o)}}),{rawBones:r,bones:[]}}},{key:"parseMorphTargets",value:function(e,t){for(var r=[],n=0;n<e.children.length;n++){var i=e.children[n],a=t[i.ID],l={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if("BlendShapeChannel"!==a.attrType)return;l.geoID=o.get(parseInt(i.ID)).children.filter(function(e){return void 0===e.relationship})[0].ID,r.push(l)}return r}},{key:"parseScene",value:function(e,t,r){i=new a.Group;var l=this.parseModels(e.skeletons,t,r),u=n.Objects.Model,s=this;l.forEach(function(e){var t=u[e.ID];s.setLookAtProperties(e,t),o.get(e.ID).parents.forEach(function(t){var r=l.get(t.ID);void 0!==r&&r.add(e)}),null===e.parent&&i.add(e)}),this.bindSkeleton(e.skeletons,t,l),this.addGlobalSceneSettings(),i.traverse(function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrix=e.parent.matrix,e.userData.transformData.parentMatrixWorld=e.parent.matrixWorld);var t=eA(e.userData.transformData);e.applyMatrix4(t),e.updateWorldMatrix()}});var c=new em().parse();1===i.children.length&&i.children[0].isGroup&&(i.children[0].animations=c,i=i.children[0]),i.animations=c}},{key:"parseModels",value:function(e,t,r){var i=new Map,l=n.Objects.Model;for(var u in l){var s=parseInt(u),c=l[u],f=o.get(s),d=this.buildSkeleton(f,e,s,c.attrName);if(!d){switch(c.attrType){case"Camera":d=this.createCamera(f);break;case"Light":d=this.createLight(f);break;case"Mesh":d=this.createMesh(f,t,r);break;case"NurbsCurve":d=this.createCurve(f,t);break;case"LimbNode":case"Root":d=new a.Bone;break;default:d=new a.Group}d.name=c.attrName?a.PropertyBinding.sanitizeNodeName(c.attrName):"",d.userData.originalName=c.attrName,d.ID=s}this.getTransformData(d,c),i.set(s,d)}return i}},{key:"buildSkeleton",value:function(e,t,r,n){var o=null;return e.parents.forEach(function(e){for(var i in t)!function(){var l=t[i];l.rawBones.forEach(function(t,i){if(t.ID===e.ID){var u=o;(o=new a.Bone).matrixWorld.copy(t.transformLink),o.name=n?a.PropertyBinding.sanitizeNodeName(n):"",o.userData.originalName=n,o.ID=r,l.bones[i]=o,null!==u&&o.add(u)}})}()}),o}},{key:"createCamera",value:function(e){if(e.children.forEach(function(e){var t=n.Objects.NodeAttribute[e.ID];void 0!==t&&(r=t)}),void 0===r)t=new a.Object3D;else{var t,r,o=0;void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(o=1);var i=1;void 0!==r.NearPlane&&(i=r.NearPlane.value/1e3);var l=1e3;void 0!==r.FarPlane&&(l=r.FarPlane.value/1e3);var u=window.innerWidth,s=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(u=r.AspectWidth.value,s=r.AspectHeight.value);var c=u/s,f=45;void 0!==r.FieldOfView&&(f=r.FieldOfView.value);var d=r.FocalLength?r.FocalLength.value:null;switch(o){case 0:t=new a.PerspectiveCamera(f,c,i,l),null!==d&&t.setFocalLength(d);break;case 1:console.warn("THREE.FBXLoader: Orthographic cameras not supported yet."),t=new a.Object3D;break;default:console.warn("THREE.FBXLoader: Unknown camera type "+o+"."),t=new a.Object3D}}return t}},{key:"createLight",value:function(e){if(e.children.forEach(function(e){var t=n.Objects.NodeAttribute[e.ID];void 0!==t&&(r=t)}),void 0===r)t=new a.Object3D;else{o=void 0===r.LightType?0:r.LightType.value;var t,r,o,i=16777215;void 0!==r.Color&&(i=a.ColorManagement.toWorkingColorSpace(new a.Color().fromArray(r.Color.value),a.SRGBColorSpace));var l=void 0===r.Intensity?1:r.Intensity.value/100;void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(l=0);var u=0;switch(void 0!==r.FarAttenuationEnd&&(u=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value),o){case 0:t=new a.PointLight(i,l,u,1);break;case 1:t=new a.DirectionalLight(i,l);break;case 2:var s=Math.PI/3;void 0!==r.InnerAngle&&(s=a.MathUtils.degToRad(r.InnerAngle.value));var c=0;void 0!==r.OuterAngle&&(c=Math.max(c=a.MathUtils.degToRad(r.OuterAngle.value),1)),t=new a.SpotLight(i,l,u,s,c,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new a.PointLight(i,l)}void 0!==r.CastShadows&&1===r.CastShadows.value&&(t.castShadow=!0)}return t}},{key:"createMesh",value:function(e,t,r){var n,o=null,i=null,l=[];return e.children.forEach(function(e){t.has(e.ID)&&(o=t.get(e.ID)),r.has(e.ID)&&l.push(r.get(e.ID))}),l.length>1?i=l:l.length>0?i=l[0]:(i=new a.MeshPhongMaterial({name:a.Loader.DEFAULT_MATERIAL_NAME,color:13421772}),l.push(i)),"color"in o.attributes&&l.forEach(function(e){e.vertexColors=!0}),o.FBX_Deformer?(n=new a.SkinnedMesh(o,i)).normalizeSkinWeights():n=new a.Mesh(o,i),n}},{key:"createCurve",value:function(e,t){var r=e.children.reduce(function(e,r){return t.has(r.ID)&&(e=t.get(r.ID)),e},null),n=new a.LineBasicMaterial({name:a.Loader.DEFAULT_MATERIAL_NAME,color:3342591,linewidth:1});return new a.Line(r,n)}},{key:"getTransformData",value:function(e,t){var r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=eT(t.RotationOrder.value):r.eulerOrder=eT(0),"Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}},{key:"setLookAtProperties",value:function(e,t){"LookAtProperty"in t&&o.get(e.ID).children.forEach(function(t){if("LookAtProperty"===t.relationship){var r=n.Objects.Model[t.ID];if("Lcl_Translation"in r){var o=r.Lcl_Translation.value;void 0!==e.target?(e.target.position.fromArray(o),i.add(e.target)):e.lookAt(new a.Vector3().fromArray(o))}}})}},{key:"bindSkeleton",value:function(e,t,r){var n=this.parsePoseNodes();for(var i in e)!function(){var l=e[i];o.get(parseInt(l.ID)).parents.forEach(function(e){if(t.has(e.ID)){var i=e.ID;o.get(i).parents.forEach(function(e){r.has(e.ID)&&r.get(e.ID).bind(new a.Skeleton(l.bones),n[e.ID])})}})}()}},{key:"parsePoseNodes",value:function(){var e={};if("Pose"in n.Objects){var t=n.Objects.Pose;for(var r in t)if("BindPose"===t[r].attrType&&t[r].NbPoseNodes>0){var o=t[r].PoseNode;Array.isArray(o)?o.forEach(function(t){e[t.Node]=new a.Matrix4().fromArray(t.Matrix.a)}):e[o.Node]=new a.Matrix4().fromArray(o.Matrix.a)}}return e}},{key:"addGlobalSceneSettings",value:function(){if("GlobalSettings"in n){if("AmbientColor"in n.GlobalSettings){var e=n.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],o=e[2];if(0!==t||0!==r||0!==o){var l=new a.Color().setRGB(t,r,o,a.SRGBColorSpace);i.add(new a.AmbientLight(l,1))}}"UnitScaleFactor"in n.GlobalSettings&&(i.userData.unitScaleFactor=n.GlobalSettings.UnitScaleFactor.value)}}}]),eh=ec(function e(){eu(this,e),this.negativeMaterialIndices=!1},[{key:"parse",value:function(e){var t=new Map;if("Geometry"in n.Objects){var r=n.Objects.Geometry;for(var i in r){var a=o.get(parseInt(i)),l=this.parseGeometry(a,r[i],e);t.set(parseInt(i),l)}}return!0===this.negativeMaterialIndices&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),t}},{key:"parseGeometry",value:function(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}},{key:"parseMeshGeometry",value:function(e,t,r){var o=r.skeletons,i=[],a=e.parents.map(function(e){return n.Objects.Model[e.ID]});if(0!==a.length){var l=e.children.reduce(function(e,t){return void 0!==o[t.ID]&&(e=o[t.ID]),e},null);e.children.forEach(function(e){void 0!==r.morphTargets[e.ID]&&i.push(r.morphTargets[e.ID])});var u=a[0],s={};"RotationOrder"in u&&(s.eulerOrder=eT(u.RotationOrder.value)),"InheritType"in u&&(s.inheritType=parseInt(u.InheritType.value)),"GeometricTranslation"in u&&(s.translation=u.GeometricTranslation.value),"GeometricRotation"in u&&(s.rotation=u.GeometricRotation.value),"GeometricScaling"in u&&(s.scale=u.GeometricScaling.value);var c=eA(s);return this.genGeometry(t,l,i,c)}}},{key:"genGeometry",value:function(e,t,r,n){var o=new a.BufferGeometry;e.attrName&&(o.name=e.attrName);var i=this.parseGeoNode(e,t),l=this.genBuffers(i),u=new a.Float32BufferAttribute(l.vertex,3);if(u.applyMatrix4(n),o.setAttribute("position",u),l.colors.length>0&&o.setAttribute("color",new a.Float32BufferAttribute(l.colors,3)),t&&(o.setAttribute("skinIndex",new a.Uint16BufferAttribute(l.weightsIndices,4)),o.setAttribute("skinWeight",new a.Float32BufferAttribute(l.vertexWeights,4)),o.FBX_Deformer=t),l.normal.length>0){var s=new a.Matrix3().getNormalMatrix(n),c=new a.Float32BufferAttribute(l.normal,3);c.applyNormalMatrix(s),o.setAttribute("normal",c)}if(l.uvs.forEach(function(e,t){o.setAttribute(0===t?"uv":"uv".concat(t),new a.Float32BufferAttribute(l.uvs[t],2))}),i.material&&"AllSame"!==i.material.mappingType){var f=l.materialIndex[0],d=0;if(l.materialIndex.forEach(function(e,t){e!==f&&(o.addGroup(d,t-d,f),f=e,d=t)}),o.groups.length>0){var p=o.groups[o.groups.length-1],v=p.start+p.count;v!==l.materialIndex.length&&o.addGroup(v,l.materialIndex.length-v,f)}0===o.groups.length&&o.addGroup(0,l.materialIndex.length,l.materialIndex[0])}return this.addMorphTargets(o,e,r,n),o}},{key:"parseGeoNode",value:function(e,t){var r={};if(r.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],r.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];for(var n=0;e.LayerElementUV[n];)e.LayerElementUV[n].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[n])),n++}return r.weightTable={},null!==t&&(r.skeleton=t,t.rawBones.forEach(function(e,t){e.indices.forEach(function(n,o){void 0===r.weightTable[n]&&(r.weightTable[n]=[]),r.weightTable[n].push({id:t,weight:e.weights[o]})})})),r}},{key:"genBuffers",value:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},r=0,n=0,o=!1,i=[],a=[],l=[],u=[],s=[],c=[],f=this;return e.vertexIndices.forEach(function(d,p){var v,h=!1;d<0&&(d^=-1,h=!0);var m=[],y=[];if(i.push(3*d,3*d+1,3*d+2),e.color){var g=eP(p,r,d,e.color);l.push(g[0],g[1],g[2])}if(e.skeleton){if(void 0!==e.weightTable[d]&&e.weightTable[d].forEach(function(e){y.push(e.weight),m.push(e.id)}),y.length>4){o||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),o=!0);var b=[0,0,0,0],w=[0,0,0,0];y.forEach(function(e,t){var r=e,n=m[t];w.forEach(function(e,t,o){if(r>e){o[t]=r,r=e;var i=b[t];b[t]=n,n=i}})}),m=b,y=w}for(;y.length<4;)y.push(0),m.push(0);for(var S=0;S<4;++S)s.push(y[S]),c.push(m[S])}if(e.normal){var x=eP(p,r,d,e.normal);a.push(x[0],x[1],x[2])}e.material&&"AllSame"!==e.material.mappingType&&(v=eP(p,r,d,e.material)[0])<0&&(f.negativeMaterialIndices=!0,v=0),e.uv&&e.uv.forEach(function(e,t){var n=eP(p,r,d,e);void 0===u[t]&&(u[t]=[]),u[t].push(n[0]),u[t].push(n[1])}),n++,h&&(f.genFace(t,e,i,v,a,l,u,s,c,n),r++,n=0,i=[],a=[],l=[],u=[],s=[],c=[])}),t}},{key:"getNormalNewell",value:function(e){for(var t=new a.Vector3(0,0,0),r=0;r<e.length;r++){var n=e[r],o=e[(r+1)%e.length];t.x+=(n.y-o.y)*(n.z+o.z),t.y+=(n.z-o.z)*(n.x+o.x),t.z+=(n.x-o.x)*(n.y+o.y)}return t.normalize(),t}},{key:"getNormalTangentAndBitangent",value:function(e){var t=this.getNormalNewell(e),r=(Math.abs(t.z)>.5?new a.Vector3(0,1,0):new a.Vector3(0,0,1)).cross(t).normalize(),n=t.clone().cross(r).normalize();return{normal:t,tangent:r,bitangent:n}}},{key:"flattenVertex",value:function(e,t,r){return new a.Vector2(e.dot(t),e.dot(r))}},{key:"genFace",value:function(e,t,r,n,o,i,l,u,s,c){if(c>3){for(var f=[],d=t.baseVertexPositions||t.vertexPositions,p=0;p<r.length;p+=3)f.push(new a.Vector3(d[r[p]],d[r[p+1]],d[r[p+2]]));for(var v=this.getNormalTangentAndBitangent(f),h=v.tangent,m=v.bitangent,y=[],g=0;g<f.length;g++){var b=f[g];y.push(this.flattenVertex(b,h,m))}w=a.ShapeUtils.triangulateShape(y,[])}else w=[[0,1,2]];var w,S,x=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ei(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(w);try{for(x.s();!(S=x.n()).done;)!function(){var a,c=(a=S.value,function(e){if(Array.isArray(e))return e}(a)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{for(i=(r=r.call(e)).next;!(u=(n=i.call(r)).done)&&(l.push(n.value),3!==l.length);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(a,3)||ei(a,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=c[0],d=c[1],p=c[2];e.vertex.push(t.vertexPositions[r[3*f]]),e.vertex.push(t.vertexPositions[r[3*f+1]]),e.vertex.push(t.vertexPositions[r[3*f+2]]),e.vertex.push(t.vertexPositions[r[3*d]]),e.vertex.push(t.vertexPositions[r[3*d+1]]),e.vertex.push(t.vertexPositions[r[3*d+2]]),e.vertex.push(t.vertexPositions[r[3*p]]),e.vertex.push(t.vertexPositions[r[3*p+1]]),e.vertex.push(t.vertexPositions[r[3*p+2]]),t.skeleton&&(e.vertexWeights.push(u[4*f]),e.vertexWeights.push(u[4*f+1]),e.vertexWeights.push(u[4*f+2]),e.vertexWeights.push(u[4*f+3]),e.vertexWeights.push(u[4*d]),e.vertexWeights.push(u[4*d+1]),e.vertexWeights.push(u[4*d+2]),e.vertexWeights.push(u[4*d+3]),e.vertexWeights.push(u[4*p]),e.vertexWeights.push(u[4*p+1]),e.vertexWeights.push(u[4*p+2]),e.vertexWeights.push(u[4*p+3]),e.weightsIndices.push(s[4*f]),e.weightsIndices.push(s[4*f+1]),e.weightsIndices.push(s[4*f+2]),e.weightsIndices.push(s[4*f+3]),e.weightsIndices.push(s[4*d]),e.weightsIndices.push(s[4*d+1]),e.weightsIndices.push(s[4*d+2]),e.weightsIndices.push(s[4*d+3]),e.weightsIndices.push(s[4*p]),e.weightsIndices.push(s[4*p+1]),e.weightsIndices.push(s[4*p+2]),e.weightsIndices.push(s[4*p+3])),t.color&&(e.colors.push(i[3*f]),e.colors.push(i[3*f+1]),e.colors.push(i[3*f+2]),e.colors.push(i[3*d]),e.colors.push(i[3*d+1]),e.colors.push(i[3*d+2]),e.colors.push(i[3*p]),e.colors.push(i[3*p+1]),e.colors.push(i[3*p+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(n),e.materialIndex.push(n),e.materialIndex.push(n)),t.normal&&(e.normal.push(o[3*f]),e.normal.push(o[3*f+1]),e.normal.push(o[3*f+2]),e.normal.push(o[3*d]),e.normal.push(o[3*d+1]),e.normal.push(o[3*d+2]),e.normal.push(o[3*p]),e.normal.push(o[3*p+1]),e.normal.push(o[3*p+2])),t.uv&&t.uv.forEach(function(t,r){void 0===e.uvs[r]&&(e.uvs[r]=[]),e.uvs[r].push(l[r][2*f]),e.uvs[r].push(l[r][2*f+1]),e.uvs[r].push(l[r][2*d]),e.uvs[r].push(l[r][2*d+1]),e.uvs[r].push(l[r][2*p]),e.uvs[r].push(l[r][2*p+1])})}()}catch(e){x.e(e)}finally{x.f()}}},{key:"addMorphTargets",value:function(e,t,r,o){if(0!==r.length){e.morphTargetsRelative=!0,e.morphAttributes.position=[];var i=this;r.forEach(function(r){r.rawTargets.forEach(function(r){var a=n.Objects.Geometry[r.geoID];void 0!==a&&i.genMorphGeometry(e,t,a,o,r.name)})})}}},{key:"genMorphGeometry",value:function(e,t,r,n,o){for(var i=void 0!==t.Vertices?t.Vertices.a:[],l=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],u=void 0!==r.Vertices?r.Vertices.a:[],s=void 0!==r.Indexes?r.Indexes.a:[],c=new Float32Array(3*e.attributes.position.count),f=0;f<s.length;f++){var d=3*s[f];c[d]=u[3*f],c[d+1]=u[3*f+1],c[d+2]=u[3*f+2]}var p=this.genBuffers({vertexIndices:l,vertexPositions:c,baseVertexPositions:i}),v=new a.Float32BufferAttribute(p.vertex,3);v.name=o||r.attrName,v.applyMatrix4(n),e.morphAttributes.position.push(v)}},{key:"parseNormals",value:function(e){var t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.Normals.a,o=[];return"IndexToDirect"===r&&("NormalIndex"in e?o=e.NormalIndex.a:"NormalsIndex"in e&&(o=e.NormalsIndex.a)),{dataSize:3,buffer:n,indices:o,mappingType:t,referenceType:r}}},{key:"parseUVs",value:function(e){var t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.UV.a,o=[];return"IndexToDirect"===r&&(o=e.UVIndex.a),{dataSize:2,buffer:n,indices:o,mappingType:t,referenceType:r}}},{key:"parseVertexColors",value:function(e){var t=e.MappingInformationType,r=e.ReferenceInformationType,n=e.Colors.a,o=[];"IndexToDirect"===r&&(o=e.ColorIndex.a);for(var i=0,l=new a.Color;i<n.length;i+=4)l.fromArray(n,i),a.ColorManagement.toWorkingColorSpace(l,a.SRGBColorSpace),l.toArray(n,i);return{dataSize:4,buffer:n,indices:o,mappingType:t,referenceType:r}}},{key:"parseMaterialIndices",value:function(e){var t=e.MappingInformationType,r=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};for(var n=e.Materials.a,o=[],i=0;i<n.length;++i)o.push(i);return{dataSize:1,buffer:n,indices:o,mappingType:t,referenceType:r}}},{key:"parseNurbsGeometry",value:function(e){var t,r,n=parseInt(e.Order);if(isNaN(n))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new a.BufferGeometry;for(var o=n-1,i=e.KnotVector.a,l=[],u=e.Points.a,s=0,c=u.length;s<c;s+=4)l.push(new a.Vector4().fromArray(u,s));if("Closed"===e.Form)l.push(l[0]);else if("Periodic"===e.Form){t=o,r=i.length-1-t;for(var f=0;f<o;++f)l.push(l[f])}var d=new er(o,i,l,t,r).getPoints(12*l.length);return new a.BufferGeometry().setFromPoints(d)}}]),em=ec(function e(){eu(this,e)},[{key:"parse",value:function(){var e=[],t=this.parseClips();if(void 0!==t)for(var r in t){var n=t[r],o=this.addClip(n);e.push(o)}return e}},{key:"parseClips",value:function(){if(void 0!==n.Objects.AnimationCurve){var e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);var t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}}},{key:"parseAnimationCurveNodes",value:function(){var e=n.Objects.AnimationCurveNode,t=new Map;for(var r in e){var o=e[r];if(null!==o.attrName.match(/S|R|T|DeformPercent/)){var i={id:o.id,attr:o.attrName,curves:{}};t.set(i.id,i)}}return t}},{key:"parseAnimationCurves",value:function(e){var t=n.Objects.AnimationCurve;for(var r in t){var i={id:t[r].id,times:t[r].KeyTime.a.map(ex),values:t[r].KeyValueFloat.a},a=o.get(i.id);if(void 0!==a){var l=a.parents[0].ID,u=a.parents[0].relationship;u.match(/X/)?e.get(l).curves.x=i:u.match(/Y/)?e.get(l).curves.y=i:u.match(/Z/)?e.get(l).curves.z=i:u.match(/DeformPercent/)&&e.has(l)&&(e.get(l).curves.morph=i)}}}},{key:"parseAnimationLayers",value:function(e){var t=n.Objects.AnimationLayer,r=new Map;for(var l in t)!function(){var t=[],u=o.get(parseInt(l));void 0!==u&&(u.children.forEach(function(r,l){if(e.has(r.ID)){var u=e.get(r.ID);if(void 0!==u.curves.x||void 0!==u.curves.y||void 0!==u.curves.z){if(void 0===t[l]){var s=o.get(r.ID).parents.filter(function(e){return void 0!==e.relationship})[0].ID;if(void 0!==s){var c=n.Objects.Model[s.toString()];if(void 0===c){console.warn("THREE.FBXLoader: Encountered a unused curve.",r);return}var f={modelName:c.attrName?a.PropertyBinding.sanitizeNodeName(c.attrName):"",ID:c.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};i.traverse(function(e){e.ID===c.id&&(f.transform=e.matrix,e.userData.transformData&&(f.eulerOrder=e.userData.transformData.eulerOrder))}),f.transform||(f.transform=new a.Matrix4),"PreRotation"in c&&(f.preRotation=c.PreRotation.value),"PostRotation"in c&&(f.postRotation=c.PostRotation.value),t[l]=f}}t[l]&&(t[l][u.attr]=u)}else if(void 0!==u.curves.morph){if(void 0===t[l]){var d=o.get(r.ID).parents.filter(function(e){return void 0!==e.relationship})[0].ID,p=o.get(d).parents[0].ID,v=o.get(p).parents[0].ID,h=o.get(v).parents[0].ID,m=n.Objects.Model[h],y={modelName:m.attrName?a.PropertyBinding.sanitizeNodeName(m.attrName):"",morphName:n.Objects.Deformer[d].attrName};t[l]=y}t[l][u.attr]=u}}}),r.set(parseInt(l),t))}();return r}},{key:"parseAnimStacks",value:function(e){var t=n.Objects.AnimationStack,r={};for(var i in t){var a=o.get(parseInt(i)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var l=e.get(a[0].ID);r[i]={name:t[i].attrName,layer:l}}return r}},{key:"addClip",value:function(e){var t=[],r=this;return e.layer.forEach(function(e){t=t.concat(r.generateTracks(e))}),new a.AnimationClip(e.name,-1,t)}},{key:"generateTracks",value:function(e){var t=[],r=new a.Vector3,n=new a.Vector3;if(e.transform&&e.transform.decompose(r,new a.Quaternion,n),r=r.toArray(),n=n.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");void 0!==o&&t.push(o)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var i=this.generateRotationTrack(e.modelName,e.R.curves,e.preRotation,e.postRotation,e.eulerOrder);void 0!==i&&t.push(i)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var l=this.generateVectorTrack(e.modelName,e.S.curves,n,"scale");void 0!==l&&t.push(l)}if(void 0!==e.DeformPercent){var u=this.generateMorphTrack(e);void 0!==u&&t.push(u)}return t}},{key:"generateVectorTrack",value:function(e,t,r,n){var o=this.getTimesForAllAxes(t),i=this.getKeyframeTrackValues(o,t,r);return new a.VectorKeyframeTrack(e+"."+n,o,i)}},{key:"generateRotationTrack",value:function(e,t,r,n,o){if(void 0!==t.x&&void 0!==t.y&&void 0!==t.z){var i,l,u=this.interpolateRotations(t.x,t.y,t.z,o);i=u[0],l=u[1]}var s=eT(0);void 0!==r&&((r=r.map(a.MathUtils.degToRad)).push(s),r=new a.Euler().fromArray(r),r=new a.Quaternion().setFromEuler(r)),void 0!==n&&((n=n.map(a.MathUtils.degToRad)).push(s),n=new a.Euler().fromArray(n),n=new a.Quaternion().setFromEuler(n).invert());var c=new a.Quaternion,f=new a.Euler,d=[];if(!l||!i)return new a.QuaternionKeyframeTrack(e+".quaternion",[0],[0]);for(var p=0;p<l.length;p+=3)f.set(l[p],l[p+1],l[p+2],o),c.setFromEuler(f),void 0!==r&&c.premultiply(r),void 0!==n&&c.multiply(n),p>2&&0>new a.Quaternion().fromArray(d,(p-3)/3*4).dot(c)&&c.set(-c.x,-c.y,-c.z,-c.w),c.toArray(d,p/3*4);return new a.QuaternionKeyframeTrack(e+".quaternion",i,d)}},{key:"generateMorphTrack",value:function(e){var t=e.DeformPercent.curves.morph,r=t.values.map(function(e){return e/100}),n=i.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new a.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+n+"]",t.times,r)}},{key:"getTimesForAllAxes",value:function(e){var t=[];if(void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),(t=t.sort(function(e,t){return e-t})).length>1){for(var r=1,n=t[0],o=1;o<t.length;o++){var i=t[o];i!==n&&(t[r]=i,n=i,r++)}t=t.slice(0,r)}return t}},{key:"getKeyframeTrackValues",value:function(e,t,r){var n=[],o=-1,i=-1,a=-1;return e.forEach(function(e){if(t.x&&(o=t.x.times.indexOf(e)),t.y&&(i=t.y.times.indexOf(e)),t.z&&(a=t.z.times.indexOf(e)),-1!==o){var l=t.x.values[o];n.push(l),r[0]=l}else n.push(r[0]);if(-1!==i){var u=t.y.values[i];n.push(u),r[1]=u}else n.push(r[1]);if(-1!==a){var s=t.z.values[a];n.push(s),r[2]=s}else n.push(r[2])}),n}},{key:"interpolateRotations",value:function(e,t,r,n){var o=[],i=[];o.push(e.times[0]),i.push(a.MathUtils.degToRad(e.values[0])),i.push(a.MathUtils.degToRad(t.values[0])),i.push(a.MathUtils.degToRad(r.values[0]));for(var l=1;l<e.values.length;l++){var u=[e.values[l-1],t.values[l-1],r.values[l-1]];if(!(isNaN(u[0])||isNaN(u[1])||isNaN(u[2]))){var s=u.map(a.MathUtils.degToRad),c=[e.values[l],t.values[l],r.values[l]];if(!(isNaN(c[0])||isNaN(c[1])||isNaN(c[2]))){var f=c.map(a.MathUtils.degToRad),d=[c[0]-u[0],c[1]-u[1],c[2]-u[2]],p=[Math.abs(d[0]),Math.abs(d[1]),Math.abs(d[2])];if(p[0]>=180||p[1]>=180||p[2]>=180){var v=Math.max.apply(Math,p)/180,h=en(a.Euler,eo(s).concat([n])),m=en(a.Euler,eo(f).concat([n])),y=new a.Quaternion().setFromEuler(h),g=new a.Quaternion().setFromEuler(m);y.dot(g)&&g.set(-g.x,-g.y,-g.z,-g.w);for(var b=e.times[l-1],w=e.times[l]-b,S=new a.Quaternion,x=new a.Euler,E=0;E<1;E+=1/v)S.copy(y.clone().slerp(g.clone(),E)),o.push(b+E*w),x.setFromQuaternion(S,n),i.push(x.x),i.push(x.y),i.push(x.z)}else o.push(e.times[l]),i.push(a.MathUtils.degToRad(e.values[l])),i.push(a.MathUtils.degToRad(t.values[l])),i.push(a.MathUtils.degToRad(r.values[l]))}}}return[o,i]}}]),ey=ec(function e(){eu(this,e)},[{key:"getPrevNode",value:function(){return this.nodeStack[this.currentIndent-2]}},{key:"getCurrentNode",value:function(){return this.nodeStack[this.currentIndent-1]}},{key:"getCurrentProp",value:function(){return this.currentProp}},{key:"pushStack",value:function(e){this.nodeStack.push(e),this.currentIndent+=1}},{key:"popStack",value:function(){this.nodeStack.pop(),this.currentIndent-=1}},{key:"setCurrentProp",value:function(e,t){this.currentProp=e,this.currentPropName=t}},{key:"parse",value:function(e){this.currentIndent=0,this.allNodes=new ew,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,r=e.split(/[\r\n]+/);return r.forEach(function(e,n){var o=e.match(/^[\s\t]*;/),i=e.match(/^[\s\t]*$/);if(!o&&!i){var a=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),l=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=e.match("^\\t{"+(t.currentIndent-1)+"}}");a?t.parseNodeBegin(e,a):l?t.parseNodeProperty(e,l,r[++n]):u?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}}),this.allNodes}},{key:"parseNodeBegin",value:function(e,t){var r=t[1].trim().replace(/^"/,"").replace(/"$/,""),n=t[2].split(",").map(function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")}),o={name:r},i=this.parseNodeAttr(n),a=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(r,o):r in a?("PoseNode"===r?a.PoseNode.push(o):void 0!==a[r].id&&(a[r]={},a[r][a[r].id]=a[r]),""!==i.id&&(a[r][i.id]=o)):"number"==typeof i.id?(a[r]={},a[r][i.id]=o):"Properties70"!==r&&("PoseNode"===r?a[r]=[o]:a[r]=o),"number"==typeof i.id&&(o.id=i.id),""!==i.name&&(o.attrName=i.name),""!==i.type&&(o.attrType=i.type),this.pushStack(o)}},{key:"parseNodeAttr",value:function(e){var t=e[0];""!==e[0]&&isNaN(t=parseInt(e[0]))&&(t=e[0]);var r="",n="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),n=e[2]),{id:t,name:r,type:n}}},{key:"parseNodeProperty",value:function(e,t,r){var n=t[1].replace(/^"/,"").replace(/"$/,"").trim(),o=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===n&&","===o&&(o=r.replace(/"/g,"").replace(/,$/,"").trim());var i=this.getCurrentNode();if("Properties70"===i.name){this.parseNodeSpecialProperty(e,n,o);return}if("C"===n){var a=o.split(",").slice(1),l=parseInt(a[0]),u=parseInt(a[1]),s=o.split(",").slice(3);s=s.map(function(e){return e.trim().replace(/^"/,"")}),n="connections",function(e,t){for(var r=0,n=e.length,o=t.length;r<o;r++,n++)e[n]=t[r]}(o=[l,u],s),void 0===i[n]&&(i[n]=[])}"Node"===n&&(i.id=o),n in i&&Array.isArray(i[n])?i[n].push(o):"a"!==n?i[n]=o:i.a=o,this.setCurrentProp(i,n),"a"===n&&","!==o.slice(-1)&&(i.a=eC(o))}},{key:"parseNodePropertyContinued",value:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=eC(t.a))}},{key:"parseNodeSpecialProperty",value:function(e,t,r){var n=r.split('",').map(function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")}),o=n[0],i=n[1],a=n[2],l=n[3],u=n[4];switch(i){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":u=parseFloat(u);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":u=eC(u)}this.getPrevNode()[o]={type:i,type2:a,flag:l,value:u},this.setCurrentProp(this.getPrevNode(),o)}}]),eg=ec(function e(){eu(this,e)},[{key:"parse",value:function(e){var t=new eb(e);t.skip(23);var r=t.getUint32();if(r<6400)throw Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);for(var n=new ew;!this.endOfContent(t);){var o=this.parseNode(t,r);null!==o&&n.add(o.name,o)}return n}},{key:"endOfContent",value:function(e){return e.size()%16==0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}},{key:"parseNode",value:function(e,t){var r={},n=t>=7500?e.getUint64():e.getUint32(),o=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();var i=e.getUint8(),a=e.getString(i);if(0===n)return null;for(var l=[],u=0;u<o;u++)l.push(this.parseProperty(e));var s=l.length>0?l[0]:"",c=l.length>1?l[1]:"",f=l.length>2?l[2]:"";for(r.singleProperty=1===o&&e.getOffset()===n;n>e.getOffset();){var d=this.parseNode(e,t);null!==d&&this.parseSubNode(a,r,d)}return r.propertyList=l,"number"==typeof s&&(r.id=s),""!==c&&(r.attrName=c),""!==f&&(r.attrType=f),""!==a&&(r.name=a),r}},{key:"parseSubNode",value:function(e,t,r){if(!0===r.singleProperty){var n=r.propertyList[0];Array.isArray(n)?(t[r.name]=r,r.a=n):t[r.name]=n}else if("Connections"===e&&"C"===r.name){var o=[];r.propertyList.forEach(function(e,t){0!==t&&o.push(e)}),void 0===t.connections&&(t.connections=[]),t.connections.push(o)}else if("Properties70"===r.name)Object.keys(r).forEach(function(e){t[e]=r[e]});else if("Properties70"===e&&"P"===r.name){var i,a=r.propertyList[0],l=r.propertyList[1],u=r.propertyList[2],s=r.propertyList[3];0===a.indexOf("Lcl ")&&(a=a.replace("Lcl ","Lcl_")),0===l.indexOf("Lcl ")&&(l=l.replace("Lcl ","Lcl_")),i="Color"===l||"ColorRGB"===l||"Vector"===l||"Vector3D"===l||0===l.indexOf("Lcl_")?[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:r.propertyList[4],t[a]={type:l,type2:u,flag:s,value:i}}else void 0===t[r.name]?"number"==typeof r.id?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:"PoseNode"===r.name?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):void 0===t[r.name][r.id]&&(t[r.name][r.id]=r)}},{key:"parseProperty",value:function(e){var t,r=e.getString(1);switch(r){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return t=e.getUint32(),e.getArrayBuffer(t);case"S":return t=e.getUint32(),e.getString(t);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var n,o,i,a=e.getUint32(),l=e.getUint32(),u=e.getUint32();if(0===l)switch(r){case"b":case"c":return e.getBooleanArray(a);case"d":return e.getFloat64Array(a);case"f":return e.getFloat32Array(a);case"i":return e.getInt32Array(a);case"l":return e.getInt64Array(a)}var s=new eb(N((o=new Uint8Array(e.getArrayBuffer(u))).subarray((n=void 0,((15&o[0])!=8||o[0]>>4>7||(o[0]<<8|o[1])%31)&&L(6,"invalid zlib data"),(o[1]>>5&1)==+!n&&L(6,"invalid zlib data: "+(32&o[1]?"need":"unexpected")+" dictionary"),(o[1]>>3&4)+2),-4),{i:2},i&&i.out,i&&i.dictionary).buffer);switch(r){case"b":case"c":return s.getBooleanArray(a);case"d":return s.getFloat64Array(a);case"f":return s.getFloat32Array(a);case"i":return s.getInt32Array(a);case"l":return s.getInt64Array(a)}break;default:throw Error("THREE.FBXLoader: Unknown property type "+r)}}}]),eb=ec(function e(t,r){eu(this,e),this.dv=new DataView(t),this.offset=0,this.littleEndian=void 0===r||r,this._textDecoder=new TextDecoder},[{key:"getOffset",value:function(){return this.offset}},{key:"size",value:function(){return this.dv.buffer.byteLength}},{key:"skip",value:function(e){this.offset+=e}},{key:"getBoolean",value:function(){return(1&this.getUint8())==1}},{key:"getBooleanArray",value:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getBoolean());return t}},{key:"getUint8",value:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e}},{key:"getInt16",value:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}},{key:"getInt32",value:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"getInt32Array",value:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getInt32());return t}},{key:"getUint32",value:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"getInt64",value:function(){var e,t;return(this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t)?(t=4294967295&~t,4294967295==(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e}},{key:"getInt64Array",value:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getInt64());return t}},{key:"getUint64",value:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e}},{key:"getFloat32",value:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}},{key:"getFloat32Array",value:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getFloat32());return t}},{key:"getFloat64",value:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}},{key:"getFloat64Array",value:function(e){for(var t=[],r=0;r<e;r++)t.push(this.getFloat64());return t}},{key:"getArrayBuffer",value:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}},{key:"getString",value:function(e){var t=this.offset,r=new Uint8Array(this.dv.buffer,t,e);this.skip(e);var n=r.indexOf(0);return n>=0&&(r=new Uint8Array(this.dv.buffer,t,n)),this._textDecoder.decode(r)}}]),ew=ec(function e(){eu(this,e)},[{key:"add",value:function(e,t){this[e]=t}}]);function eS(e){var t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function ex(e){return e/46186158e3}var eE=[];function eP(e,t,r,n){switch(n.mappingType){case"ByPolygonVertex":o=e;break;case"ByPolygon":o=t;break;case"ByVertice":o=r;break;case"AllSame":o=n.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+n.mappingType)}"IndexToDirect"===n.referenceType&&(o=n.indices[o]);var o,i=o*n.dataSize,a=i+n.dataSize;return function(e,t,r,n){for(var o=r,i=0;o<n;o++,i++)e[i]=t[o];return e}(eE,n.buffer,i,a)}var eO=new a.Euler,ek=new a.Vector3;function eA(e){var t=new a.Matrix4,r=new a.Matrix4,n=new a.Matrix4,o=new a.Matrix4,i=new a.Matrix4,l=new a.Matrix4,u=new a.Matrix4,s=new a.Matrix4,c=new a.Matrix4,f=new a.Matrix4,d=new a.Matrix4,p=new a.Matrix4,v=e.inheritType?e.inheritType:0;e.translation&&t.setPosition(ek.fromArray(e.translation));var h=eT(0);if(e.preRotation){var m=e.preRotation.map(a.MathUtils.degToRad);m.push(h),r.makeRotationFromEuler(eO.fromArray(m))}if(e.rotation){var y=e.rotation.map(a.MathUtils.degToRad);y.push(e.eulerOrder||h),n.makeRotationFromEuler(eO.fromArray(y))}if(e.postRotation){var g=e.postRotation.map(a.MathUtils.degToRad);g.push(h),o.makeRotationFromEuler(eO.fromArray(g)),o.invert()}e.scale&&i.scale(ek.fromArray(e.scale)),e.scalingOffset&&u.setPosition(ek.fromArray(e.scalingOffset)),e.scalingPivot&&l.setPosition(ek.fromArray(e.scalingPivot)),e.rotationOffset&&s.setPosition(ek.fromArray(e.rotationOffset)),e.rotationPivot&&c.setPosition(ek.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(d.copy(e.parentMatrix),f.copy(e.parentMatrixWorld));var b=r.clone().multiply(n).multiply(o),w=new a.Matrix4;w.extractRotation(f);var S=new a.Matrix4;S.copyPosition(f);var x=S.clone().invert().multiply(f),E=w.clone().invert().multiply(x),P=new a.Matrix4;if(0===v)P.copy(w).multiply(b).multiply(E).multiply(i);else if(1===v)P.copy(w).multiply(E).multiply(b).multiply(i);else{var O=new a.Matrix4().scale(new a.Vector3().setFromMatrixScale(d)).clone().invert(),k=E.clone().multiply(O);P.copy(w).multiply(b).multiply(k).multiply(i)}var A=c.clone().invert(),T=l.clone().invert(),C=t.clone().multiply(s).multiply(c).multiply(r).multiply(n).multiply(o).multiply(A).multiply(u).multiply(l).multiply(i).multiply(T),j=new a.Matrix4().copyPosition(C),M=f.clone().multiply(j);return p.copyPosition(M),(C=p.clone().multiply(P)).premultiply(f.invert()),C}function eT(e){return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),"ZYX"):["ZYX","YZX","XZY","ZXY","YXZ","XYZ"][e]}function eC(e){return e.split(",").map(function(e){return parseFloat(e)})}function ej(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=e.byteLength),new TextDecoder().decode(new Uint8Array(e,t,r))}},9856:function(e,t,r){r.d(t,{E:function(){return g}});var n=r(8138);function o(e,t){if(t===n.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t!==n.TriangleFanDrawMode&&t!==n.TriangleStripDrawMode)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e;var r=e.getIndex();if(null===r){var o=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)o.push(a);e.setIndex(o),r=e.getIndex()}var l=r.count-2,u=[];if(t===n.TriangleFanDrawMode)for(var s=1;s<=l;s++)u.push(r.getX(0)),u.push(r.getX(s)),u.push(r.getX(s+1));else for(var c=0;c<l;c++)c%2==0?(u.push(r.getX(c)),u.push(r.getX(c+1)),u.push(r.getX(c+2))):(u.push(r.getX(c+2)),u.push(r.getX(c+1)),u.push(r.getX(c)));u.length/3!==l&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var f=e.clone();return f.setIndex(u),f.clearGroups(),f}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||s(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n.key),n)}}function p(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t,r){return t=h(t),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){return!1}}()?t.apply(e,r):Reflect.construct(t,r||[],h(e).constructor))}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(e){var r;return f(this,t),(r=v(this,t,[e])).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register(function(e){return new P(e)}),r.register(function(e){return new O(e)}),r.register(function(e){return new _(e)}),r.register(function(e){return new L(e)}),r.register(function(e){return new N(e)}),r.register(function(e){return new A(e)}),r.register(function(e){return new T(e)}),r.register(function(e){return new C(e)}),r.register(function(e){return new j(e)}),r.register(function(e){return new E(e)}),r.register(function(e){return new M(e)}),r.register(function(e){return new k(e)}),r.register(function(e){return new I(e)}),r.register(function(e){return new R(e)}),r.register(function(e){return new S(e)}),r.register(function(e){return new D(e)}),r.register(function(e){return new z(e)}),r}return m(t,e),p(t,[{key:"load",value:function(e,t,r,o){var i,a=this;if(""!==this.resourcePath)i=this.resourcePath;else if(""!==this.path){var l=n.LoaderUtils.extractUrlBase(e);i=n.LoaderUtils.resolveURL(l,this.path)}else i=n.LoaderUtils.extractUrlBase(e);this.manager.itemStart(e);var u=function(t){o?o(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new n.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(r){try{a.parse(r,i,function(r){t(r),a.manager.itemEnd(e)},u)}catch(e){u(e)}},r,u)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return -1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return -1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,r,n){var o,i={},a={},l=new TextDecoder;if("string"==typeof e)o=JSON.parse(e);else if(e instanceof ArrayBuffer){if(l.decode(new Uint8Array(e,0,4))===F){try{i[w.KHR_BINARY_GLTF]=new U(e)}catch(e){n&&n(e);return}o=JSON.parse(i[w.KHR_BINARY_GLTF].content)}else o=JSON.parse(l.decode(e))}else o=e;if(void 0===o.asset||o.asset.version[0]<2){n&&n(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}var u=new eu(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(var s=0;s<this.pluginCallbacks.length;s++){var c=this.pluginCallbacks[s](u);c.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[c.name]=c,i[c.name]=!0}if(o.extensionsUsed)for(var f=0;f<o.extensionsUsed.length;++f){var d=o.extensionsUsed[f],p=o.extensionsRequired||[];switch(d){case w.KHR_MATERIALS_UNLIT:i[d]=new x;break;case w.KHR_DRACO_MESH_COMPRESSION:i[d]=new H(o,this.dracoLoader);break;case w.KHR_TEXTURE_TRANSFORM:i[d]=new V;break;case w.KHR_MESH_QUANTIZATION:i[d]=new G;break;default:p.indexOf(d)>=0&&void 0===a[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}u.setExtensions(i),u.setPlugins(a),u.parse(r,n)}},{key:"parseAsync",value:function(e,t){var r=this;return new Promise(function(n,o){r.parse(e,t,n,o)})}}])}(n.Loader);function b(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var w={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},S=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}},[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],r=0,n=t.length;r<n;r++){var o=t[r];o.extensions&&o.extensions[this.name]&&void 0!==o.extensions[this.name].light&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t,r=this.parser,o="light:"+e,i=r.cache.get(o);if(i)return i;var a=r.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],u=new n.Color(16777215);void 0!==l.color&&u.setRGB(l.color[0],l.color[1],l.color[2],n.LinearSRGBColorSpace);var s=void 0!==l.range?l.range:0;switch(l.type){case"directional":(t=new n.DirectionalLight(u)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new n.PointLight(u)).distance=s;break;case"spot":(t=new n.SpotLight(u)).distance=s,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,t.angle=l.spot.outerConeAngle,t.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return t.position.set(0,0,0),t.decay=2,eo(t,l),void 0!==l.intensity&&(t.intensity=l.intensity),t.name=r.createUniqueName(l.name||"light_"+e),i=Promise.resolve(t),r.cache.add(o,i),i}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,r=this.parser,n=r.json.nodes[e],o=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===o?null:this._loadLight(o).then(function(e){return r._getNodeRef(t.cache,o,e)})}}]),x=p(function e(){f(this,e),this.name=w.KHR_MATERIALS_UNLIT},[{key:"getMaterialType",value:function(){return n.MeshBasicMaterial}},{key:"extendParams",value:function(e,t,r){var o=[];e.color=new n.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],n.LinearSRGBColorSpace),e.opacity=a[3]}void 0!==i.baseColorTexture&&o.push(r.assignTexture(e,"map",i.baseColorTexture,n.SRGBColorSpace))}return Promise.all(o)}}]),E=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_EMISSIVE_STRENGTH},[{key:"extendMaterialParams",value:function(e,t){var r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var n=r.extensions[this.name].emissiveStrength;return void 0!==n&&(t.emissiveIntensity=n),Promise.resolve()}}]),P=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_CLEARCOAT},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();var i=[],a=o.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var l=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new n.Vector2(l,l)}return Promise.all(i)}}]),O=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_DISPERSION},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var n=r.extensions[this.name];return t.dispersion=void 0!==n.dispersion?n.dispersion:0,Promise.resolve()}}]),k=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_IRIDESCENCE},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var o=[],i=n.extensions[this.name];return void 0!==i.iridescenceFactor&&(t.iridescence=i.iridescenceFactor),void 0!==i.iridescenceTexture&&o.push(r.assignTexture(t,"iridescenceMap",i.iridescenceTexture)),void 0!==i.iridescenceIor&&(t.iridescenceIOR=i.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==i.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=i.iridescenceThicknessMinimum),void 0!==i.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=i.iridescenceThicknessMaximum),void 0!==i.iridescenceThicknessTexture&&o.push(r.assignTexture(t,"iridescenceThicknessMap",i.iridescenceThicknessTexture)),Promise.all(o)}}]),A=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_SHEEN},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new n.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=o.extensions[this.name];if(void 0!==a.sheenColorFactor){var l=a.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],n.LinearSRGBColorSpace)}return void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(r.assignTexture(t,"sheenColorMap",a.sheenColorTexture,n.SRGBColorSpace)),void 0!==a.sheenRoughnessTexture&&i.push(r.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),T=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_TRANSMISSION},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var o=[],i=n.extensions[this.name];return void 0!==i.transmissionFactor&&(t.transmission=i.transmissionFactor),void 0!==i.transmissionTexture&&o.push(r.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(o)}}]),C=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_VOLUME},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();var i=[],a=o.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(r.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var l=a.attenuationColor||[1,1,1];return t.attenuationColor=new n.Color().setRGB(l[0],l[1],l[2],n.LinearSRGBColorSpace),Promise.all(i)}}]),j=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_IOR},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var n=r.extensions[this.name];return t.ior=void 0!==n.ior?n.ior:1.5,Promise.resolve()}}]),M=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_SPECULAR},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();var i=[],a=o.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(r.assignTexture(t,"specularIntensityMap",a.specularTexture));var l=a.specularColorFactor||[1,1,1];return t.specularColor=new n.Color().setRGB(l[0],l[1],l[2],n.LinearSRGBColorSpace),void 0!==a.specularColorTexture&&i.push(r.assignTexture(t,"specularColorMap",a.specularColorTexture,n.SRGBColorSpace)),Promise.all(i)}}]),R=p(function e(t){f(this,e),this.parser=t,this.name=w.EXT_MATERIALS_BUMP},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var o=[],i=n.extensions[this.name];return t.bumpScale=void 0!==i.bumpFactor?i.bumpFactor:1,void 0!==i.bumpTexture&&o.push(r.assignTexture(t,"bumpMap",i.bumpTexture)),Promise.all(o)}}]),I=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_MATERIALS_ANISOTROPY},[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?n.MeshPhysicalMaterial:null}},{key:"extendMaterialParams",value:function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var o=[],i=n.extensions[this.name];return void 0!==i.anisotropyStrength&&(t.anisotropy=i.anisotropyStrength),void 0!==i.anisotropyRotation&&(t.anisotropyRotation=i.anisotropyRotation),void 0!==i.anisotropyTexture&&o.push(r.assignTexture(t,"anisotropyMap",i.anisotropyTexture)),Promise.all(o)}}]),_=p(function e(t){f(this,e),this.parser=t,this.name=w.KHR_TEXTURE_BASISU},[{key:"loadTexture",value:function(e){var t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;var o=n.extensions[this.name],i=t.options.ktx2Loader;if(!i){if(!(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return t.loadTextureImage(e,o.source,i)}}]),L=p(function e(t){f(this,e),this.parser=t,this.name=w.EXT_TEXTURE_WEBP,this.isSupported=null},[{key:"loadTexture",value:function(e){var t=this.name,r=this.parser,n=r.json,o=n.textures[e];if(!o.extensions||!o.extensions[t])return null;var i=o.extensions[t],a=n.images[i.source],l=r.textureLoader;if(a.uri){var u=r.options.manager.getHandler(a.uri);null!==u&&(l=u)}return this.detectSupport().then(function(o){if(o)return r.loadTextureImage(e,i.source,l);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise(function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}]),N=p(function e(t){f(this,e),this.parser=t,this.name=w.EXT_TEXTURE_AVIF,this.isSupported=null},[{key:"loadTexture",value:function(e){var t=this.name,r=this.parser,n=r.json,o=n.textures[e];if(!o.extensions||!o.extensions[t])return null;var i=o.extensions[t],a=n.images[i.source],l=r.textureLoader;if(a.uri){var u=r.options.manager.getHandler(a.uri);null!==u&&(l=u)}return this.detectSupport().then(function(o){if(o)return r.loadTextureImage(e,i.source,l);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise(function(e){var t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}]),D=p(function e(t){f(this,e),this.name=w.EXT_MESHOPT_COMPRESSION,this.parser=t},[{key:"loadBufferView",value:function(e){var t=this.parser.json,r=t.bufferViews[e];if(!r.extensions||!r.extensions[this.name])return null;var n=r.extensions[this.name],o=this.parser.getDependency("buffer",n.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(!(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0))return null;throw Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return o.then(function(e){var t=n.byteOffset||0,r=n.byteLength||0,o=n.count,a=n.byteStride,l=new Uint8Array(e,t,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(o,a,l,n.mode,n.filter).then(function(e){return e.buffer}):i.ready.then(function(){var e=new ArrayBuffer(o*a);return i.decodeGltfBuffer(new Uint8Array(e),o,a,l,n.mode,n.filter),e})})}}]),z=p(function e(t){f(this,e),this.name=w.EXT_MESH_GPU_INSTANCING,this.parser=t},[{key:"createNodeMesh",value:function(e){var t=this,r=this.parser.json,o=r.nodes[e];if(!o.extensions||!o.extensions[this.name]||void 0===o.mesh)return null;var i,a=u(r.meshes[o.mesh].primitives);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(l.mode!==q.TRIANGLES&&l.mode!==q.TRIANGLE_STRIP&&l.mode!==q.TRIANGLE_FAN&&void 0!==l.mode)return null}}catch(e){a.e(e)}finally{a.f()}var s=o.extensions[this.name].attributes,c=[],f={},d=function(e){c.push(t.parser.getDependency("accessor",s[e]).then(function(t){return f[e]=t,f[e]}))};for(var p in s)d(p);return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then(function(e){var r,o=e.pop(),i=o.isGroup?o.children:[o],a=e[0].count,l=[],s=u(i);try{for(s.s();!(r=s.n()).done;){for(var c=r.value,d=new n.Matrix4,p=new n.Vector3,v=new n.Quaternion,h=new n.Vector3(1,1,1),m=new n.InstancedMesh(c.geometry,c.material,a),y=0;y<a;y++)f.TRANSLATION&&p.fromBufferAttribute(f.TRANSLATION,y),f.ROTATION&&v.fromBufferAttribute(f.ROTATION,y),f.SCALE&&h.fromBufferAttribute(f.SCALE,y),m.setMatrixAt(y,d.compose(p,v,h));for(var g in f)if("_COLOR_0"===g){var b=f[g];m.instanceColor=new n.InstancedBufferAttribute(b.array,b.itemSize,b.normalized)}else"TRANSLATION"!==g&&"ROTATION"!==g&&"SCALE"!==g&&c.geometry.setAttribute(g,f[g]);n.Object3D.prototype.copy.call(m,c),t.parser.assignFinalMaterial(m),l.push(m)}}catch(e){s.e(e)}finally{s.f()}return o.isGroup?(o.clear(),o.add.apply(o,l),o):l[0]}))}}]),F="glTF",B={JSON:1313821514,BIN:5130562},U=p(function e(t){f(this,e),this.name=w.KHR_BINARY_GLTF,this.content=null,this.body=null;var r=new DataView(t,0,12),n=new TextDecoder;if(this.header={magic:n.decode(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==F)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");for(var o=this.header.length-12,i=new DataView(t,12),a=0;a<o;){var l=i.getUint32(a,!0);a+=4;var u=i.getUint32(a,!0);if(a+=4,u===B.JSON){var s=new Uint8Array(t,12+a,l);this.content=n.decode(s)}else if(u===B.BIN){var c=12+a;this.body=t.slice(c,c+l)}a+=l}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}),H=p(function e(t,r){if(f(this,e),!r)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=w.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=r,this.dracoLoader.preload()},[{key:"decodePrimitive",value:function(e,t){var r=this.json,o=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},u={},s={};for(var c in a)l[J[c]||c.toLowerCase()]=a[c];for(var f in e.attributes){var d=J[f]||f.toLowerCase();if(void 0!==a[f]){var p=r.accessors[e.attributes[f]],v=Q[p.componentType];s[d]=v.name,u[d]=!0===p.normalized}}return t.getDependency("bufferView",i).then(function(e){return new Promise(function(t,r){o.decodeDracoFile(e,function(e){for(var r in e.attributes){var n=e.attributes[r],o=u[r];void 0!==o&&(n.normalized=o)}t(e)},l,s,n.LinearSRGBColorSpace,r)})})}}]),V=p(function e(){f(this,e),this.name=w.KHR_TEXTURE_TRANSFORM},[{key:"extendTexture",value:function(e,t){return(void 0===t.texCoord||t.texCoord===e.channel)&&void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.texCoord&&(e.channel=t.texCoord),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),G=p(function e(){f(this,e),this.name=w.KHR_MESH_QUANTIZATION}),W=function(e){function t(e,r,n,o){return f(this,t),v(this,t,[e,r,n,o])}return m(t,e),p(t,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,o=e*n*3+n,i=0;i!==n;i++)t[i]=r[o+i];return t}},{key:"interpolate_",value:function(e,t,r,n){for(var o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,l=2*a,u=3*a,s=n-t,c=(r-t)/s,f=c*c,d=f*c,p=e*u,v=p-u,h=-2*d+3*f,m=d-f,y=1-h,g=m-f+c,b=0;b!==a;b++){var w=i[v+b+a],S=i[v+b+l]*s,x=i[p+b+a],E=i[p+b]*s;o[b]=y*w+g*S+h*x+m*E}return o}}])}(n.Interpolant),K=new n.Quaternion,X=function(e){function t(){return f(this,t),v(this,t,arguments)}return m(t,e),p(t,[{key:"interpolate_",value:function(e,r,n,o){var i=l(h(t.prototype),"interpolate_",this).call(this,e,r,n,o);return K.fromArray(i).normalize().toArray(i),i}}])}(W),q={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Q={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},$={9728:n.NearestFilter,9729:n.LinearFilter,9984:n.NearestMipmapNearestFilter,9985:n.LinearMipmapNearestFilter,9986:n.NearestMipmapLinearFilter,9987:n.LinearMipmapLinearFilter},Z={33071:n.ClampToEdgeWrapping,33648:n.MirroredRepeatWrapping,10497:n.RepeatWrapping},Y={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},J={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ee={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},et={CUBICSPLINE:void 0,LINEAR:n.InterpolateLinear,STEP:n.InterpolateDiscrete},er={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function en(e,t,r){for(var n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function eo(e,t){void 0!==t.extras&&("object"===a(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function ei(e){for(var t="",r=Object.keys(e).sort(),n=0,o=r.length;n<o;n++)t+=r[n]+":"+e[r[n]]+";";return t}function ea(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var el=new n.Matrix4,eu=p(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,e),this.json=t,this.extensions={},this.plugins={},this.options=r,this.cache=new b,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var o=!1,i=-1,a=!1,l=-1;if("undefined"!=typeof navigator){var u=navigator.userAgent;o=!0===/^((?!chrome|android).)*safari/i.test(u);var s=u.match(/Version\/(\d+)/);i=o&&s?parseInt(s[1],10):-1,l=(a=u.indexOf("Firefox")>-1)?u.match(/Firefox\/([0-9]+)\./)[1]:-1}"undefined"==typeof createImageBitmap||o&&i<17||a&&l<98?this.textureLoader=new n.TextureLoader(this.options.manager):this.textureLoader=new n.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new n.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)},[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var r=this,n=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(e){return e._markDefs&&e._markDefs()}),Promise.all(this._invokeAll(function(e){return e.beforeRoot&&e.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(t){var i={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};return en(o,i,n),eo(i,n),Promise.all(r._invokeAll(function(e){return e.afterRoot&&e.afterRoot(i)})).then(function(){var t,r=u(i.scenes);try{for(r.s();!(t=r.n()).done;)t.value.updateMatrixWorld()}catch(e){r.e(e)}finally{r.f()}e(i)})}).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n=0,o=t.length;n<o;n++)for(var i=t[n].joints,a=0,l=i.length;a<l;a++)e[i[a]].isBone=!0;for(var u=0,s=e.length;u<s;u++){var c=e[u];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(r[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,r){var n=this;if(e.refs[t]<=1)return r;var o=r.clone(),a=function(e,t){var r=n.associations.get(e);null!=r&&n.associations.set(t,r);var o,l=u(e.children.entries());try{for(l.s();!(o=l.n()).done;){var s=i(o.value,2),c=s[0],f=s[1];a(f,t.children[c])}}catch(e){l.e(e)}finally{l.f()}};return a(r,o),o.name+="_instance_"+e.uses[t]++,o}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var r=0;r<t.length;r++){var n=e(t[r]);if(n)return n}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var r=[],n=0;n<t.length;n++){var o=e(t[n]);o&&r.push(o)}return r}},{key:"getDependency",value:function(e,t){var r=e+":"+t,n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne(function(e){return e.loadNode&&e.loadNode(t)});break;case"mesh":n=this._invokeOne(function(e){return e.loadMesh&&e.loadMesh(t)});break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne(function(e){return e.loadBufferView&&e.loadBufferView(t)});break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne(function(e){return e.loadMaterial&&e.loadMaterial(t)});break;case"texture":n=this._invokeOne(function(e){return e.loadTexture&&e.loadTexture(t)});break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne(function(e){return e.loadAnimation&&e.loadAnimation(t)});break;case"camera":n=this.loadCamera(t);break;default:if(!(n=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(e,t)})))throw Error("Unknown type: "+e)}this.cache.add(r,n)}return n}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var r=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(t,n){return r.getDependency(e,n)})),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[w.KHR_BINARY_GLTF].body);var o=this.options;return new Promise(function(e,i){r.load(n.LoaderUtils.resolveURL(t.uri,o.path),e,void 0,function(){i(Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)})}},{key:"loadAccessor",value:function(e){var t=this,r=this.json,o=this.json.accessors[e];if(void 0===o.bufferView&&void 0===o.sparse){var i=Y[o.type],a=Q[o.componentType],l=!0===o.normalized,u=new a(o.count*i);return Promise.resolve(new n.BufferAttribute(u,i,l))}var s=[];return void 0!==o.bufferView?s.push(this.getDependency("bufferView",o.bufferView)):s.push(null),void 0!==o.sparse&&(s.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(s).then(function(e){var i,a,l=e[0],u=Y[o.type],s=Q[o.componentType],c=s.BYTES_PER_ELEMENT,f=c*u,d=o.byteOffset||0,p=void 0!==o.bufferView?r.bufferViews[o.bufferView].byteStride:void 0,v=!0===o.normalized;if(p&&p!==f){var h=Math.floor(d/p),m="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+h+":"+o.count,y=t.cache.get(m);y||(i=new s(l,h*p,o.count*p/c),y=new n.InterleavedBuffer(i,p/c),t.cache.add(m,y)),a=new n.InterleavedBufferAttribute(y,u,d%p/c,v)}else i=null===l?new s(o.count*u):new s(l,d,o.count*u),a=new n.BufferAttribute(i,u,v);if(void 0!==o.sparse){var g=Y.SCALAR,b=Q[o.sparse.indices.componentType],w=o.sparse.indices.byteOffset||0,S=o.sparse.values.byteOffset||0,x=new b(e[1],w,o.sparse.count*g),E=new s(e[2],S,o.sparse.count*u);null!==l&&(a=new n.BufferAttribute(a.array.slice(),a.itemSize,a.normalized)),a.normalized=!1;for(var P=0,O=x.length;P<O;P++){var k=x[P];if(a.setX(k,E[P*u]),u>=2&&a.setY(k,E[P*u+1]),u>=3&&a.setZ(k,E[P*u+2]),u>=4&&a.setW(k,E[P*u+3]),u>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}a.normalized=v}return a})}},{key:"loadTexture",value:function(e){var t=this.json,r=this.options,n=t.textures[e].source,o=t.images[n],i=this.textureLoader;if(o.uri){var a=r.manager.getHandler(o.uri);null!==a&&(i=a)}return this.loadTextureImage(e,n,i)}},{key:"loadTextureImage",value:function(e,t,r){var o=this,i=this.json,a=i.textures[e],l=i.images[t],u=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[u])return this.textureCache[u];var s=this.loadImageSource(t,r).then(function(t){t.flipY=!1,t.name=a.name||l.name||"",""===t.name&&"string"==typeof l.uri&&!1===l.uri.startsWith("data:image/")&&(t.name=l.uri);var r=(i.samplers||{})[a.sampler]||{};return t.magFilter=$[r.magFilter]||n.LinearFilter,t.minFilter=$[r.minFilter]||n.LinearMipmapLinearFilter,t.wrapS=Z[r.wrapS]||n.RepeatWrapping,t.wrapT=Z[r.wrapT]||n.RepeatWrapping,t.generateMipmaps=!t.isCompressedTexture&&t.minFilter!==n.NearestFilter&&t.minFilter!==n.LinearFilter,o.associations.set(t,{textures:e}),t}).catch(function(){return null});return this.textureCache[u]=s,s}},{key:"loadImageSource",value:function(e,t){var r=this.json,o=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(function(e){return e.clone()});var i=r.images[e],a=self.URL||self.webkitURL,l=i.uri||"",u=!1;if(void 0!==i.bufferView)l=this.getDependency("bufferView",i.bufferView).then(function(e){u=!0;var t=new Blob([e],{type:i.mimeType});return l=a.createObjectURL(t)});else if(void 0===i.uri)throw Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var s=Promise.resolve(l).then(function(e){return new Promise(function(r,i){var a=r;!0===t.isImageBitmapLoader&&(a=function(e){var t=new n.Texture(e);t.needsUpdate=!0,r(t)}),t.load(n.LoaderUtils.resolveURL(e,o.path),a,void 0,i)})}).then(function(e){var t;return!0===u&&a.revokeObjectURL(l),eo(e,i),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":t.search(/\.ktx2($|\?)/i)>0||0===t.search(/^data\:image\/ktx2/)?"image/ktx2":"image/png"),e}).catch(function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),e});return this.sourceCache[e]=s,s}},{key:"assignTexture",value:function(e,t,r,n){var o=this;return this.getDependency("texture",r.index).then(function(i){if(!i)return null;if(void 0!==r.texCoord&&r.texCoord>0&&((i=i.clone()).channel=r.texCoord),o.extensions[w.KHR_TEXTURE_TRANSFORM]){var a=void 0!==r.extensions?r.extensions[w.KHR_TEXTURE_TRANSFORM]:void 0;if(a){var l=o.associations.get(i);i=o.extensions[w.KHR_TEXTURE_TRANSFORM].extendTexture(i,a),o.associations.set(i,l)}}return void 0!==n&&(i.colorSpace=n),e[t]=i,i})}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,r=e.material,o=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var l="PointsMaterial:"+r.uuid,u=this.cache.get(l);u||(u=new n.PointsMaterial,n.Material.prototype.copy.call(u,r),u.color.copy(r.color),u.map=r.map,u.sizeAttenuation=!1,this.cache.add(l,u)),r=u}else if(e.isLine){var s="LineBasicMaterial:"+r.uuid,c=this.cache.get(s);c||(c=new n.LineBasicMaterial,n.Material.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,this.cache.add(s,c)),r=c}if(o||i||a){var f="ClonedMaterial:"+r.uuid+":";o&&(f+="derivative-tangents:"),i&&(f+="vertex-colors:"),a&&(f+="flat-shading:");var d=this.cache.get(f);d||(d=r.clone(),i&&(d.vertexColors=!0),a&&(d.flatShading=!0),o&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(f,d),this.associations.set(d,this.associations.get(r))),r=d}e.material=r}},{key:"getMaterialType",value:function(){return n.MeshStandardMaterial}},{key:"loadMaterial",value:function(e){var t,r=this,o=this.json,i=this.extensions,a=o.materials[e],l={},u=a.extensions||{},s=[];if(u[w.KHR_MATERIALS_UNLIT]){var c=i[w.KHR_MATERIALS_UNLIT];t=c.getMaterialType(),s.push(c.extendParams(l,a,r))}else{var f=a.pbrMetallicRoughness||{};if(l.color=new n.Color(1,1,1),l.opacity=1,Array.isArray(f.baseColorFactor)){var d=f.baseColorFactor;l.color.setRGB(d[0],d[1],d[2],n.LinearSRGBColorSpace),l.opacity=d[3]}void 0!==f.baseColorTexture&&s.push(r.assignTexture(l,"map",f.baseColorTexture,n.SRGBColorSpace)),l.metalness=void 0!==f.metallicFactor?f.metallicFactor:1,l.roughness=void 0!==f.roughnessFactor?f.roughnessFactor:1,void 0!==f.metallicRoughnessTexture&&(s.push(r.assignTexture(l,"metalnessMap",f.metallicRoughnessTexture)),s.push(r.assignTexture(l,"roughnessMap",f.metallicRoughnessTexture))),t=this._invokeOne(function(t){return t.getMaterialType&&t.getMaterialType(e)}),s.push(Promise.all(this._invokeAll(function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,l)})))}!0===a.doubleSided&&(l.side=n.DoubleSide);var p=a.alphaMode||er.OPAQUE;if(p===er.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,p===er.MASK&&(l.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==n.MeshBasicMaterial&&(s.push(r.assignTexture(l,"normalMap",a.normalTexture)),l.normalScale=new n.Vector2(1,1),void 0!==a.normalTexture.scale)){var v=a.normalTexture.scale;l.normalScale.set(v,v)}if(void 0!==a.occlusionTexture&&t!==n.MeshBasicMaterial&&(s.push(r.assignTexture(l,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(l.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==n.MeshBasicMaterial){var h=a.emissiveFactor;l.emissive=new n.Color().setRGB(h[0],h[1],h[2],n.LinearSRGBColorSpace)}return void 0!==a.emissiveTexture&&t!==n.MeshBasicMaterial&&s.push(r.assignTexture(l,"emissiveMap",a.emissiveTexture,n.SRGBColorSpace)),Promise.all(s).then(function(){var n=new t(l);return a.name&&(n.name=a.name),eo(n,a),r.associations.set(n,{materials:e}),a.extensions&&en(i,n,a),n})}},{key:"createUniqueName",value:function(e){var t=n.PropertyBinding.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}},{key:"loadGeometries",value:function(e){for(var t=this,r=this.extensions,o=this.primitiveCache,i=[],a=0,l=e.length;a<l;a++){var u=e[a],s=function(e){var t,r=e.extensions&&e.extensions[w.KHR_DRACO_MESH_COMPRESSION];if(t=r?"draco:"+r.bufferView+":"+r.indices+":"+ei(r.attributes):e.indices+":"+ei(e.attributes)+":"+e.mode,void 0!==e.targets)for(var n=0,o=e.targets.length;n<o;n++)t+=":"+ei(e.targets[n]);return t}(u),c=o[s];if(c)i.push(c.promise);else{var f=void 0;f=u.extensions&&u.extensions[w.KHR_DRACO_MESH_COMPRESSION]?function(e){return r[w.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then(function(r){return es(r,e,t)})}(u):es(new n.BufferGeometry,u,t),o[s]={primitive:u,promise:f},i.push(f)}}return Promise.all(i)}},{key:"loadMesh",value:function(e){for(var t=this,r=this.json,i=this.extensions,a=r.meshes[e],l=a.primitives,u=[],s=0,c=l.length;s<c;s++){var f,d=void 0===l[s].material?(void 0===(f=this.cache).DefaultMaterial&&(f.DefaultMaterial=new n.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:n.FrontSide})),f.DefaultMaterial):this.getDependency("material",l[s].material);u.push(d)}return u.push(t.loadGeometries(l)),Promise.all(u).then(function(r){for(var u=r.slice(0,r.length-1),s=r[r.length-1],c=[],f=0,d=s.length;f<d;f++){var p=s[f],v=l[f],h=void 0,m=u[f];if(v.mode===q.TRIANGLES||v.mode===q.TRIANGLE_STRIP||v.mode===q.TRIANGLE_FAN||void 0===v.mode)!0===(h=!0===a.isSkinnedMesh?new n.SkinnedMesh(p,m):new n.Mesh(p,m)).isSkinnedMesh&&h.normalizeSkinWeights(),v.mode===q.TRIANGLE_STRIP?h.geometry=o(h.geometry,n.TriangleStripDrawMode):v.mode===q.TRIANGLE_FAN&&(h.geometry=o(h.geometry,n.TriangleFanDrawMode));else if(v.mode===q.LINES)h=new n.LineSegments(p,m);else if(v.mode===q.LINE_STRIP)h=new n.Line(p,m);else if(v.mode===q.LINE_LOOP)h=new n.LineLoop(p,m);else if(v.mode===q.POINTS)h=new n.Points(p,m);else throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(h.geometry.morphAttributes).length>0&&function(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var o=t.extras.targetNames;if(e.morphTargetInfluences.length===o.length){e.morphTargetDictionary={};for(var i=0,a=o.length;i<a;i++)e.morphTargetDictionary[o[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}(h,a),h.name=t.createUniqueName(a.name||"mesh_"+e),eo(h,a),v.extensions&&en(i,h,v),t.assignFinalMaterial(h),c.push(h)}for(var y=0,g=c.length;y<g;y++)t.associations.set(c[y],{meshes:e,primitives:y});if(1===c.length)return a.extensions&&en(i,c[0],a),c[0];var b=new n.Group;a.extensions&&en(i,b,a),t.associations.set(b,{meshes:e});for(var w=0,S=c.length;w<S;w++)b.add(c[w]);return b})}},{key:"loadCamera",value:function(e){var t,r=this.json.cameras[e],o=r[r.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===r.type?t=new n.PerspectiveCamera(n.MathUtils.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):"orthographic"===r.type&&(t=new n.OrthographicCamera(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),eo(t,r),Promise.resolve(t)}},{key:"loadSkin",value:function(e){for(var t=this.json.skins[e],r=[],o=0,i=t.joints.length;o<i;o++)r.push(this._loadNodeShallow(t.joints[o]));return void 0!==t.inverseBindMatrices?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(e){for(var r=e.pop(),o=[],i=[],a=0,l=e.length;a<l;a++){var u=e[a];if(u){o.push(u);var s=new n.Matrix4;null!==r&&s.fromArray(r.array,16*a),i.push(s)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}return new n.Skeleton(o,i)})}},{key:"loadAnimation",value:function(e){for(var t=this.json,r=this,o=t.animations[e],i=o.name?o.name:"animation_"+e,a=[],l=[],u=[],s=[],c=[],f=0,d=o.channels.length;f<d;f++){var p=o.channels[f],v=o.samplers[p.sampler],h=p.target,m=h.node,y=void 0!==o.parameters?o.parameters[v.input]:v.input,g=void 0!==o.parameters?o.parameters[v.output]:v.output;void 0!==h.node&&(a.push(this.getDependency("node",m)),l.push(this.getDependency("accessor",y)),u.push(this.getDependency("accessor",g)),s.push(v),c.push(h))}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(s),Promise.all(c)]).then(function(e){for(var t=e[0],o=e[1],a=e[2],l=e[3],u=e[4],s=[],c=0,f=t.length;c<f;c++){var d=t[c],p=o[c],v=a[c],h=l[c],m=u[c];if(void 0!==d){d.updateMatrix&&d.updateMatrix();var y=r._createAnimationTracks(d,p,v,h,m);if(y)for(var g=0;g<y.length;g++)s.push(y[g])}}return new n.AnimationClip(i,void 0,s)})}},{key:"createNodeMesh",value:function(e){var t=this.json,r=this,n=t.nodes[e];return void 0===n.mesh?null:r.getDependency("mesh",n.mesh).then(function(e){var t=r._getNodeRef(r.meshCache,n.mesh,e);return void 0!==n.weights&&t.traverse(function(e){if(e.isMesh)for(var t=0,r=n.weights.length;t<r;t++)e.morphTargetInfluences[t]=n.weights[t]}),t})}},{key:"loadNode",value:function(e){for(var t=this.json,r=t.nodes[e],n=this._loadNodeShallow(e),o=[],i=r.children||[],a=0,l=i.length;a<l;a++)o.push(this.getDependency("node",i[a]));var u=void 0===r.skin?Promise.resolve(null):this.getDependency("skin",r.skin);return Promise.all([n,Promise.all(o),u]).then(function(e){var t=e[0],r=e[1],n=e[2];null!==n&&t.traverse(function(e){e.isSkinnedMesh&&e.bind(n,el)});for(var o=0,i=r.length;o<i;o++)t.add(r[o]);return t})}},{key:"_loadNodeShallow",value:function(e){var t=this.json,r=this.extensions,o=this;if(void 0!==this.nodeCache[e])return this.nodeCache[e];var i=t.nodes[e],a=i.name?o.createUniqueName(i.name):"",l=[],u=o._invokeOne(function(t){return t.createNodeMesh&&t.createNodeMesh(e)});return u&&l.push(u),void 0!==i.camera&&l.push(o.getDependency("camera",i.camera).then(function(e){return o._getNodeRef(o.cameraCache,i.camera,e)})),o._invokeAll(function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)}).forEach(function(e){l.push(e)}),this.nodeCache[e]=Promise.all(l).then(function(t){var l;if((l=!0===i.isBone?new n.Bone:t.length>1?new n.Group:1===t.length?t[0]:new n.Object3D)!==t[0])for(var u=0,s=t.length;u<s;u++)l.add(t[u]);if(i.name&&(l.userData.name=i.name,l.name=a),eo(l,i),i.extensions&&en(r,l,i),void 0!==i.matrix){var c=new n.Matrix4;c.fromArray(i.matrix),l.applyMatrix4(c)}else void 0!==i.translation&&l.position.fromArray(i.translation),void 0!==i.rotation&&l.quaternion.fromArray(i.rotation),void 0!==i.scale&&l.scale.fromArray(i.scale);return o.associations.has(l)||o.associations.set(l,{}),o.associations.get(l).nodes=e,l}),this.nodeCache[e]}},{key:"loadScene",value:function(e){var t=this.extensions,r=this.json.scenes[e],o=this,a=new n.Group;r.name&&(a.name=o.createUniqueName(r.name)),eo(a,r),r.extensions&&en(t,a,r);for(var l=r.nodes||[],s=[],c=0,f=l.length;c<f;c++)s.push(o.getDependency("node",l[c]));return Promise.all(s).then(function(e){for(var t=0,r=e.length;t<r;t++)a.add(e[t]);return o.associations=function(e){var t,r=new Map,a=u(o.associations);try{for(a.s();!(t=a.n()).done;){var l=i(t.value,2),s=l[0],c=l[1];(s instanceof n.Material||s instanceof n.Texture)&&r.set(s,c)}}catch(e){a.e(e)}finally{a.f()}return e.traverse(function(e){var t=o.associations.get(e);null!=t&&r.set(e,t)}),r}(a),a})}},{key:"_createAnimationTracks",value:function(e,t,r,o,i){var a,l=[],u=e.name?e.name:e.uuid,s=[];switch(ee[i.path]===ee.weights?e.traverse(function(e){e.morphTargetInfluences&&s.push(e.name?e.name:e.uuid)}):s.push(u),ee[i.path]){case ee.weights:a=n.NumberKeyframeTrack;break;case ee.rotation:a=n.QuaternionKeyframeTrack;break;case ee.position:case ee.scale:a=n.VectorKeyframeTrack;break;default:a=1===r.itemSize?n.NumberKeyframeTrack:n.VectorKeyframeTrack}for(var c=void 0!==o.interpolation?et[o.interpolation]:n.InterpolateLinear,f=this._getArrayFromAccessor(r),d=0,p=s.length;d<p;d++){var v=new a(s[d]+"."+ee[i.path],t.array,f,c);"CUBICSPLINE"===o.interpolation&&this._createCubicSplineTrackInterpolant(v),l.push(v)}return l}},{key:"_getArrayFromAccessor",value:function(e){var t=e.array;if(e.normalized){for(var r=ea(t.constructor),n=new Float32Array(t.length),o=0,i=t.length;o<i;o++)n[o]=t[o]*r;t=n}return t}},{key:"_createCubicSplineTrackInterpolant",value:function(e){e.createInterpolant=function(e){return new(this instanceof n.QuaternionKeyframeTrack?X:W)(this.times,this.values,this.getValueSize()/3,e)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}]);function es(e,t,r){var o=t.attributes,i=[];for(var a in o){var l=J[a]||a.toLowerCase();l in e.attributes||i.push(function(t,n){return r.getDependency("accessor",t).then(function(t){e.setAttribute(n,t)})}(o[a],l))}if(void 0!==t.indices&&!e.index){var u=r.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});i.push(u)}return n.ColorManagement.workingColorSpace!==n.LinearSRGBColorSpace&&"COLOR_0"in o&&console.warn('THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "'.concat(n.ColorManagement.workingColorSpace,'" not supported.')),eo(e,t),!function(e,t,r){var o=t.attributes,i=new n.Box3;if(void 0!==o.POSITION){var a=r.json.accessors[o.POSITION],l=a.min,u=a.max;if(void 0!==l&&void 0!==u){if(i.set(new n.Vector3(l[0],l[1],l[2]),new n.Vector3(u[0],u[1],u[2])),a.normalized){var s=ea(Q[a.componentType]);i.min.multiplyScalar(s),i.max.multiplyScalar(s)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}var c=t.targets;if(void 0!==c){for(var f=new n.Vector3,d=new n.Vector3,p=0,v=c.length;p<v;p++){var h=c[p];if(void 0!==h.POSITION){var m=r.json.accessors[h.POSITION],y=m.min,g=m.max;if(void 0!==y&&void 0!==g){if(d.setX(Math.max(Math.abs(y[0]),Math.abs(g[0]))),d.setY(Math.max(Math.abs(y[1]),Math.abs(g[1]))),d.setZ(Math.max(Math.abs(y[2]),Math.abs(g[2]))),m.normalized){var b=ea(Q[m.componentType]);d.multiplyScalar(b)}f.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(f)}e.boundingBox=i;var w=new n.Sphere;i.getCenter(w.center),w.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=w}}(e,t,r),Promise.all(i).then(function(){return void 0!==t.targets?function(e,t,r){for(var n=!1,o=!1,i=!1,a=0,l=t.length;a<l;a++){var u=t[a];if(void 0!==u.POSITION&&(n=!0),void 0!==u.NORMAL&&(o=!0),void 0!==u.COLOR_0&&(i=!0),n&&o&&i)break}if(!n&&!o&&!i)return Promise.resolve(e);for(var s=[],c=[],f=[],d=0,p=t.length;d<p;d++){var v=t[d];if(n){var h=void 0!==v.POSITION?r.getDependency("accessor",v.POSITION):e.attributes.position;s.push(h)}if(o){var m=void 0!==v.NORMAL?r.getDependency("accessor",v.NORMAL):e.attributes.normal;c.push(m)}if(i){var y=void 0!==v.COLOR_0?r.getDependency("accessor",v.COLOR_0):e.attributes.color;f.push(y)}}return Promise.all([Promise.all(s),Promise.all(c),Promise.all(f)]).then(function(t){var r=t[0],a=t[1],l=t[2];return n&&(e.morphAttributes.position=r),o&&(e.morphAttributes.normal=a),i&&(e.morphAttributes.color=l),e.morphTargetsRelative=!0,e})}(e,t.targets,r):e})}}}]);